{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"abi-to-mcp","text":"<p>Generate AI-ready interfaces for any smart contract in seconds.</p> <p>abi-to-mcp converts Ethereum smart contract ABIs into Model Context Protocol (MCP) servers, enabling AI assistants like Claude to interact with DeFi protocols, NFTs, tokens, and any on-chain contract.</p> <ul> <li> <p> Zero to MCP in 30 Seconds</p> <p>One command generates a complete, production-ready server:</p> <pre><code>abi-to-mcp generate 0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48 -n mainnet\n</code></pre> <p> Quickstart</p> </li> <li> <p> Safety First</p> <p>Write operations simulate by default. You explicitly opt-in to real transactions.</p> <p> Safety features</p> </li> <li> <p> 10+ Networks</p> <p>Ethereum, Polygon, Arbitrum, Optimism, Base, BSC, Avalanche, and more.</p> <p> Supported networks</p> </li> <li> <p> Python API</p> <p>Programmatic access for custom workflows and integrations.</p> <p> API reference</p> </li> </ul>"},{"location":"#what-is-mcp","title":"What is MCP?","text":"<p>The Model Context Protocol (MCP) is a standard for connecting AI assistants to external tools and data sources. When you generate an MCP server from a smart contract ABI, Claude can:</p> <ul> <li>Query token balances, allowances, and contract state</li> <li>Inspect NFT metadata and ownership</li> <li>Simulate transactions before execution</li> <li>Execute transfers, swaps, and other operations (with your approval)</li> </ul>"},{"location":"#quick-example","title":"Quick Example","text":"<p>Here's what it looks like to use a generated MCP server with Claude:</p> <p>You: What's the USDC balance of vitalik.eth?</p> <p>Claude: I'll check the USDC balance for vitalik.eth.</p> <p>Using <code>balance_of</code> tool with address <code>0xd8dA6BF26964aF9D7eEd9e03E53415D37aA96045</code>...</p> <p>The balance is 2,547.32 USDC.</p>"},{"location":"#installation","title":"Installation","text":"pippipxFrom source <pre><code>pip install abi-to-mcp\n</code></pre> <pre><code>pipx install abi-to-mcp\n</code></pre> <pre><code>git clone https://github.com/nirholas/UCAI.git\ncd ABI-to-MCP\npip install -e .\n</code></pre>"},{"location":"#supported-contract-types","title":"Supported Contract Types","text":"<p>abi-to-mcp works with any EVM smart contract, with special support for common standards:</p> Standard Auto-Detection Features ERC-20 \u2705 Yes Token transfers, approvals, balance queries ERC-721 \u2705 Yes NFT ownership, metadata, safe transfers ERC-1155 \u2705 Yes Multi-token operations, batch transfers ERC-4626 \u2705 Yes Vault deposits, withdrawals, share calculations Custom \u2705 Yes All functions and events exposed as tools"},{"location":"#how-it-works","title":"How It Works","text":"<pre><code>graph LR\n    A[Smart Contract ABI] --&gt; B[abi-to-mcp]\n    B --&gt; C[MCP Server]\n    C --&gt; D[Claude Desktop]\n    D --&gt; E[Blockchain]\n\n    style A fill:#627EEA,color:#fff\n    style B fill:#9C27B0,color:#fff\n    style C fill:#4CAF50,color:#fff\n    style D fill:#FF9800,color:#fff\n    style E fill:#627EEA,color:#fff</code></pre> <ol> <li>Fetch - Retrieve the ABI from Etherscan, Sourcify, or a local file</li> <li>Parse - Analyze functions, events, and types</li> <li>Map - Convert Solidity types to JSON Schema and Python types</li> <li>Generate - Create a complete MCP server with all tools and resources</li> <li>Run - Start the server and connect it to Claude Desktop</li> </ol>"},{"location":"#next-steps","title":"Next Steps","text":"<ul> <li> <p> Getting Started</p> <p>Install and generate your first MCP server in 5 minutes.</p> </li> <li> <p> CLI Reference</p> <p>Complete documentation for all commands.</p> </li> <li> <p> Guides</p> <p>Step-by-step tutorials for common use cases.</p> </li> <li> <p> Python API</p> <p>Integrate abi-to-mcp into your own applications.</p> </li> </ul>"},{"location":"#community","title":"Community","text":"<ul> <li>GitHub Issues: Report bugs or request features</li> <li>Discussions: Ask questions and share ideas</li> <li>Contributing: Help improve abi-to-mcp</li> </ul>"},{"location":"changelog/","title":"Changelog","text":"<p>All notable changes to abi-to-mcp will be documented in this file.</p> <p>The format is based on Keep a Changelog, and this project adheres to Semantic Versioning.</p>"},{"location":"changelog/#unreleased","title":"[Unreleased]","text":""},{"location":"changelog/#added","title":"Added","text":"<ul> <li>Initial release of abi-to-mcp</li> <li>CLI commands: <code>generate</code>, <code>inspect</code>, <code>validate</code>, <code>serve</code></li> <li>ABI fetching from files, Etherscan, and Sourcify</li> <li>Support for ERC20, ERC721, ERC1155 standard detection</li> <li>Complete Solidity to JSON Schema type mapping</li> <li>MCP server generation with tools and resources</li> <li>Transaction simulation by default</li> <li>Multi-network support (Ethereum, Polygon, Arbitrum, Optimism, Base, BSC)</li> <li>Proxy contract detection and resolution</li> <li>Comprehensive documentation</li> </ul>"},{"location":"changelog/#security","title":"Security","text":"<ul> <li>Private keys only loaded from environment variables</li> <li>Simulation-by-default for all write operations</li> <li>Read-only mode option for maximum safety</li> </ul>"},{"location":"changelog/#010-2024-xx-xx","title":"[0.1.0] - 2024-XX-XX","text":""},{"location":"changelog/#added_1","title":"Added","text":"<ul> <li>Initial public release</li> </ul>"},{"location":"changelog/#version-numbering","title":"Version Numbering","text":"<ul> <li>MAJOR: Breaking changes to CLI or API</li> <li>MINOR: New features, backward compatible</li> <li>PATCH: Bug fixes, backward compatible</li> </ul>"},{"location":"changelog/#upgrade-guide","title":"Upgrade Guide","text":""},{"location":"changelog/#from-pre-release-to-010","title":"From Pre-release to 0.1.0","text":"<p>No breaking changes expected. Simply upgrade:</p> <pre><code>pip install --upgrade abi-to-mcp\n</code></pre>"},{"location":"changelog/#links","title":"Links","text":"<ul> <li>GitHub Releases</li> <li>PyPI</li> </ul>"},{"location":"api/","title":"API Reference","text":"<p>This section provides detailed documentation for using abi-to-mcp as a Python library.</p>"},{"location":"api/#overview","title":"Overview","text":"<p>abi-to-mcp can be used programmatically for:</p> <ul> <li>Custom ABI processing pipelines</li> <li>Integration into build tools</li> <li>Dynamic server generation</li> <li>Testing and validation</li> </ul>"},{"location":"api/#module-structure","title":"Module Structure","text":"<pre><code>abi_to_mcp/\n\u251c\u2500\u2500 parser/      # ABI parsing\n\u251c\u2500\u2500 fetchers/    # ABI retrieval\n\u251c\u2500\u2500 mapper/      # Type mapping\n\u251c\u2500\u2500 generator/   # Code generation\n\u2514\u2500\u2500 runtime/     # Execution utilities\n</code></pre>"},{"location":"api/#quick-reference","title":"Quick Reference","text":"<ul> <li> <p> Parser</p> <p>Parse ABI JSON into structured Python objects.</p> <p> Parser API</p> </li> <li> <p> Fetchers</p> <p>Retrieve ABIs from files, Etherscan, or Sourcify.</p> <p> Fetchers API</p> </li> <li> <p> Mapper</p> <p>Convert Solidity types to JSON Schema.</p> <p> Mapper API</p> </li> <li> <p> Generator</p> <p>Generate MCP server code from parsed ABIs.</p> <p> Generator API</p> </li> <li> <p> Runtime</p> <p>Web3 client and transaction utilities.</p> <p> Runtime API</p> </li> </ul>"},{"location":"api/#basic-usage","title":"Basic Usage","text":"<pre><code>from abi_to_mcp.parser import ABIParser\nfrom abi_to_mcp.mapper import TypeMapper, FunctionMapper\nfrom abi_to_mcp.generator import MCPGenerator\n\n# Parse ABI\nparser = ABIParser()\nparsed = parser.parse(abi_json)\n\n# Map to MCP tools\ntype_mapper = TypeMapper()\nfunc_mapper = FunctionMapper(type_mapper)\ntools = [func_mapper.map_function(f) for f in parsed.functions]\n\n# Generate server\ngenerator = MCPGenerator()\nserver = generator.generate(\n    parsed=parsed,\n    tools=tools,\n    contract_address=\"0x...\",\n    network=\"mainnet\"\n)\n\n# Write files\nfor file in server.files:\n    Path(file.path).write_text(file.content)\n</code></pre>"},{"location":"api/#installation-for-development","title":"Installation for Development","text":"<pre><code>pip install abi-to-mcp[dev]\n</code></pre> <p>This includes type stubs and development dependencies.</p>"},{"location":"api/fetchers/","title":"Fetchers API","text":"<p>The fetchers module retrieves ABIs from various sources.</p>"},{"location":"api/fetchers/#module-abi_to_mcpfetchers","title":"Module: <code>abi_to_mcp.fetchers</code>","text":""},{"location":"api/fetchers/#fetcherregistry","title":"FetcherRegistry","text":"<p>Registry that selects appropriate fetcher for a source.</p> <pre><code>from abi_to_mcp.fetchers import create_default_registry\n\nregistry = create_default_registry()\nresult = await registry.fetch(\"0x...\")\n</code></pre>"},{"location":"api/fetchers/#functions","title":"Functions","text":""},{"location":"api/fetchers/#create_default_registryapi_keysnone-fetcherregistry","title":"<code>create_default_registry(api_keys=None) -&gt; FetcherRegistry</code>","text":"<p>Create registry with all default fetchers.</p> <pre><code># Without API keys (uses environment variables)\nregistry = create_default_registry()\n\n# With explicit API keys\nregistry = create_default_registry({\n    \"etherscan\": \"YOUR-ETHERSCAN-KEY\",\n    \"polygonscan\": \"YOUR-POLYGONSCAN-KEY\"\n})\n</code></pre>"},{"location":"api/fetchers/#methods","title":"Methods","text":""},{"location":"api/fetchers/#registerfetcher-abifetcher-none","title":"<code>register(fetcher: ABIFetcher) -&gt; None</code>","text":"<p>Register a custom fetcher.</p> <pre><code>registry = create_default_registry()\nregistry.register(MyCustomFetcher())\n</code></pre>"},{"location":"api/fetchers/#get_fetchersource-str-optionalabifetcher","title":"<code>get_fetcher(source: str) -&gt; Optional[ABIFetcher]</code>","text":"<p>Get first fetcher that can handle the source.</p> <pre><code>fetcher = registry.get_fetcher(\"./abi.json\")\n# Returns: FileFetcher\n\nfetcher = registry.get_fetcher(\"0xA0b8...\")\n# Returns: EtherscanFetcher\n</code></pre>"},{"location":"api/fetchers/#async-fetchsource-str-kwargs-fetchresult","title":"<code>async fetch(source: str, **kwargs) -&gt; FetchResult</code>","text":"<p>Fetch from appropriate source with auto-detection.</p> <pre><code># From file\nresult = await registry.fetch(\"./abi.json\")\n\n# From Etherscan\nresult = await registry.fetch(\n    \"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\",\n    network=\"mainnet\"\n)\n\n# From Sourcify\nresult = await registry.fetch(\n    \"0x...\",\n    chain_id=137,\n    prefer_sourcify=True\n)\n</code></pre>"},{"location":"api/fetchers/#filefetcher","title":"FileFetcher","text":"<p>Fetch ABI from local JSON files.</p> <pre><code>from abi_to_mcp.fetchers import FileFetcher\n\nfetcher = FileFetcher()\nresult = await fetcher.fetch(\"./abi.json\")\n</code></pre>"},{"location":"api/fetchers/#methods_1","title":"Methods","text":""},{"location":"api/fetchers/#async-fetchsource-str-kwargs-fetchresult_1","title":"<code>async fetch(source: str, **kwargs) -&gt; FetchResult</code>","text":"<p>Load ABI from local file.</p> <p>Supports multiple formats:</p> <pre><code># Plain ABI array\n# [{\"type\": \"function\", ...}]\nresult = await fetcher.fetch(\"./plain-abi.json\")\n\n# Hardhat/Truffle artifact\n# {\"abi\": [...], \"contractName\": \"...\"}\nresult = await fetcher.fetch(\"./artifact.json\")\n\n# Foundry output\n# {\"abi\": [...], \"bytecode\": {...}}\nresult = await fetcher.fetch(\"./out/Contract.json\")\n</code></pre>"},{"location":"api/fetchers/#can_handlesource-str-bool","title":"<code>can_handle(source: str) -&gt; bool</code>","text":"<p>Check if source is a local file path.</p> <pre><code>fetcher.can_handle(\"./abi.json\")  # True\nfetcher.can_handle(\"/path/to/abi.json\")  # True\nfetcher.can_handle(\"0x...\")  # False\n</code></pre>"},{"location":"api/fetchers/#etherscanfetcher","title":"EtherscanFetcher","text":"<p>Fetch ABI from Etherscan-compatible APIs.</p> <pre><code>from abi_to_mcp.fetchers import EtherscanFetcher\n\nfetcher = EtherscanFetcher(api_key=\"YOUR-KEY\")\nresult = await fetcher.fetch(\"0x...\", network=\"mainnet\")\n</code></pre>"},{"location":"api/fetchers/#constructor","title":"Constructor","text":"<pre><code>EtherscanFetcher(api_key: Optional[str] = None)\n</code></pre> <p>If no key provided, checks environment variables: - <code>ETHERSCAN_API_KEY</code> for mainnet - <code>POLYGONSCAN_API_KEY</code> for Polygon - etc.</p>"},{"location":"api/fetchers/#methods_2","title":"Methods","text":""},{"location":"api/fetchers/#async-fetchsource-str-network-str-mainnet-kwargs-fetchresult","title":"<code>async fetch(source: str, network: str = \"mainnet\", **kwargs) -&gt; FetchResult</code>","text":"<p>Fetch ABI from Etherscan API.</p> <pre><code># Mainnet\nresult = await fetcher.fetch(\n    \"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\",\n    network=\"mainnet\"\n)\n\n# Polygon\nresult = await fetcher.fetch(\n    \"0x...\",\n    network=\"polygon\"\n)\n\n# With proxy detection\nresult = await fetcher.fetch(\n    \"0x...\",\n    network=\"mainnet\",\n    resolve_proxy=True  # Default\n)\n</code></pre> <p>Supported Networks:</p> Network API Domain <code>mainnet</code> api.etherscan.io <code>goerli</code> api-goerli.etherscan.io <code>sepolia</code> api-sepolia.etherscan.io <code>polygon</code> api.polygonscan.com <code>arbitrum</code> api.arbiscan.io <code>optimism</code> api-optimistic.etherscan.io <code>base</code> api.basescan.org <code>bsc</code> api.bscscan.com"},{"location":"api/fetchers/#async-_detect_proxyaddress-str-network-str-optionalstr","title":"<code>async _detect_proxy(address: str, network: str) -&gt; Optional[str]</code>","text":"<p>Detect if address is a proxy and return implementation.</p> <pre><code>impl = await fetcher._detect_proxy(\n    \"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\",\n    \"mainnet\"\n)\nif impl:\n    print(f\"Proxy implementation: {impl}\")\n</code></pre> <p>Detects: - EIP-1967 storage slots - EIP-1822 (UUPS) - OpenZeppelin TransparentProxy - Minimal proxy (EIP-1167)</p>"},{"location":"api/fetchers/#sourcifyfetcher","title":"SourcifyFetcher","text":"<p>Fetch ABI from Sourcify.</p> <pre><code>from abi_to_mcp.fetchers import SourcifyFetcher\n\nfetcher = SourcifyFetcher()\nresult = await fetcher.fetch(\"0x...\", chain_id=1)\n</code></pre>"},{"location":"api/fetchers/#methods_3","title":"Methods","text":""},{"location":"api/fetchers/#async-fetchsource-str-chain_id-int-1-kwargs-fetchresult","title":"<code>async fetch(source: str, chain_id: int = 1, **kwargs) -&gt; FetchResult</code>","text":"<p>Fetch ABI from Sourcify.</p> <pre><code>result = await fetcher.fetch(\n    \"0x1234...\",\n    chain_id=1  # Ethereum mainnet\n)\n\n# Result includes source code if available\nif result.source_code:\n    print(result.source_code)\n</code></pre> <p>Tries in order: 1. Full match (source code verified) 2. Partial match (bytecode verified)</p>"},{"location":"api/fetchers/#data-classes","title":"Data Classes","text":""},{"location":"api/fetchers/#fetchresult","title":"FetchResult","text":"<p>Result from fetching an ABI.</p> <pre><code>@dataclass\nclass FetchResult:\n    abi: List[Dict[str, Any]]\n    source: str  # \"file\", \"etherscan\", \"sourcify\"\n    contract_name: Optional[str] = None\n    compiler_version: Optional[str] = None\n    source_code: Optional[str] = None\n    is_proxy: bool = False\n    implementation_address: Optional[str] = None\n</code></pre>"},{"location":"api/fetchers/#examples","title":"Examples","text":""},{"location":"api/fetchers/#fetch-with-fallback","title":"Fetch with Fallback","text":"<pre><code>from abi_to_mcp.fetchers import (\n    EtherscanFetcher,\n    SourcifyFetcher,\n    ABINotFoundError\n)\n\nasync def fetch_with_fallback(address: str, network: str):\n    # Try Etherscan first\n    try:\n        fetcher = EtherscanFetcher()\n        return await fetcher.fetch(address, network=network)\n    except ABINotFoundError:\n        pass\n\n    # Fall back to Sourcify\n    chain_id = get_chain_id(network)\n    fetcher = SourcifyFetcher()\n    return await fetcher.fetch(address, chain_id=chain_id)\n</code></pre>"},{"location":"api/fetchers/#custom-fetcher","title":"Custom Fetcher","text":"<pre><code>from abi_to_mcp.fetchers import ABIFetcher, FetchResult\n\nclass IPFSFetcher(ABIFetcher):\n    \"\"\"Fetch ABI from IPFS.\"\"\"\n\n    async def fetch(self, source: str, **kwargs) -&gt; FetchResult:\n        # source is IPFS CID\n        url = f\"https://ipfs.io/ipfs/{source}\"\n        async with httpx.AsyncClient() as client:\n            response = await client.get(url)\n            abi = response.json()\n\n        return FetchResult(\n            abi=abi,\n            source=\"ipfs\"\n        )\n\n    def can_handle(self, source: str) -&gt; bool:\n        return source.startswith(\"Qm\") or source.startswith(\"bafy\")\n\n# Register\nregistry = create_default_registry()\nregistry.register(IPFSFetcher())\n</code></pre>"},{"location":"api/generator/","title":"Generator API","text":"<p>The generator module produces MCP server code from parsed ABIs.</p>"},{"location":"api/generator/#module-abi_to_mcpgenerator","title":"Module: <code>abi_to_mcp.generator</code>","text":""},{"location":"api/generator/#mcpgenerator","title":"MCPGenerator","text":"<p>Main generator that orchestrates server generation.</p> <pre><code>from abi_to_mcp.generator import MCPGenerator\n\ngenerator = MCPGenerator()\nserver = generator.generate(\n    parsed=parsed_abi,\n    tools=mapped_tools,\n    resources=mapped_resources,\n    contract_address=\"0x...\",\n    network=\"mainnet\"\n)\n</code></pre>"},{"location":"api/generator/#constructor","title":"Constructor","text":"<pre><code>MCPGenerator(config: Optional[GeneratorConfig] = None)\n</code></pre>"},{"location":"api/generator/#methods","title":"Methods","text":""},{"location":"api/generator/#generate-generatedserver","title":"<code>generate(...) -&gt; GeneratedServer</code>","text":"<p>Generate a complete MCP server package.</p> <pre><code>server = generator.generate(\n    parsed=parsed_abi,\n    tools=mapped_tools,\n    resources=mapped_resources,\n    contract_address=\"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\",\n    network=\"mainnet\",\n    contract_name=\"USDC Token\",\n    output_dir=\"./my-server\",\n    read_only=False,\n    simulation_default=True\n)\n\n# Write files\nfor file in server.files:\n    path = Path(server.output_dir) / file.path\n    path.parent.mkdir(parents=True, exist_ok=True)\n    path.write_text(file.content)\n</code></pre> <p>Parameters:</p> Name Type Description <code>parsed</code> <code>ParsedABI</code> Parsed ABI object <code>tools</code> <code>List[MappedTool]</code> Mapped tool definitions <code>resources</code> <code>List[MappedResource]</code> Mapped resource definitions <code>contract_address</code> <code>str</code> Contract address <code>network</code> <code>str</code> Network name <code>contract_name</code> <code>Optional[str]</code> Human-readable name <code>output_dir</code> <code>str</code> Output directory <code>read_only</code> <code>bool</code> Exclude write tools <code>simulation_default</code> <code>bool</code> Default for simulate param <p>Returns: <code>GeneratedServer</code> with all generated files</p>"},{"location":"api/generator/#toolgenerator","title":"ToolGenerator","text":"<p>Generate MCP tool code from mapped functions.</p> <pre><code>from abi_to_mcp.generator import ToolGenerator\n\ntool_gen = ToolGenerator(jinja_env)\ncode = tool_gen.generate_tool(mapped_tool)\n</code></pre>"},{"location":"api/generator/#methods_1","title":"Methods","text":""},{"location":"api/generator/#generate_tooltool-mappedtool-str","title":"<code>generate_tool(tool: MappedTool) -&gt; str</code>","text":"<p>Generate Python code for a single MCP tool.</p> <pre><code>code = tool_gen.generate_tool(tool)\n# Returns Python code as string\n</code></pre>"},{"location":"api/generator/#generate_all_toolstools-listmappedtool-str","title":"<code>generate_all_tools(tools: List[MappedTool]) -&gt; str</code>","text":"<p>Generate all tools as a single code block.</p> <pre><code>code = tool_gen.generate_all_tools(tools)\n</code></pre> <p>Generated Code Structure:</p> <pre><code>@mcp.tool()\nasync def balance_of(account: str) -&gt; str:\n    \"\"\"\n    Get the token balance for an account.\n\n    This is a read-only operation that does not require gas.\n\n    Args:\n        account: The address to check balance for (0x...)\n\n    Returns:\n        The token balance as a string (wei)\n    \"\"\"\n    result = await contract.functions.balanceOf(\n        Web3.to_checksum_address(account)\n    ).call()\n    return str(result)\n</code></pre>"},{"location":"api/generator/#resourcegenerator","title":"ResourceGenerator","text":"<p>Generate MCP resource code from mapped events.</p> <pre><code>from abi_to_mcp.generator import ResourceGenerator\n\nresource_gen = ResourceGenerator(jinja_env)\ncode = resource_gen.generate_resource(mapped_resource)\n</code></pre>"},{"location":"api/generator/#methods_2","title":"Methods","text":""},{"location":"api/generator/#generate_resourceresource-mappedresource-str","title":"<code>generate_resource(resource: MappedResource) -&gt; str</code>","text":"<p>Generate Python code for a single MCP resource.</p> <pre><code>code = resource_gen.generate_resource(resource)\n</code></pre>"},{"location":"api/generator/#generate_all_resourcesresources-listmappedresource-str","title":"<code>generate_all_resources(resources: List[MappedResource]) -&gt; str</code>","text":"<p>Generate all resources as a single code block.</p> <pre><code>code = resource_gen.generate_all_resources(resources)\n</code></pre> <p>Generated Code Structure:</p> <pre><code>@mcp.resource(\"events://transfer\")\nasync def get_transfer_events(\n    from_address: Optional[str] = None,\n    to_address: Optional[str] = None,\n    from_block: Optional[int] = None,\n    to_block: Optional[int] = None,\n    limit: int = 100\n) -&gt; List[Dict[str, Any]]:\n    \"\"\"Query Transfer events from the contract.\"\"\"\n    ...\n</code></pre>"},{"location":"api/generator/#servergenerator","title":"ServerGenerator","text":"<p>Generate complete server files.</p> <pre><code>from abi_to_mcp.generator import ServerGenerator\n\nserver_gen = ServerGenerator(config)\nfiles = server_gen.generate_all(...)\n</code></pre>"},{"location":"api/generator/#generated-files","title":"Generated Files","text":"File Description <code>server.py</code> Main MCP server with all tools and resources <code>config.py</code> Configuration loading <code>README.md</code> Documentation <code>pyproject.toml</code> Package configuration <code>requirements.txt</code> Dependencies <code>.env.example</code> Environment template"},{"location":"api/generator/#data-classes","title":"Data Classes","text":""},{"location":"api/generator/#generatorconfig","title":"GeneratorConfig","text":"<p>Configuration for code generation.</p> <pre><code>@dataclass\nclass GeneratorConfig:\n    template_dir: Optional[Path] = None  # Custom templates\n    include_type_hints: bool = True\n    include_docstrings: bool = True\n    simulation_default: bool = True\n    read_only: bool = False\n</code></pre>"},{"location":"api/generator/#generatedserver","title":"GeneratedServer","text":"<p>Complete generated server.</p> <pre><code>@dataclass\nclass GeneratedServer:\n    files: List[GeneratedFile]\n    output_dir: str\n    server_name: str\n    contract_address: str\n    network: str\n</code></pre>"},{"location":"api/generator/#generatedfile","title":"GeneratedFile","text":"<p>Single generated file.</p> <pre><code>@dataclass\nclass GeneratedFile:\n    path: str      # Relative path\n    content: str   # File content\n</code></pre>"},{"location":"api/generator/#templates","title":"Templates","text":"<p>Templates use Jinja2 syntax and are located in <code>generator/templates/</code>.</p>"},{"location":"api/generator/#custom-templates","title":"Custom Templates","text":"<p>Override default templates:</p> <pre><code>from pathlib import Path\nfrom abi_to_mcp.generator import MCPGenerator, GeneratorConfig\n\nconfig = GeneratorConfig(\n    template_dir=Path(\"./my-templates\")\n)\n\ngenerator = MCPGenerator(config)\n</code></pre>"},{"location":"api/generator/#template-variables","title":"Template Variables","text":"<p>Available in all templates:</p> Variable Type Description <code>server_name</code> <code>str</code> Human-readable name <code>contract_address</code> <code>str</code> Contract address <code>network</code> <code>str</code> Network name <code>chain_id</code> <code>int</code> Chain ID <code>read_tools</code> <code>List[MappedTool]</code> Read-only tools <code>write_tools</code> <code>List[MappedTool]</code> Write tools <code>resources</code> <code>List[MappedResource]</code> Event resources <code>detected_standard</code> <code>Optional[str]</code> ERC standard"},{"location":"api/generator/#examples","title":"Examples","text":""},{"location":"api/generator/#generate-read-only-server","title":"Generate Read-Only Server","text":"<pre><code>from abi_to_mcp.generator import MCPGenerator, GeneratorConfig\n\nconfig = GeneratorConfig(read_only=True)\ngenerator = MCPGenerator(config)\n\nserver = generator.generate(\n    parsed=parsed_abi,\n    tools=[t for t in tools if t.tool_type == \"read\"],\n    resources=resources,\n    contract_address=\"0x...\",\n    network=\"mainnet\"\n)\n</code></pre>"},{"location":"api/generator/#custom-code-generation","title":"Custom Code Generation","text":"<pre><code>from abi_to_mcp.generator import ToolGenerator\nfrom jinja2 import Environment, FileSystemLoader\n\n# Custom template\ncustom_template = \"\"\"\n@mcp.tool(name=\"{{ tool.name }}\")\nasync def {{ tool.name }}({{ tool.python_signature }}):\n    \\\"\\\"\\\"{{ tool.description }}\\\"\\\"\\\"\n    # Custom implementation\n    pass\n\"\"\"\n\nenv = Environment()\nenv.from_string(custom_template)\n\ntool_gen = ToolGenerator(env)\n</code></pre>"},{"location":"api/generator/#post-processing","title":"Post-Processing","text":"<pre><code>import black\n\nserver = generator.generate(...)\n\n# Format with Black\nfor file in server.files:\n    if file.path.endswith(\".py\"):\n        file.content = black.format_str(\n            file.content,\n            mode=black.Mode()\n        )\n</code></pre>"},{"location":"api/mapper/","title":"Mapper API","text":"<p>The mapper module converts parsed ABI elements to MCP-compatible definitions.</p>"},{"location":"api/mapper/#module-abi_to_mcpmapper","title":"Module: <code>abi_to_mcp.mapper</code>","text":""},{"location":"api/mapper/#typemapper","title":"TypeMapper","text":"<p>Map Solidity types to JSON Schema.</p> <pre><code>from abi_to_mcp.mapper import TypeMapper\n\nmapper = TypeMapper()\nschema = mapper.to_json_schema(parsed_type)\n</code></pre>"},{"location":"api/mapper/#methods","title":"Methods","text":""},{"location":"api/mapper/#parse_typetype_str-str-parsedtype","title":"<code>parse_type(type_str: str) -&gt; ParsedType</code>","text":"<p>Parse a Solidity type string.</p> <pre><code>parsed = mapper.parse_type(\"uint256[]\")\nprint(parsed.base_type)   # \"uint256\"\nprint(parsed.is_array)    # True\nprint(parsed.array_size)  # None\n</code></pre>"},{"location":"api/mapper/#to_json_schemaparsed_type-parsedtype-dict","title":"<code>to_json_schema(parsed_type: ParsedType) -&gt; Dict</code>","text":"<p>Convert parsed type to JSON Schema.</p> <pre><code># Simple types\nschema = mapper.to_json_schema(mapper.parse_type(\"address\"))\n# {\"type\": \"string\", \"pattern\": \"^0x[a-fA-F0-9]{40}$\"}\n\nschema = mapper.to_json_schema(mapper.parse_type(\"uint256\"))\n# {\"type\": \"string\", \"pattern\": \"^[0-9]+$\"}\n\nschema = mapper.to_json_schema(mapper.parse_type(\"bool\"))\n# {\"type\": \"boolean\"}\n\n# Arrays\nschema = mapper.to_json_schema(mapper.parse_type(\"address[]\"))\n# {\"type\": \"array\", \"items\": {\"type\": \"string\", \"pattern\": \"...\"}}\n\n# Fixed arrays\nschema = mapper.to_json_schema(mapper.parse_type(\"bytes32[10]\"))\n# {\"type\": \"array\", \"items\": {...}, \"minItems\": 10, \"maxItems\": 10}\n</code></pre>"},{"location":"api/mapper/#to_python_typetype_str-str-str","title":"<code>to_python_type(type_str: str) -&gt; str</code>","text":"<p>Get Python type hint for Solidity type.</p> <pre><code>mapper.to_python_type(\"address\")   # \"str\"\nmapper.to_python_type(\"uint256\")   # \"str\"\nmapper.to_python_type(\"bool\")      # \"bool\"\nmapper.to_python_type(\"bytes\")     # \"str\"\nmapper.to_python_type(\"address[]\") # \"List[str]\"\nmapper.to_python_type(\"tuple\")     # \"Dict[str, Any]\"\n</code></pre>"},{"location":"api/mapper/#map_componentscomponents-listabiparameter-dict","title":"<code>map_components(components: List[ABIParameter]) -&gt; Dict</code>","text":"<p>Map tuple components to JSON Schema object.</p> <pre><code>components = [\n    ABIParameter(name=\"tokenIn\", type=\"address\"),\n    ABIParameter(name=\"amount\", type=\"uint256\"),\n]\n\nschema = mapper.map_components(components)\n# {\n#   \"type\": \"object\",\n#   \"properties\": {\n#     \"tokenIn\": {\"type\": \"string\", \"pattern\": \"...\"},\n#     \"amount\": {\"type\": \"string\", \"pattern\": \"...\"}\n#   },\n#   \"required\": [\"tokenIn\", \"amount\"]\n# }\n</code></pre>"},{"location":"api/mapper/#functionmapper","title":"FunctionMapper","text":"<p>Map ABIFunction to MCP tool definitions.</p> <pre><code>from abi_to_mcp.mapper import FunctionMapper, TypeMapper\n\ntype_mapper = TypeMapper()\nfunc_mapper = FunctionMapper(type_mapper)\n\ntool = func_mapper.map_function(abi_function)\n</code></pre>"},{"location":"api/mapper/#constructor","title":"Constructor","text":"<pre><code>FunctionMapper(type_mapper: TypeMapper)\n</code></pre>"},{"location":"api/mapper/#methods_1","title":"Methods","text":""},{"location":"api/mapper/#map_functionfunc-abifunction-mappedtool","title":"<code>map_function(func: ABIFunction) -&gt; MappedTool</code>","text":"<p>Convert ABIFunction to MappedTool.</p> <pre><code>func = ABIFunction(\n    name=\"transferFrom\",\n    inputs=[\n        ABIParameter(name=\"from\", type=\"address\"),\n        ABIParameter(name=\"to\", type=\"address\"),\n        ABIParameter(name=\"amount\", type=\"uint256\"),\n    ],\n    outputs=[ABIParameter(name=\"\", type=\"bool\")],\n    state_mutability=StateMutability.NONPAYABLE,\n)\n\ntool = func_mapper.map_function(func)\n\nprint(tool.name)           # \"transfer_from\"\nprint(tool.original_name)  # \"transferFrom\"\nprint(tool.tool_type)      # \"write\"\nprint(tool.parameters)     # [{\"name\": \"from_\", ...}, ...]\n</code></pre>"},{"location":"api/mapper/#generate_descriptionfunc-abifunction-str","title":"<code>generate_description(func: ABIFunction) -&gt; str</code>","text":"<p>Generate LLM-friendly description.</p> <pre><code>desc = func_mapper.generate_description(func)\n# \"Transfer tokens from one address to another.\n#  This operation modifies blockchain state and requires gas.\n#  \n#  Parameters:\n#  - from: Source address\n#  - to: Destination address  \n#  - amount: Amount to transfer (in wei)\"\n</code></pre>"},{"location":"api/mapper/#to_python_signaturefunc-abifunction-tool-mappedtool-str","title":"<code>to_python_signature(func: ABIFunction, tool: MappedTool) -&gt; str</code>","text":"<p>Generate Python function signature.</p> <pre><code>sig = func_mapper.to_python_signature(func, tool)\n# \"async def transfer_from(from_: str, to: str, amount: str, simulate: bool = True) -&gt; Dict[str, Any]\"\n</code></pre>"},{"location":"api/mapper/#eventmapper","title":"EventMapper","text":"<p>Map ABIEvent to MCP resource definitions.</p> <pre><code>from abi_to_mcp.mapper import EventMapper, TypeMapper\n\ntype_mapper = TypeMapper()\nevent_mapper = EventMapper(type_mapper)\n\nresource = event_mapper.map_event(abi_event)\n</code></pre>"},{"location":"api/mapper/#methods_2","title":"Methods","text":""},{"location":"api/mapper/#map_eventevent-abievent-mappedresource","title":"<code>map_event(event: ABIEvent) -&gt; MappedResource</code>","text":"<p>Convert ABIEvent to MappedResource.</p> <pre><code>event = ABIEvent(\n    name=\"Transfer\",\n    inputs=[\n        ABIParameter(name=\"from\", type=\"address\", indexed=True),\n        ABIParameter(name=\"to\", type=\"address\", indexed=True),\n        ABIParameter(name=\"value\", type=\"uint256\", indexed=False),\n    ]\n)\n\nresource = event_mapper.map_event(event)\n\nprint(resource.name)          # \"transfer\"\nprint(resource.uri_template)  # \"events://transfer\"\nprint(resource.fields)        # [{\"name\": \"from\", ...}, ...]\n</code></pre>"},{"location":"api/mapper/#schemabuilder","title":"SchemaBuilder","text":"<p>Build complete JSON Schemas for tools and resources.</p> <pre><code>from abi_to_mcp.mapper import SchemaBuilder\n\nbuilder = SchemaBuilder()\nschema = builder.build_tool_schema(tool)\n</code></pre>"},{"location":"api/mapper/#methods_3","title":"Methods","text":""},{"location":"api/mapper/#build_tool_schematool-mappedtool-dict","title":"<code>build_tool_schema(tool: MappedTool) -&gt; Dict</code>","text":"<p>Build complete input schema for a tool.</p> <pre><code>schema = builder.build_tool_schema(tool)\n# {\n#   \"type\": \"object\",\n#   \"properties\": {...},\n#   \"required\": [...]\n# }\n</code></pre>"},{"location":"api/mapper/#build_resource_schemaresource-mappedresource-dict","title":"<code>build_resource_schema(resource: MappedResource) -&gt; Dict</code>","text":"<p>Build schema for resource data.</p> <pre><code>schema = builder.build_resource_schema(resource)\n</code></pre>"},{"location":"api/mapper/#data-classes","title":"Data Classes","text":""},{"location":"api/mapper/#mappedtool","title":"MappedTool","text":"<p>Function mapped to MCP tool definition.</p> <pre><code>@dataclass\nclass MappedTool:\n    name: str              # snake_case tool name\n    original_name: str     # Original Solidity function name\n    description: str       # LLM-friendly description\n    tool_type: str         # \"read\", \"write\", \"write_payable\"\n    parameters: List[Dict[str, Any]]  # JSON Schema properties\n    required_params: List[str]\n    return_schema: Dict[str, Any]\n    python_signature: str  # For code generation\n</code></pre>"},{"location":"api/mapper/#mappedresource","title":"MappedResource","text":"<p>Event mapped to MCP resource definition.</p> <pre><code>@dataclass\nclass MappedResource:\n    name: str              # snake_case resource name\n    original_name: str     # Original event name\n    description: str       # LLM-friendly description\n    uri_template: str      # e.g., \"events://transfer\"\n    fields: List[Dict[str, Any]]  # Field definitions\n</code></pre>"},{"location":"api/mapper/#examples","title":"Examples","text":""},{"location":"api/mapper/#map-all-functions","title":"Map All Functions","text":"<pre><code>from abi_to_mcp.parser import ABIParser\nfrom abi_to_mcp.mapper import TypeMapper, FunctionMapper\n\nparser = ABIParser()\nparsed = parser.parse(abi_json)\n\ntype_mapper = TypeMapper()\nfunc_mapper = FunctionMapper(type_mapper)\n\ntools = []\nfor func in parsed.functions:\n    tool = func_mapper.map_function(func)\n    tools.append(tool)\n\n# Separate by type\nread_tools = [t for t in tools if t.tool_type == \"read\"]\nwrite_tools = [t for t in tools if t.tool_type == \"write\"]\npayable_tools = [t for t in tools if t.tool_type == \"write_payable\"]\n</code></pre>"},{"location":"api/mapper/#custom-type-mapping","title":"Custom Type Mapping","text":"<pre><code>from abi_to_mcp.mapper import TypeMapper\n\nclass CustomTypeMapper(TypeMapper):\n    \"\"\"Custom mapper with additional types.\"\"\"\n\n    def to_json_schema(self, parsed_type) -&gt; dict:\n        # Custom handling for specific types\n        if parsed_type.base_type == \"uint256\":\n            return {\n                \"type\": \"string\",\n                \"pattern\": \"^[0-9]+$\",\n                \"description\": \"Unsigned 256-bit integer as string\"\n            }\n\n        return super().to_json_schema(parsed_type)\n</code></pre>"},{"location":"api/mapper/#reserved-keyword-handling","title":"Reserved Keyword Handling","text":"<pre><code># The mapper automatically handles Python reserved keywords\nfunc = ABIFunction(\n    name=\"test\",\n    inputs=[\n        ABIParameter(name=\"from\", type=\"address\"),  # Reserved!\n        ABIParameter(name=\"type\", type=\"uint8\"),    # Reserved!\n    ],\n    outputs=[],\n    state_mutability=StateMutability.VIEW,\n)\n\ntool = func_mapper.map_function(func)\n\n# Parameters are renamed\nprint(tool.parameters[0][\"name\"])  # \"from_\"\nprint(tool.parameters[1][\"name\"])  # \"type_\"\n</code></pre>"},{"location":"api/parser/","title":"Parser API","text":"<p>The parser module converts raw ABI JSON into structured Python objects.</p>"},{"location":"api/parser/#module-abi_to_mcpparser","title":"Module: <code>abi_to_mcp.parser</code>","text":""},{"location":"api/parser/#abiparser","title":"ABIParser","text":"<p>Main parser class that orchestrates all sub-parsers.</p> <pre><code>from abi_to_mcp.parser import ABIParser\n\nparser = ABIParser()\nparsed = parser.parse(abi_json)\n</code></pre>"},{"location":"api/parser/#methods","title":"Methods","text":""},{"location":"api/parser/#parseabi-listdict-parsedabi","title":"<code>parse(abi: List[Dict]) -&gt; ParsedABI</code>","text":"<p>Parse a complete ABI JSON into structured form.</p> <pre><code>with open(\"abi.json\") as f:\n    abi = json.load(f)\n\nparsed = parser.parse(abi)\n\nprint(f\"Functions: {len(parsed.functions)}\")\nprint(f\"Events: {len(parsed.events)}\")\nprint(f\"Errors: {len(parsed.errors)}\")\nprint(f\"Standard: {parsed.detected_standard}\")\n</code></pre> <p>Parameters:</p> Name Type Description <code>abi</code> <code>List[Dict[str, Any]]</code> Raw ABI JSON array <p>Returns: <code>ParsedABI</code> object</p> <p>Raises:</p> <ul> <li><code>ABIParseError</code> - Invalid ABI structure</li> <li><code>ABIValidationError</code> - Invalid ABI entry</li> </ul>"},{"location":"api/parser/#validateabi-listdict-liststr","title":"<code>validate(abi: List[Dict]) -&gt; List[str]</code>","text":"<p>Validate an ABI and return list of errors.</p> <pre><code>errors = parser.validate(abi)\nif errors:\n    for error in errors:\n        print(f\"Error: {error}\")\nelse:\n    print(\"ABI is valid\")\n</code></pre> <p>Returns: List of error messages (empty if valid)</p>"},{"location":"api/parser/#detect_standardfunctions-events-optionalstr","title":"<code>detect_standard(functions, events) -&gt; Optional[str]</code>","text":"<p>Detect if ABI implements a known standard.</p> <pre><code>standard = parser.detect_standard(\n    parsed.functions,\n    parsed.events\n)\n# Returns: \"ERC20\", \"ERC721\", \"ERC1155\", or None\n</code></pre>"},{"location":"api/parser/#functionparser","title":"FunctionParser","text":"<p>Parse function entries from ABI.</p> <pre><code>from abi_to_mcp.parser import FunctionParser\n\nfunc_parser = FunctionParser()\nfunc = func_parser.parse(entry)\n</code></pre>"},{"location":"api/parser/#methods_1","title":"Methods","text":""},{"location":"api/parser/#parseentry-dict-abifunction","title":"<code>parse(entry: Dict) -&gt; ABIFunction</code>","text":"<p>Parse a single function entry.</p> <pre><code>entry = {\n    \"type\": \"function\",\n    \"name\": \"transfer\",\n    \"inputs\": [\n        {\"name\": \"to\", \"type\": \"address\"},\n        {\"name\": \"amount\", \"type\": \"uint256\"}\n    ],\n    \"outputs\": [{\"name\": \"\", \"type\": \"bool\"}],\n    \"stateMutability\": \"nonpayable\"\n}\n\nfunc = func_parser.parse(entry)\nprint(func.name)  # \"transfer\"\nprint(func.is_read_only)  # False\n</code></pre>"},{"location":"api/parser/#parse_parameterparam-dict-abiparameter","title":"<code>parse_parameter(param: Dict) -&gt; ABIParameter</code>","text":"<p>Parse a single parameter.</p> <pre><code>param = {\"name\": \"account\", \"type\": \"address\"}\nparsed_param = func_parser.parse_parameter(param)\n</code></pre>"},{"location":"api/parser/#eventparser","title":"EventParser","text":"<p>Parse event entries from ABI.</p> <pre><code>from abi_to_mcp.parser import EventParser\n\nevent_parser = EventParser()\nevent = event_parser.parse(entry)\n</code></pre>"},{"location":"api/parser/#methods_2","title":"Methods","text":""},{"location":"api/parser/#parseentry-dict-abievent","title":"<code>parse(entry: Dict) -&gt; ABIEvent</code>","text":"<p>Parse a single event entry.</p> <pre><code>entry = {\n    \"type\": \"event\",\n    \"name\": \"Transfer\",\n    \"inputs\": [\n        {\"name\": \"from\", \"type\": \"address\", \"indexed\": True},\n        {\"name\": \"to\", \"type\": \"address\", \"indexed\": True},\n        {\"name\": \"value\", \"type\": \"uint256\", \"indexed\": False}\n    ]\n}\n\nevent = event_parser.parse(entry)\nprint(event.name)  # \"Transfer\"\nprint(len(event.inputs))  # 3\n</code></pre>"},{"location":"api/parser/#typeparser","title":"TypeParser","text":"<p>Parse Solidity type strings.</p> <pre><code>from abi_to_mcp.parser import TypeParser\n\ntype_parser = TypeParser()\nparsed_type = type_parser.parse(\"uint256[]\")\n</code></pre>"},{"location":"api/parser/#methods_3","title":"Methods","text":""},{"location":"api/parser/#parsetype_str-str-parsedtype","title":"<code>parse(type_str: str) -&gt; ParsedType</code>","text":"<p>Parse a Solidity type string.</p> <pre><code># Simple types\nt = type_parser.parse(\"uint256\")\nprint(t.base_type)  # \"uint256\"\nprint(t.is_array)   # False\n\n# Array types\nt = type_parser.parse(\"address[]\")\nprint(t.base_type)  # \"address\"\nprint(t.is_array)   # True\nprint(t.array_size) # None (dynamic)\n\n# Fixed arrays\nt = type_parser.parse(\"bytes32[10]\")\nprint(t.array_size)  # 10\n\n# Nested arrays\nt = type_parser.parse(\"uint256[][]\")\nprint(t.element_type.is_array)  # True\n</code></pre>"},{"location":"api/parser/#data-classes","title":"Data Classes","text":""},{"location":"api/parser/#parsedabi","title":"ParsedABI","text":"<p>Complete parsed ABI.</p> <pre><code>@dataclass\nclass ParsedABI:\n    functions: List[ABIFunction]\n    events: List[ABIEvent]\n    errors: List[ABIError]\n    raw_abi: List[Dict[str, Any]]\n    detected_standard: Optional[str] = None\n    has_constructor: bool = False\n    has_fallback: bool = False\n    has_receive: bool = False\n</code></pre>"},{"location":"api/parser/#abifunction","title":"ABIFunction","text":"<p>Parsed contract function.</p> <pre><code>@dataclass\nclass ABIFunction:\n    name: str\n    inputs: List[ABIParameter]\n    outputs: List[ABIParameter]\n    state_mutability: StateMutability\n\n    @property\n    def is_read_only(self) -&gt; bool: ...\n\n    @property\n    def is_payable(self) -&gt; bool: ...\n</code></pre>"},{"location":"api/parser/#abievent","title":"ABIEvent","text":"<p>Parsed contract event.</p> <pre><code>@dataclass\nclass ABIEvent:\n    name: str\n    inputs: List[ABIParameter]\n    anonymous: bool = False\n</code></pre>"},{"location":"api/parser/#abiparameter","title":"ABIParameter","text":"<p>Function or event parameter.</p> <pre><code>@dataclass\nclass ABIParameter:\n    name: str\n    type: str\n    indexed: bool = False\n    components: Optional[List[\"ABIParameter\"]] = None\n</code></pre>"},{"location":"api/parser/#statemutability","title":"StateMutability","text":"<p>Enum for function state mutability.</p> <pre><code>class StateMutability(Enum):\n    PURE = \"pure\"\n    VIEW = \"view\"\n    NONPAYABLE = \"nonpayable\"\n    PAYABLE = \"payable\"\n</code></pre>"},{"location":"api/parser/#examples","title":"Examples","text":""},{"location":"api/parser/#parse-and-analyze-erc20","title":"Parse and Analyze ERC20","text":"<pre><code>from abi_to_mcp.parser import ABIParser\nimport json\n\nwith open(\"erc20.json\") as f:\n    abi = json.load(f)\n\nparser = ABIParser()\nparsed = parser.parse(abi)\n\n# Check standard\nassert parsed.detected_standard == \"ERC20\"\n\n# Find transfer function\ntransfer = next(f for f in parsed.functions if f.name == \"transfer\")\nassert len(transfer.inputs) == 2\nassert transfer.inputs[0].type == \"address\"\nassert transfer.inputs[1].type == \"uint256\"\n\n# Find Transfer event\ntransfer_event = next(e for e in parsed.events if e.name == \"Transfer\")\nindexed_params = [p for p in transfer_event.inputs if p.indexed]\nassert len(indexed_params) == 2\n</code></pre>"},{"location":"api/parser/#handle-complex-types","title":"Handle Complex Types","text":"<pre><code># Tuple with components\nentry = {\n    \"type\": \"function\",\n    \"name\": \"swap\",\n    \"inputs\": [{\n        \"name\": \"params\",\n        \"type\": \"tuple\",\n        \"components\": [\n            {\"name\": \"tokenIn\", \"type\": \"address\"},\n            {\"name\": \"tokenOut\", \"type\": \"address\"},\n            {\"name\": \"fee\", \"type\": \"uint24\"}\n        ]\n    }],\n    \"outputs\": [{\"name\": \"amountOut\", \"type\": \"uint256\"}],\n    \"stateMutability\": \"payable\"\n}\n\nfunc = parser.parse([entry]).functions[0]\nassert func.inputs[0].type == \"tuple\"\nassert len(func.inputs[0].components) == 3\nassert func.is_payable\n</code></pre>"},{"location":"api/runtime/","title":"Runtime API","text":"<p>The runtime module provides Web3 client and transaction utilities for generated servers.</p>"},{"location":"api/runtime/#module-abi_to_mcpruntime","title":"Module: <code>abi_to_mcp.runtime</code>","text":""},{"location":"api/runtime/#web3client","title":"Web3Client","text":"<p>Managed Web3 connection.</p> <pre><code>from abi_to_mcp.runtime import Web3Client\n\nclient = Web3Client(\n    rpc_url=\"https://eth-mainnet.g.alchemy.com/v2/YOUR-KEY\",\n    network=\"mainnet\"\n)\n</code></pre>"},{"location":"api/runtime/#constructor","title":"Constructor","text":"<pre><code>Web3Client(\n    rpc_url: Optional[str] = None,\n    network: str = \"mainnet\"\n)\n</code></pre> <p>RPC URL priority: 1. Explicit <code>rpc_url</code> parameter 2. <code>RPC_URL</code> environment variable 3. Default from <code>NETWORKS[network]</code></p>"},{"location":"api/runtime/#properties","title":"Properties","text":""},{"location":"api/runtime/#w3-web3","title":"<code>w3: Web3</code>","text":"<p>Get Web3 instance (lazy initialization).</p> <pre><code>w3 = client.w3\nblock = await w3.eth.block_number\n</code></pre>"},{"location":"api/runtime/#methods","title":"Methods","text":""},{"location":"api/runtime/#get_contractaddress-str-abi-list-contract","title":"<code>get_contract(address: str, abi: List) -&gt; Contract</code>","text":"<p>Create contract instance with checksum address.</p> <pre><code>contract = client.get_contract(\n    \"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\",\n    abi\n)\n\n# Use contract\nbalance = await contract.functions.balanceOf(address).call()\n</code></pre>"},{"location":"api/runtime/#is_connected-bool","title":"<code>is_connected() -&gt; bool</code>","text":"<p>Check if connected to network.</p> <pre><code>if client.is_connected():\n    print(\"Connected!\")\nelse:\n    print(\"Connection failed\")\n</code></pre>"},{"location":"api/runtime/#get_chain_id-int","title":"<code>get_chain_id() -&gt; int</code>","text":"<p>Get current chain ID.</p> <pre><code>chain_id = client.get_chain_id()\nif chain_id != 1:\n    raise ValueError(\"Expected mainnet\")\n</code></pre>"},{"location":"api/runtime/#transactionbuilder","title":"TransactionBuilder","text":"<p>Build transactions for contract calls.</p> <pre><code>from abi_to_mcp.runtime import TransactionBuilder\n\nbuilder = TransactionBuilder(web3_client)\ntx = builder.build_transaction(\n    contract_function,\n    from_address=\"0x...\"\n)\n</code></pre>"},{"location":"api/runtime/#methods_1","title":"Methods","text":""},{"location":"api/runtime/#build_transaction-dictstr-any","title":"<code>build_transaction(...) -&gt; Dict[str, Any]</code>","text":"<p>Build a transaction dictionary.</p> <pre><code>tx = builder.build_transaction(\n    contract.functions.transfer(to, amount),\n    from_address=\"0x...\",\n    value=0,\n    gas_limit=None,      # Auto-estimate\n    gas_price=None,      # Use network default\n    max_fee_per_gas=None,  # For EIP-1559\n    max_priority_fee_per_gas=None\n)\n</code></pre> <p>Parameters:</p> Name Type Description <code>contract_function</code> <code>ContractFunction</code> Web3 contract function <code>from_address</code> <code>str</code> Sender address <code>value</code> <code>int</code> ETH to send (wei) <code>gas_limit</code> <code>Optional[int]</code> Gas limit <code>gas_price</code> <code>Optional[int]</code> Legacy gas price <code>max_fee_per_gas</code> <code>Optional[int]</code> EIP-1559 max fee <code>max_priority_fee_per_gas</code> <code>Optional[int]</code> EIP-1559 priority fee <p>Returns: Transaction dictionary ready for signing</p>"},{"location":"api/runtime/#estimate_gastx-dictstr-any-int","title":"<code>estimate_gas(tx: Dict[str, Any]) -&gt; int</code>","text":"<p>Estimate gas for transaction.</p> <pre><code>gas = builder.estimate_gas(tx)\nprint(f\"Estimated gas: {gas}\")\n</code></pre>"},{"location":"api/runtime/#transactionsimulator","title":"TransactionSimulator","text":"<p>Simulate transactions without executing.</p> <pre><code>from abi_to_mcp.runtime import TransactionSimulator\n\nsimulator = TransactionSimulator(web3_client)\nresult = simulator.simulate(\n    contract_function,\n    from_address=\"0x...\"\n)\n</code></pre>"},{"location":"api/runtime/#methods_2","title":"Methods","text":""},{"location":"api/runtime/#simulate-dictstr-any","title":"<code>simulate(...) -&gt; Dict[str, Any]</code>","text":"<p>Simulate a transaction.</p> <pre><code>result = await simulator.simulate(\n    contract.functions.transfer(to, amount),\n    from_address=\"0x...\",\n    value=0\n)\n\nprint(result)\n# {\n#   \"success\": True,\n#   \"would_succeed\": True,\n#   \"result\": True,  # Return value\n#   \"gas_estimate\": 65000,\n#   \"gas_price\": 25000000000,\n#   \"estimated_cost_eth\": \"0.001625\",\n#   \"error\": None\n# }\n</code></pre> <p>Simulation Failure:</p> <pre><code>result = await simulator.simulate(...)\n# {\n#   \"success\": True,\n#   \"would_succeed\": False,\n#   \"result\": None,\n#   \"error\": \"execution reverted: ERC20: transfer amount exceeds balance\",\n#   \"gas_estimate\": None,\n#   ...\n# }\n</code></pre>"},{"location":"api/runtime/#signer","title":"Signer","text":"<p>Transaction signing utilities.</p> <pre><code>from abi_to_mcp.runtime import Signer\n\nsigner = Signer(private_key=\"0x...\")\nsigned_tx = signer.sign_transaction(tx)\n</code></pre>"},{"location":"api/runtime/#constructor_1","title":"Constructor","text":"<pre><code>Signer(private_key: Optional[str] = None)\n</code></pre> <p>If not provided, reads from <code>PRIVATE_KEY</code> environment variable.</p>"},{"location":"api/runtime/#properties_1","title":"Properties","text":""},{"location":"api/runtime/#address-str","title":"<code>address: str</code>","text":"<p>Get signer's address.</p> <pre><code>print(f\"Signing from: {signer.address}\")\n</code></pre>"},{"location":"api/runtime/#methods_3","title":"Methods","text":""},{"location":"api/runtime/#sign_transactiontx-dict-signedtransaction","title":"<code>sign_transaction(tx: Dict) -&gt; SignedTransaction</code>","text":"<p>Sign a transaction.</p> <pre><code>signed = signer.sign_transaction(tx)\ntx_hash = await w3.eth.send_raw_transaction(signed.rawTransaction)\n</code></pre>"},{"location":"api/runtime/#sign_messagemessage-str-signedmessage","title":"<code>sign_message(message: str) -&gt; SignedMessage</code>","text":"<p>Sign a message (EIP-191).</p> <pre><code>signed = signer.sign_message(\"Hello, World!\")\n</code></pre>"},{"location":"api/runtime/#gasestimator","title":"GasEstimator","text":"<p>Gas price estimation utilities.</p> <pre><code>from abi_to_mcp.runtime import GasEstimator\n\nestimator = GasEstimator(web3_client)\nprices = await estimator.get_gas_prices()\n</code></pre>"},{"location":"api/runtime/#methods_4","title":"Methods","text":""},{"location":"api/runtime/#get_gas_prices-gasprices","title":"<code>get_gas_prices() -&gt; GasPrices</code>","text":"<p>Get current gas prices.</p> <pre><code>prices = await estimator.get_gas_prices()\n\nprint(f\"Base fee: {prices.base_fee} gwei\")\nprint(f\"Priority fee: {prices.priority_fee} gwei\")\nprint(f\"Max fee: {prices.max_fee} gwei\")\n</code></pre>"},{"location":"api/runtime/#estimate_costgas_units-int-gascost","title":"<code>estimate_cost(gas_units: int) -&gt; GasCost</code>","text":"<p>Estimate transaction cost.</p> <pre><code>cost = await estimator.estimate_cost(65000)\n\nprint(f\"ETH: {cost.eth}\")\nprint(f\"USD: ${cost.usd}\")  # If price feed available\n</code></pre>"},{"location":"api/runtime/#data-classes","title":"Data Classes","text":""},{"location":"api/runtime/#gasprices","title":"GasPrices","text":"<p>Current gas prices.</p> <pre><code>@dataclass\nclass GasPrices:\n    base_fee: int        # Wei\n    priority_fee: int    # Wei\n    max_fee: int         # Wei\n    legacy_price: int    # Wei (for non-EIP-1559)\n</code></pre>"},{"location":"api/runtime/#gascost","title":"GasCost","text":"<p>Estimated transaction cost.</p> <pre><code>@dataclass\nclass GasCost:\n    gas_units: int\n    gas_price: int       # Wei\n    eth: float           # Total cost in ETH\n    usd: Optional[float] # USD if price available\n</code></pre>"},{"location":"api/runtime/#examples","title":"Examples","text":""},{"location":"api/runtime/#complete-transaction-flow","title":"Complete Transaction Flow","text":"<pre><code>from abi_to_mcp.runtime import (\n    Web3Client,\n    TransactionBuilder,\n    TransactionSimulator,\n    Signer\n)\n\n# Setup\nclient = Web3Client(network=\"mainnet\")\ncontract = client.get_contract(address, abi)\nbuilder = TransactionBuilder(client)\nsimulator = TransactionSimulator(client)\nsigner = Signer()\n\n# Build function call\nfunc = contract.functions.transfer(to_address, amount)\n\n# Simulate first\nsim_result = await simulator.simulate(func, signer.address)\nif not sim_result[\"would_succeed\"]:\n    raise ValueError(f\"Would fail: {sim_result['error']}\")\n\nprint(f\"Gas estimate: {sim_result['gas_estimate']}\")\nprint(f\"Cost: {sim_result['estimated_cost_eth']} ETH\")\n\n# Build and sign\ntx = builder.build_transaction(func, signer.address)\nsigned = signer.sign_transaction(tx)\n\n# Send\ntx_hash = await client.w3.eth.send_raw_transaction(signed.rawTransaction)\nprint(f\"Sent: {tx_hash.hex()}\")\n\n# Wait for receipt\nreceipt = await client.w3.eth.wait_for_transaction_receipt(tx_hash)\nprint(f\"Confirmed in block {receipt['blockNumber']}\")\n</code></pre>"},{"location":"api/runtime/#read-only-usage","title":"Read-Only Usage","text":"<pre><code>from abi_to_mcp.runtime import Web3Client\n\nclient = Web3Client(\n    rpc_url=\"https://eth-mainnet.g.alchemy.com/v2/KEY\"\n)\n\ncontract = client.get_contract(\n    \"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\",\n    usdc_abi\n)\n\n# Read operations - no signer needed\nname = await contract.functions.name().call()\nsymbol = await contract.functions.symbol().call()\nbalance = await contract.functions.balanceOf(address).call()\n\nprint(f\"{name} ({symbol}): {balance}\")\n</code></pre>"},{"location":"api/runtime/#error-handling","title":"Error Handling","text":"<pre><code>from abi_to_mcp.runtime import TransactionSimulator\nfrom abi_to_mcp.core.exceptions import (\n    SimulationError,\n    InsufficientFundsError,\n    ContractRevertError\n)\n\ntry:\n    result = await simulator.simulate(func, address)\n    if not result[\"would_succeed\"]:\n        raise SimulationError(result[\"error\"])\nexcept InsufficientFundsError:\n    print(\"Not enough ETH for gas\")\nexcept ContractRevertError as e:\n    print(f\"Contract reverted: {e}\")\nexcept Exception as e:\n    print(f\"Unexpected error: {e}\")\n</code></pre>"},{"location":"cli/","title":"CLI Reference","text":"<p>abi-to-mcp provides a powerful command-line interface for generating, inspecting, and managing MCP servers from smart contract ABIs.</p>"},{"location":"cli/#overview","title":"Overview","text":"<pre><code>abi-to-mcp [OPTIONS] COMMAND [ARGS]...\n</code></pre>"},{"location":"cli/#global-options","title":"Global Options","text":"Option Description <code>--version</code> Show version and exit <code>--help</code> Show help message and exit <code>--verbose</code>, <code>-v</code> Increase output verbosity <code>--quiet</code>, <code>-q</code> Suppress non-essential output"},{"location":"cli/#commands","title":"Commands","text":"<ul> <li> <p> generate</p> <p>Generate an MCP server from an ABI source.</p> <p> generate</p> </li> <li> <p> inspect</p> <p>Inspect an ABI and show what would be generated.</p> <p> inspect</p> </li> <li> <p> validate</p> <p>Validate an ABI without generating anything.</p> <p> validate</p> </li> <li> <p> serve</p> <p>Run a generated MCP server.</p> <p> serve</p> </li> </ul>"},{"location":"cli/#quick-examples","title":"Quick Examples","text":""},{"location":"cli/#generate-from-etherscan","title":"Generate from Etherscan","text":"<pre><code># Generate MCP server for USDC on mainnet\nabi-to-mcp generate 0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48 \\\n  --network mainnet \\\n  --output ./usdc-mcp\n</code></pre>"},{"location":"cli/#generate-from-local-file","title":"Generate from Local File","text":"<pre><code># Generate from a local ABI file\nabi-to-mcp generate ./my-contract.json \\\n  --address 0x1234... \\\n  --output ./my-mcp\n</code></pre>"},{"location":"cli/#inspect-before-generating","title":"Inspect Before Generating","text":"<pre><code># See what would be generated without creating files\nabi-to-mcp inspect 0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48 \\\n  --network mainnet\n</code></pre>"},{"location":"cli/#validate-an-abi","title":"Validate an ABI","text":"<pre><code># Check if an ABI is valid\nabi-to-mcp validate ./my-contract.json\n</code></pre>"},{"location":"cli/#run-a-generated-server","title":"Run a Generated Server","text":"<pre><code># Start an MCP server\nabi-to-mcp serve ./my-mcp-server\n</code></pre>"},{"location":"cli/#environment-variables","title":"Environment Variables","text":"<p>The CLI respects these environment variables:</p> Variable Description Used By <code>ETHERSCAN_API_KEY</code> Etherscan API key <code>generate</code>, <code>inspect</code> <code>POLYGONSCAN_API_KEY</code> Polygonscan API key <code>generate</code>, <code>inspect</code> <code>ARBISCAN_API_KEY</code> Arbiscan API key <code>generate</code>, <code>inspect</code> <code>RPC_URL</code> Default RPC endpoint <code>serve</code> <code>PRIVATE_KEY</code> Wallet private key <code>serve</code> (write operations)"},{"location":"cli/#exit-codes","title":"Exit Codes","text":"Code Meaning 0 Success 1 General error 2 Invalid arguments 3 ABI not found 4 ABI validation failed 5 Generation failed 6 Network error"},{"location":"cli/#see-also","title":"See Also","text":"<ul> <li>Quickstart - Get started quickly</li> <li>Networks Reference - Supported networks</li> <li>Error Reference - Error codes and solutions</li> </ul>"},{"location":"cli/generate/","title":"abi-to-mcp generate","text":"<p>Generate a complete MCP server from a smart contract ABI.</p>"},{"location":"cli/generate/#synopsis","title":"Synopsis","text":"<pre><code>abi-to-mcp generate SOURCE [OPTIONS]\n</code></pre>"},{"location":"cli/generate/#description","title":"Description","text":"<p>The <code>generate</code> command is the core of abi-to-mcp. It takes an ABI source (contract address or file path), fetches/parses the ABI, and generates a complete MCP server with all tools and resources.</p>"},{"location":"cli/generate/#arguments","title":"Arguments","text":""},{"location":"cli/generate/#source","title":"SOURCE","text":"<p>The ABI source, which can be:</p> <ul> <li>Contract address: <code>0x...</code> - Fetches ABI from Etherscan/Sourcify</li> <li>File path: <code>./contract.json</code> - Loads ABI from local file</li> </ul> <pre><code># From address\nabi-to-mcp generate 0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\n\n# From file\nabi-to-mcp generate ./artifacts/MyContract.json\n</code></pre>"},{"location":"cli/generate/#options","title":"Options","text":""},{"location":"cli/generate/#-output-o","title":"<code>--output</code>, <code>-o</code>","text":"<p>Output directory for the generated server.</p> Default <code>./mcp-server</code> Type Path <pre><code>abi-to-mcp generate 0x... -o ./my-server\n</code></pre>"},{"location":"cli/generate/#-network-n","title":"<code>--network</code>, <code>-n</code>","text":"<p>Network for address lookups and configuration.</p> Default <code>mainnet</code> Choices <code>mainnet</code>, <code>sepolia</code>, <code>goerli</code>, <code>polygon</code>, <code>arbitrum</code>, <code>optimism</code>, <code>base</code>, <code>bsc</code>, <code>avalanche</code>, <code>fantom</code> <pre><code>abi-to-mcp generate 0x... -n polygon\n</code></pre>"},{"location":"cli/generate/#-address-a","title":"<code>--address</code>, <code>-a</code>","text":"<p>Contract address (required when SOURCE is a file).</p> Default None (extracted from address SOURCE) Type Ethereum address <pre><code>abi-to-mcp generate ./abi.json --address 0x1234...\n</code></pre>"},{"location":"cli/generate/#-name","title":"<code>--name</code>","text":"<p>Custom name for the generated server.</p> Default Auto-detected from contract Type String <pre><code>abi-to-mcp generate 0x... --name \"My Token Server\"\n</code></pre>"},{"location":"cli/generate/#-read-only","title":"<code>--read-only</code>","text":"<p>Generate only read operations (no write tools).</p> Default <code>False</code> Type Flag <pre><code>abi-to-mcp generate 0x... --read-only\n</code></pre> <p>Use for Safety</p> <p>Use <code>--read-only</code> when you only need to query data and want to prevent any possibility of state-changing operations.</p>"},{"location":"cli/generate/#-events-no-events","title":"<code>--events</code> / <code>--no-events</code>","text":"<p>Include or exclude events as MCP resources.</p> Default <code>--events</code> (included) Type Flag <pre><code># Exclude events\nabi-to-mcp generate 0x... --no-events\n</code></pre>"},{"location":"cli/generate/#-simulate-no-simulate","title":"<code>--simulate</code> / <code>--no-simulate</code>","text":"<p>Default simulation mode for write operations.</p> Default <code>--simulate</code> (simulation on) Type Flag <pre><code># Disable simulation by default (dangerous!)\nabi-to-mcp generate 0x... --no-simulate\n</code></pre> <p>Not Recommended</p> <p>Disabling simulation by default means write tools will execute real transactions immediately. Only use this if you understand the risks.</p>"},{"location":"cli/generate/#-rpc-url","title":"<code>--rpc-url</code>","text":"<p>Default RPC URL to embed in generated config.</p> Default Network-specific public RPC Type URL <pre><code>abi-to-mcp generate 0x... --rpc-url https://eth.llamarpc.com\n</code></pre>"},{"location":"cli/generate/#-force-f","title":"<code>--force</code>, <code>-f</code>","text":"<p>Overwrite existing output directory without prompting.</p> Default <code>False</code> (prompt before overwriting) Type Flag <pre><code>abi-to-mcp generate 0x... -o ./existing-dir --force\n</code></pre>"},{"location":"cli/generate/#examples","title":"Examples","text":""},{"location":"cli/generate/#basic-generation","title":"Basic Generation","text":"<pre><code># Generate from mainnet contract address\nabi-to-mcp generate 0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\n\n# Output to specific directory\nabi-to-mcp generate 0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48 -o ./usdc-server\n</code></pre>"},{"location":"cli/generate/#different-networks","title":"Different Networks","text":"<pre><code># Polygon\nabi-to-mcp generate 0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174 -n polygon\n\n# Arbitrum\nabi-to-mcp generate 0xaf88d065e77c8cC2239327C5EDb3A432268e5831 -n arbitrum\n\n# Base\nabi-to-mcp generate 0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913 -n base\n</code></pre>"},{"location":"cli/generate/#from-local-abi","title":"From Local ABI","text":"<pre><code># Hardhat artifact\nabi-to-mcp generate ./artifacts/contracts/MyToken.sol/MyToken.json \\\n  --address 0x1234... \\\n  --network mainnet\n\n# Plain ABI file\nabi-to-mcp generate ./my-abi.json \\\n  --address 0x1234... \\\n  --name \"My Contract\"\n</code></pre>"},{"location":"cli/generate/#read-only-server","title":"Read-Only Server","text":"<pre><code># Only generate read tools (safe mode)\nabi-to-mcp generate 0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48 \\\n  --read-only \\\n  --name \"USDC Reader\"\n</code></pre>"},{"location":"cli/generate/#custom-configuration","title":"Custom Configuration","text":"<pre><code># Full customization\nabi-to-mcp generate 0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48 \\\n  --network mainnet \\\n  --output ./my-usdc-server \\\n  --name \"USDC Token\" \\\n  --rpc-url https://eth.llamarpc.com \\\n  --events \\\n  --simulate \\\n  --force\n</code></pre>"},{"location":"cli/generate/#output-structure","title":"Output Structure","text":"<p>The command creates the following files:</p> <pre><code>output-directory/\n\u251c\u2500\u2500 server.py           # Main MCP server\n\u251c\u2500\u2500 config.py           # Configuration\n\u251c\u2500\u2500 README.md           # Documentation\n\u251c\u2500\u2500 requirements.txt    # Dependencies\n\u251c\u2500\u2500 pyproject.toml      # Package metadata\n\u2514\u2500\u2500 .env.example        # Environment template\n</code></pre>"},{"location":"cli/generate/#generated-tools","title":"Generated Tools","text":"<p>For each contract function, a corresponding MCP tool is generated:</p> Solidity MCP Tool Type <code>function balanceOf(address) view returns (uint256)</code> <code>balance_of(account: str) -&gt; str</code> Read <code>function transfer(address, uint256) returns (bool)</code> <code>transfer(to: str, amount: str, simulate: bool = True) -&gt; dict</code> Write <code>function deposit() payable</code> <code>deposit(value: str, simulate: bool = True) -&gt; dict</code> Payable"},{"location":"cli/generate/#generated-resources","title":"Generated Resources","text":"<p>For each event, an MCP resource is generated:</p> Solidity MCP Resource <code>event Transfer(address indexed from, address indexed to, uint256 value)</code> <code>events://transfer</code> <code>event Approval(address indexed owner, address indexed spender, uint256 value)</code> <code>events://approval</code>"},{"location":"cli/generate/#proxy-contracts","title":"Proxy Contracts","text":"<p>abi-to-mcp automatically detects proxy contracts:</p> <ul> <li>EIP-1967: Standard proxy pattern</li> <li>EIP-1822: UUPS proxies</li> <li>OpenZeppelin: TransparentProxy</li> <li>EIP-1167: Minimal proxies (clones)</li> </ul> <p>When a proxy is detected, the implementation ABI is fetched automatically.</p> <pre><code># This will detect USDC is a proxy and fetch the implementation\nabi-to-mcp generate 0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48 -n mainnet\n</code></pre>"},{"location":"cli/generate/#error-handling","title":"Error Handling","text":"Error Cause Solution \"Contract not verified\" ABI not on Etherscan Use local ABI file instead \"Network not supported\" Invalid network name Check <code>--network</code> value \"Directory exists\" Output directory exists Use <code>--force</code> or different directory \"Invalid address\" Malformed address Check address format (0x + 40 hex chars)"},{"location":"cli/generate/#see-also","title":"See Also","text":"<ul> <li>Quickstart - Quick tutorial</li> <li>First Server - Understanding output</li> <li>inspect - Preview before generating</li> <li>validate - Validate ABI format</li> </ul>"},{"location":"cli/inspect/","title":"abi-to-mcp inspect","text":"<p>Inspect an ABI and show what would be generated without creating any files.</p>"},{"location":"cli/inspect/#synopsis","title":"Synopsis","text":"<pre><code>abi-to-mcp inspect SOURCE [OPTIONS]\n</code></pre>"},{"location":"cli/inspect/#description","title":"Description","text":"<p>The <code>inspect</code> command fetches and parses an ABI, then displays detailed information about what would be generated. This is useful for:</p> <ul> <li>Previewing before committing to generation</li> <li>Checking if a contract is suitable for MCP</li> <li>Understanding the detected standard (ERC20, ERC721, etc.)</li> <li>Verifying function and event signatures</li> </ul>"},{"location":"cli/inspect/#arguments","title":"Arguments","text":""},{"location":"cli/inspect/#source","title":"SOURCE","text":"<p>The ABI source (same as <code>generate</code>):</p> <ul> <li>Contract address: <code>0x...</code></li> <li>File path: <code>./contract.json</code></li> </ul>"},{"location":"cli/inspect/#options","title":"Options","text":""},{"location":"cli/inspect/#-network-n","title":"<code>--network</code>, <code>-n</code>","text":"<p>Network for address lookups.</p> Default <code>mainnet</code> Choices <code>mainnet</code>, <code>sepolia</code>, <code>polygon</code>, <code>arbitrum</code>, <code>optimism</code>, <code>base</code>, <code>bsc</code>, <code>avalanche</code>, <code>fantom</code>"},{"location":"cli/inspect/#-format-f","title":"<code>--format</code>, <code>-f</code>","text":"<p>Output format.</p> Default <code>table</code> Choices <code>table</code>, <code>json</code>, <code>yaml</code>"},{"location":"cli/inspect/#-verbose-v","title":"<code>--verbose</code>, <code>-v</code>","text":"<p>Show detailed information including parameter types.</p> Default <code>False</code>"},{"location":"cli/inspect/#examples","title":"Examples","text":""},{"location":"cli/inspect/#basic-inspection","title":"Basic Inspection","text":"<pre><code>abi-to-mcp inspect 0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48 -n mainnet\n</code></pre> <p>Output:</p> <pre><code>\u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e\n\u2502                     Contract Inspection                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Address:    0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48      \u2502\n\u2502 Network:    mainnet (Chain ID: 1)                           \u2502\n\u2502 Standard:   ERC20 \u2713                                         \u2502\n\u2502 Is Proxy:   Yes (Implementation: 0x43506...)                \u2502\n\u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f\n\nFunctions (13):\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Name             \u2503 Mutability   \u2503 Tool Type     \u2503 Params    \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502 name             \u2502 view         \u2502 read          \u2502 0         \u2502\n\u2502 symbol           \u2502 view         \u2502 read          \u2502 0         \u2502\n\u2502 decimals         \u2502 view         \u2502 read          \u2502 0         \u2502\n\u2502 totalSupply      \u2502 view         \u2502 read          \u2502 0         \u2502\n\u2502 balanceOf        \u2502 view         \u2502 read          \u2502 1         \u2502\n\u2502 allowance        \u2502 view         \u2502 read          \u2502 2         \u2502\n\u2502 transfer         \u2502 nonpayable   \u2502 write         \u2502 2         \u2502\n\u2502 approve          \u2502 nonpayable   \u2502 write         \u2502 2         \u2502\n\u2502 transferFrom     \u2502 nonpayable   \u2502 write         \u2502 3         \u2502\n\u2502 increaseAllowance\u2502 nonpayable   \u2502 write         \u2502 2         \u2502\n\u2502 decreaseAllowance\u2502 nonpayable   \u2502 write         \u2502 2         \u2502\n\u2502 mint             \u2502 nonpayable   \u2502 write         \u2502 2         \u2502\n\u2502 burn             \u2502 nonpayable   \u2502 write         \u2502 1         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nEvents (2):\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Name             \u2503 Indexed Fields     \u2503 Data Fields         \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502 Transfer         \u2502 from, to           \u2502 value               \u2502\n\u2502 Approval         \u2502 owner, spender     \u2502 value               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nSummary:\n  \u2022 Read tools:  6\n  \u2022 Write tools: 7\n  \u2022 Resources:   2\n  \u2022 Ready for generation \u2713\n</code></pre>"},{"location":"cli/inspect/#verbose-output","title":"Verbose Output","text":"<pre><code>abi-to-mcp inspect 0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48 -n mainnet -v\n</code></pre> <p>Shows additional details:</p> <pre><code>Function: balanceOf\n  Solidity:  function balanceOf(address account) view returns (uint256)\n  Tool Name: balance_of\n  Type:      read\n  Parameters:\n    - account: address \u2192 string (pattern: ^0x[a-fA-F0-9]{40}$)\n  Returns:   uint256 \u2192 string (pattern: ^[0-9]+$)\n</code></pre>"},{"location":"cli/inspect/#json-output","title":"JSON Output","text":"<pre><code>abi-to-mcp inspect 0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48 -n mainnet -f json\n</code></pre> <pre><code>{\n  \"address\": \"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\",\n  \"network\": \"mainnet\",\n  \"chain_id\": 1,\n  \"detected_standard\": \"ERC20\",\n  \"is_proxy\": true,\n  \"implementation\": \"0x43506849D7C04F9138D1A2050bbF3A0c054402dd\",\n  \"functions\": [\n    {\n      \"name\": \"balanceOf\",\n      \"state_mutability\": \"view\",\n      \"tool_type\": \"read\",\n      \"inputs\": [\n        {\"name\": \"account\", \"type\": \"address\"}\n      ],\n      \"outputs\": [\n        {\"name\": \"\", \"type\": \"uint256\"}\n      ]\n    }\n  ],\n  \"events\": [\n    {\n      \"name\": \"Transfer\",\n      \"inputs\": [\n        {\"name\": \"from\", \"type\": \"address\", \"indexed\": true},\n        {\"name\": \"to\", \"type\": \"address\", \"indexed\": true},\n        {\"name\": \"value\", \"type\": \"uint256\", \"indexed\": false}\n      ]\n    }\n  ]\n}\n</code></pre>"},{"location":"cli/inspect/#inspect-local-file","title":"Inspect Local File","text":"<pre><code>abi-to-mcp inspect ./my-contract.json\n</code></pre>"},{"location":"cli/inspect/#use-cases","title":"Use Cases","text":""},{"location":"cli/inspect/#verify-before-generation","title":"Verify Before Generation","text":"<pre><code># Check what would be generated\nabi-to-mcp inspect 0x... -n mainnet\n\n# If satisfied, generate\nabi-to-mcp generate 0x... -n mainnet -o ./output\n</code></pre>"},{"location":"cli/inspect/#check-standard-detection","title":"Check Standard Detection","text":"<pre><code># See if contract is recognized as ERC20/ERC721/etc.\nabi-to-mcp inspect 0x... | grep Standard\n</code></pre>"},{"location":"cli/inspect/#export-for-analysis","title":"Export for Analysis","text":"<pre><code># Export to JSON for further analysis\nabi-to-mcp inspect 0x... -f json &gt; contract-analysis.json\n</code></pre>"},{"location":"cli/inspect/#compare-contracts","title":"Compare Contracts","text":"<pre><code># Inspect multiple contracts\nabi-to-mcp inspect 0xUSDC... -f json &gt; usdc.json\nabi-to-mcp inspect 0xDAI... -f json &gt; dai.json\n\n# Compare (using jq or similar)\ndiff &lt;(jq '.functions[].name' usdc.json) &lt;(jq '.functions[].name' dai.json)\n</code></pre>"},{"location":"cli/inspect/#exit-codes","title":"Exit Codes","text":"Code Meaning 0 Success 3 ABI not found 6 Network error"},{"location":"cli/inspect/#see-also","title":"See Also","text":"<ul> <li>generate - Generate after inspecting</li> <li>validate - Validate ABI format</li> <li>ERC Standards - Standard detection details</li> </ul>"},{"location":"cli/serve/","title":"abi-to-mcp serve","text":"<p>Run a generated MCP server directly from the command line.</p>"},{"location":"cli/serve/#synopsis","title":"Synopsis","text":"<pre><code>abi-to-mcp serve DIRECTORY [OPTIONS]\n</code></pre>"},{"location":"cli/serve/#description","title":"Description","text":"<p>The <code>serve</code> command starts a generated MCP server. While you can run servers directly with <code>python server.py</code>, this command provides additional features:</p> <ul> <li>Automatic dependency checking</li> <li>Environment validation</li> <li>Debug logging options</li> <li>Graceful shutdown handling</li> </ul>"},{"location":"cli/serve/#arguments","title":"Arguments","text":""},{"location":"cli/serve/#directory","title":"DIRECTORY","text":"<p>Path to the generated server directory.</p> <pre><code>abi-to-mcp serve ./my-mcp-server\n</code></pre>"},{"location":"cli/serve/#options","title":"Options","text":""},{"location":"cli/serve/#-port-p","title":"<code>--port</code>, <code>-p</code>","text":"<p>Port for HTTP mode (not used in stdio mode).</p> Default <code>8080</code> Type Integer"},{"location":"cli/serve/#-mode-m","title":"<code>--mode</code>, <code>-m</code>","text":"<p>Server communication mode.</p> Default <code>stdio</code> Choices <code>stdio</code>, <code>http</code> <ul> <li>stdio: Standard input/output (for Claude Desktop)</li> <li>http: HTTP server (for development/testing)</li> </ul>"},{"location":"cli/serve/#-debug-d","title":"<code>--debug</code>, <code>-d</code>","text":"<p>Enable debug logging.</p> Default <code>False</code>"},{"location":"cli/serve/#-env-file","title":"<code>--env-file</code>","text":"<p>Path to environment file.</p> Default <code>.env</code> in server directory"},{"location":"cli/serve/#examples","title":"Examples","text":""},{"location":"cli/serve/#basic-usage","title":"Basic Usage","text":"<pre><code># Run in stdio mode (default, for Claude Desktop)\nabi-to-mcp serve ./usdc-mcp\n</code></pre>"},{"location":"cli/serve/#development-mode","title":"Development Mode","text":"<pre><code># Run with HTTP interface for testing\nabi-to-mcp serve ./usdc-mcp --mode http --port 8080 --debug\n</code></pre> <p>Then test with curl:</p> <pre><code>curl http://localhost:8080/tools\ncurl -X POST http://localhost:8080/tool/balance_of \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"account\": \"0xd8dA6BF26964aF9D7eEd9e03E53415D37aA96045\"}'\n</code></pre>"},{"location":"cli/serve/#custom-environment","title":"Custom Environment","text":"<pre><code># Use a specific .env file\nabi-to-mcp serve ./usdc-mcp --env-file ./production.env\n</code></pre>"},{"location":"cli/serve/#debug-mode","title":"Debug Mode","text":"<pre><code># Enable verbose logging\nabi-to-mcp serve ./usdc-mcp --debug\n</code></pre> <p>Output includes:</p> <pre><code>[DEBUG] Loading configuration from ./usdc-mcp/config.py\n[DEBUG] Connecting to RPC: https://eth.llamarpc.com\n[DEBUG] Contract address: 0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\n[DEBUG] Loaded 13 tools, 2 resources\n[INFO] MCP server started (stdio mode)\n[DEBUG] Received request: balance_of\n[DEBUG] Calling contract.functions.balanceOf(0x...)\n[DEBUG] Result: 2547320000\n</code></pre>"},{"location":"cli/serve/#environment-variables","title":"Environment Variables","text":"<p>The server reads these from the environment or <code>.env</code> file:</p> Variable Required Description <code>RPC_URL</code> Yes Web3 RPC endpoint <code>CONTRACT_ADDRESS</code> No Override contract address <code>PRIVATE_KEY</code> No For write operations <code>MAX_GAS_PRICE_GWEI</code> No Gas price limit"},{"location":"cli/serve/#server-lifecycle","title":"Server Lifecycle","text":"<pre><code>graph TD\n    A[Start] --&gt; B[Load Config]\n    B --&gt; C[Validate Environment]\n    C --&gt; D{Valid?}\n    D --&gt;|No| E[Exit with Error]\n    D --&gt;|Yes| F[Connect to RPC]\n    F --&gt; G[Initialize Contract]\n    G --&gt; H[Register Tools]\n    H --&gt; I[Register Resources]\n    I --&gt; J[Start MCP Server]\n    J --&gt; K[Handle Requests]\n    K --&gt; L{Shutdown Signal?}\n    L --&gt;|No| K\n    L --&gt;|Yes| M[Graceful Shutdown]\n    M --&gt; N[Exit]</code></pre>"},{"location":"cli/serve/#signals","title":"Signals","text":"<p>The server handles:</p> <ul> <li>SIGINT (Ctrl+C): Graceful shutdown</li> <li>SIGTERM: Graceful shutdown</li> </ul> <p>Pending requests are completed before shutdown.</p>"},{"location":"cli/serve/#health-checks","title":"Health Checks","text":"<p>In HTTP mode, the server provides:</p> <pre><code># Health check\ncurl http://localhost:8080/health\n# {\"status\": \"healthy\", \"rpc_connected\": true}\n\n# List tools\ncurl http://localhost:8080/tools\n# [{\"name\": \"balance_of\", ...}, ...]\n\n# List resources\ncurl http://localhost:8080/resources\n# [{\"uri\": \"events://transfer\", ...}, ...]\n</code></pre>"},{"location":"cli/serve/#integration-with-claude-desktop","title":"Integration with Claude Desktop","text":"<p>For Claude Desktop, use stdio mode (default):</p> <pre><code>{\n  \"mcpServers\": {\n    \"my-contract\": {\n      \"command\": \"abi-to-mcp\",\n      \"args\": [\"serve\", \"/path/to/my-mcp-server\"],\n      \"env\": {\n        \"RPC_URL\": \"https://eth.llamarpc.com\"\n      }\n    }\n  }\n}\n</code></pre> <p>Or run the server directly:</p> <pre><code>{\n  \"mcpServers\": {\n    \"my-contract\": {\n      \"command\": \"python\",\n      \"args\": [\"/path/to/my-mcp-server/server.py\"],\n      \"env\": {\n        \"RPC_URL\": \"https://eth.llamarpc.com\"\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"cli/serve/#troubleshooting","title":"Troubleshooting","text":""},{"location":"cli/serve/#rpc_url-not-set","title":"\"RPC_URL not set\"","text":"<p>Set the environment variable:</p> <pre><code>export RPC_URL=https://eth.llamarpc.com\nabi-to-mcp serve ./my-server\n</code></pre> <p>Or create a <code>.env</code> file in the server directory.</p>"},{"location":"cli/serve/#connection-refused","title":"\"Connection refused\"","text":"<p>Check that:</p> <ol> <li>RPC URL is correct and accessible</li> <li>No firewall blocking the connection</li> <li>RPC provider is operational</li> </ol>"},{"location":"cli/serve/#module-not-found","title":"\"Module not found\"","text":"<p>Install dependencies:</p> <pre><code>cd ./my-mcp-server\npip install -r requirements.txt\n</code></pre>"},{"location":"cli/serve/#server-hangs","title":"Server Hangs","text":"<p>In debug mode, check for:</p> <ul> <li>RPC connection issues</li> <li>Contract address validity</li> <li>Network congestion</li> </ul>"},{"location":"cli/serve/#exit-codes","title":"Exit Codes","text":"Code Meaning 0 Normal shutdown 1 Configuration error 2 Connection error 3 Runtime error"},{"location":"cli/serve/#see-also","title":"See Also","text":"<ul> <li>Claude Desktop Guide - Full integration guide</li> <li>First Server - Understanding generated servers</li> <li>Safety Features - Server safety features</li> </ul>"},{"location":"cli/validate/","title":"abi-to-mcp validate","text":"<p>Validate an ABI structure without generating any files.</p>"},{"location":"cli/validate/#synopsis","title":"Synopsis","text":"<pre><code>abi-to-mcp validate SOURCE [OPTIONS]\n</code></pre>"},{"location":"cli/validate/#description","title":"Description","text":"<p>The <code>validate</code> command checks if an ABI is valid and can be processed by abi-to-mcp. It's useful for:</p> <ul> <li>Checking ABI files before generation</li> <li>Validating ABIs from unknown sources</li> <li>Debugging malformed ABIs</li> <li>CI/CD pipelines</li> </ul>"},{"location":"cli/validate/#arguments","title":"Arguments","text":""},{"location":"cli/validate/#source","title":"SOURCE","text":"<p>The ABI source:</p> <ul> <li>File path: <code>./contract.json</code></li> <li>Contract address: <code>0x...</code> (fetched from Etherscan)</li> </ul>"},{"location":"cli/validate/#options","title":"Options","text":""},{"location":"cli/validate/#-network-n","title":"<code>--network</code>, <code>-n</code>","text":"<p>Network for address lookups.</p> Default <code>mainnet</code>"},{"location":"cli/validate/#-strict","title":"<code>--strict</code>","text":"<p>Enable strict validation (fail on warnings).</p> Default <code>False</code>"},{"location":"cli/validate/#-format-f","title":"<code>--format</code>, <code>-f</code>","text":"<p>Output format.</p> Default <code>text</code> Choices <code>text</code>, <code>json</code>"},{"location":"cli/validate/#examples","title":"Examples","text":""},{"location":"cli/validate/#validate-a-local-file","title":"Validate a Local File","text":"<pre><code>abi-to-mcp validate ./my-contract.json\n</code></pre> <p>Output (valid):</p> <pre><code>\u2713 ABI is valid\n\nSummary:\n  \u2022 Entries: 15\n  \u2022 Functions: 12\n  \u2022 Events: 2\n  \u2022 Errors: 1\n  \u2022 No issues found\n</code></pre> <p>Output (invalid):</p> <pre><code>\u2717 ABI validation failed\n\nErrors:\n  1. Entry 3: Missing required field \"name\" for function\n  2. Entry 7: Invalid stateMutability value \"mutable\"\n  3. Entry 12: Parameter type \"uint\" should be \"uint256\"\n\nWarnings:\n  1. Entry 5: Function has no outputs (consider if intentional)\n</code></pre>"},{"location":"cli/validate/#validate-from-address","title":"Validate from Address","text":"<pre><code>abi-to-mcp validate 0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48 -n mainnet\n</code></pre>"},{"location":"cli/validate/#strict-mode","title":"Strict Mode","text":"<pre><code># Fail on warnings too\nabi-to-mcp validate ./my-contract.json --strict\n</code></pre>"},{"location":"cli/validate/#json-output","title":"JSON Output","text":"<pre><code>abi-to-mcp validate ./my-contract.json -f json\n</code></pre> <pre><code>{\n  \"valid\": false,\n  \"errors\": [\n    {\n      \"entry_index\": 3,\n      \"entry_type\": \"function\",\n      \"message\": \"Missing required field \\\"name\\\"\"\n    }\n  ],\n  \"warnings\": [\n    {\n      \"entry_index\": 5,\n      \"entry_type\": \"function\",\n      \"message\": \"Function has no outputs\"\n    }\n  ],\n  \"summary\": {\n    \"total_entries\": 15,\n    \"functions\": 12,\n    \"events\": 2,\n    \"errors\": 1\n  }\n}\n</code></pre>"},{"location":"cli/validate/#validation-rules","title":"Validation Rules","text":""},{"location":"cli/validate/#required-fields","title":"Required Fields","text":"Entry Type Required Fields <code>function</code> <code>name</code> (except constructor/fallback/receive) <code>event</code> <code>name</code> <code>error</code> <code>name</code> <code>constructor</code> <code>inputs</code>"},{"location":"cli/validate/#state-mutability","title":"State Mutability","text":"<p>For functions, <code>stateMutability</code> must be one of:</p> <ul> <li><code>pure</code> - No state access</li> <li><code>view</code> - Read-only state access</li> <li><code>nonpayable</code> - Modifies state, no ETH</li> <li><code>payable</code> - Modifies state, accepts ETH</li> </ul>"},{"location":"cli/validate/#type-validation","title":"Type Validation","text":"<p>All Solidity types must be valid:</p> <ul> <li>Basic: <code>address</code>, <code>bool</code>, <code>string</code>, <code>bytes</code></li> <li>Sized: <code>uint8</code>-<code>uint256</code>, <code>int8</code>-<code>int256</code>, <code>bytes1</code>-<code>bytes32</code></li> <li>Arrays: <code>type[]</code>, <code>type[N]</code></li> <li>Tuples: <code>tuple</code> with <code>components</code></li> </ul>"},{"location":"cli/validate/#common-issues","title":"Common Issues","text":"Issue Example Fix Missing type size <code>uint</code> Use <code>uint256</code> Invalid mutability <code>constant: true</code> Use <code>stateMutability: \"view\"</code> Missing name <code>{\"type\": \"function\", ...}</code> Add <code>\"name\": \"...\"</code> Invalid array syntax <code>address []</code> Use <code>address[]</code> (no space)"},{"location":"cli/validate/#exit-codes","title":"Exit Codes","text":"Code Meaning 0 Valid (no errors) 4 Validation failed (errors found) 3 ABI not found"},{"location":"cli/validate/#use-in-cicd","title":"Use in CI/CD","text":"<pre><code># GitHub Actions example\n- name: Validate ABI\n  run: |\n    abi-to-mcp validate ./artifacts/MyContract.json --strict\n</code></pre> <pre><code># Shell script\nif abi-to-mcp validate ./abi.json; then\n  echo \"ABI is valid\"\n  abi-to-mcp generate ./abi.json -o ./server\nelse\n  echo \"ABI validation failed\"\n  exit 1\nfi\n</code></pre>"},{"location":"cli/validate/#see-also","title":"See Also","text":"<ul> <li>generate - Generate after validating</li> <li>inspect - Detailed ABI inspection</li> <li>Errors Reference - Common error solutions</li> </ul>"},{"location":"concepts/","title":"Core Concepts","text":"<p>This section explains the fundamental concepts you need to understand to work effectively with abi-to-mcp.</p>"},{"location":"concepts/#overview","title":"Overview","text":"<p>abi-to-mcp bridges the gap between smart contracts and AI assistants. To do this effectively, it must handle several key challenges:</p> <ol> <li>Type Translation - Converting Solidity types to JSON Schema and Python</li> <li>Operation Classification - Distinguishing read vs write operations</li> <li>Event Handling - Exposing historical data through resources</li> <li>Safety - Preventing accidental or unauthorized transactions</li> </ol>"},{"location":"concepts/#key-concepts","title":"Key Concepts","text":"<ul> <li> <p> Type Mapping</p> <p>How Solidity types are converted to JSON Schema for validation and Python for code generation.</p> <p> Type Mapping</p> </li> <li> <p> Tool Types</p> <p>The difference between read, write, and payable tools and how they're handled.</p> <p> Tool Types</p> </li> <li> <p> Events &amp; Resources</p> <p>How contract events become queryable MCP resources.</p> <p> Events</p> </li> <li> <p> Safety Features</p> <p>Built-in protections for safe smart contract interaction.</p> <p> Safety</p> </li> </ul>"},{"location":"concepts/#the-mcp-protocol","title":"The MCP Protocol","text":"<p>The Model Context Protocol (MCP) defines how AI assistants connect to external tools. Key concepts:</p>"},{"location":"concepts/#tools","title":"Tools","text":"<p>Tools are functions the AI can call. In abi-to-mcp, each contract function becomes a tool:</p> <pre><code>Solidity Function \u2192 MCP Tool \u2192 AI Capability\n</code></pre> <p>For example: <pre><code>balanceOf(address) \u2192 balance_of tool \u2192 \"Check token balance\"\n</code></pre></p>"},{"location":"concepts/#resources","title":"Resources","text":"<p>Resources are data sources the AI can query. In abi-to-mcp, events become resources:</p> <pre><code>Solidity Event \u2192 MCP Resource \u2192 Historical Data\n</code></pre> <p>For example: <pre><code>Transfer event \u2192 events://transfer \u2192 \"Recent transfers\"\n</code></pre></p>"},{"location":"concepts/#schemas","title":"Schemas","text":"<p>Both tools and resources have JSON Schemas that define their parameters and return types. This allows:</p> <ul> <li>Validation - Ensure inputs are correct before calling</li> <li>Documentation - AI understands what parameters mean</li> <li>Type Safety - Catch errors early</li> </ul>"},{"location":"concepts/#the-generation-pipeline","title":"The Generation Pipeline","text":"<pre><code>graph LR\n    A[ABI JSON] --&gt; B[Parser]\n    B --&gt; C[Type Mapper]\n    C --&gt; D[Tool Generator]\n    C --&gt; E[Resource Generator]\n    D --&gt; F[MCP Server]\n    E --&gt; F\n\n    style A fill:#627EEA,color:#fff\n    style F fill:#4CAF50,color:#fff</code></pre> <ol> <li>Parser - Reads ABI JSON and creates structured objects</li> <li>Type Mapper - Converts Solidity types to JSON Schema</li> <li>Tool Generator - Creates MCP tool definitions</li> <li>Resource Generator - Creates MCP resource definitions</li> <li>MCP Server - Complete runnable server</li> </ol>"},{"location":"concepts/#understanding-abis","title":"Understanding ABIs","text":"<p>An ABI (Application Binary Interface) is a JSON description of a smart contract's interface:</p> <pre><code>[\n  {\n    \"type\": \"function\",\n    \"name\": \"balanceOf\",\n    \"inputs\": [{\"name\": \"account\", \"type\": \"address\"}],\n    \"outputs\": [{\"name\": \"\", \"type\": \"uint256\"}],\n    \"stateMutability\": \"view\"\n  },\n  {\n    \"type\": \"event\",\n    \"name\": \"Transfer\",\n    \"inputs\": [\n      {\"name\": \"from\", \"type\": \"address\", \"indexed\": true},\n      {\"name\": \"to\", \"type\": \"address\", \"indexed\": true},\n      {\"name\": \"value\", \"type\": \"uint256\", \"indexed\": false}\n    ]\n  }\n]\n</code></pre> <p>abi-to-mcp reads this and generates corresponding MCP tools and resources.</p>"},{"location":"concepts/#next-steps","title":"Next Steps","text":"<p>Start with Type Mapping to understand how types are converted.</p>"},{"location":"concepts/events/","title":"Events &amp; Resources","text":"<p>Smart contract events provide a historical record of what happened on the blockchain. abi-to-mcp exposes these as MCP resources that AI assistants can query.</p>"},{"location":"concepts/events/#overview","title":"Overview","text":"<pre><code>graph LR\n    A[Contract Event] --&gt; B[Event Parser]\n    B --&gt; C[MCP Resource]\n    C --&gt; D[Historical Data]\n\n    style A fill:#627EEA,color:#fff\n    style C fill:#4CAF50,color:#fff\n    style D fill:#9C27B0,color:#fff</code></pre>"},{"location":"concepts/events/#what-are-events","title":"What Are Events?","text":"<p>Events are logs emitted by smart contracts during transactions:</p> <pre><code>event Transfer(\n    address indexed from,\n    address indexed to,\n    uint256 value\n);\n\nfunction transfer(address to, uint256 amount) external returns (bool) {\n    // ... transfer logic ...\n    emit Transfer(msg.sender, to, amount);\n    return true;\n}\n</code></pre> <p>Key properties: - Immutable - Once emitted, cannot be changed - Indexed Parameters - Up to 3 parameters can be indexed for efficient filtering - Gas Efficient - Cheaper than storage for historical data - Off-Chain Access - Can be queried without calling the contract</p>"},{"location":"concepts/events/#events-as-mcp-resources","title":"Events as MCP Resources","text":"<p>Each event becomes a queryable MCP resource:</p>"},{"location":"concepts/events/#resource-uri-format","title":"Resource URI Format","text":"<pre><code>events://{event_name_snake_case}\n</code></pre> <p>Examples: - <code>Transfer</code> \u2192 <code>events://transfer</code> - <code>Approval</code> \u2192 <code>events://approval</code> - <code>OwnershipTransferred</code> \u2192 <code>events://ownership_transferred</code></p>"},{"location":"concepts/events/#generated-resource","title":"Generated Resource","text":"<p>Solidity Event: <pre><code>event Transfer(\n    address indexed from,\n    address indexed to,\n    uint256 value\n);\n</code></pre></p> <p>MCP Resource: <pre><code>@mcp.resource(\"events://transfer\")\nasync def get_transfer_events(\n    from_address: str = None,\n    to_address: str = None,\n    from_block: int = None,\n    to_block: int = None,\n    limit: int = 100\n) -&gt; list[dict]:\n    \"\"\"\n    Query Transfer events from the contract.\n\n    Args:\n        from_address: Filter by sender address (optional)\n        to_address: Filter by recipient address (optional)\n        from_block: Starting block number (optional)\n        to_block: Ending block number (optional)\n        limit: Maximum number of events to return\n\n    Returns:\n        List of Transfer events with block info\n    \"\"\"\n    ...\n</code></pre></p>"},{"location":"concepts/events/#indexed-vs-non-indexed-parameters","title":"Indexed vs Non-Indexed Parameters","text":""},{"location":"concepts/events/#indexed-parameters","title":"Indexed Parameters","text":"<ul> <li>Can be used for filtering</li> <li>Up to 3 per event</li> <li>Stored as topics in the log</li> </ul> <pre><code>event Transfer(\n    address indexed from,    // Can filter by this\n    address indexed to,      // Can filter by this\n    uint256 value           // Cannot filter by this\n);\n</code></pre>"},{"location":"concepts/events/#non-indexed-parameters","title":"Non-Indexed Parameters","text":"<ul> <li>Cannot be used for filtering</li> <li>Stored in log data</li> <li>Still returned in results</li> </ul>"},{"location":"concepts/events/#query-examples","title":"Query Examples","text":""},{"location":"concepts/events/#get-all-transfers","title":"Get All Transfers","text":"<pre><code># AI can query: \"Show me all transfers\"\nevents = await get_transfer_events()\n</code></pre>"},{"location":"concepts/events/#filter-by-sender","title":"Filter by Sender","text":"<pre><code># AI can query: \"Show transfers from 0x123...\"\nevents = await get_transfer_events(\n    from_address=\"0x123...\"\n)\n</code></pre>"},{"location":"concepts/events/#filter-by-block-range","title":"Filter by Block Range","text":"<pre><code># AI can query: \"Show transfers in the last 1000 blocks\"\ncurrent_block = await w3.eth.block_number\nevents = await get_transfer_events(\n    from_block=current_block - 1000,\n    to_block=current_block\n)\n</code></pre>"},{"location":"concepts/events/#combined-filters","title":"Combined Filters","text":"<pre><code># AI can query: \"Show transfers to 0x456... in last 100 blocks\"\nevents = await get_transfer_events(\n    to_address=\"0x456...\",\n    from_block=current_block - 100\n)\n</code></pre>"},{"location":"concepts/events/#event-data-structure","title":"Event Data Structure","text":"<p>Each returned event includes:</p> <pre><code>{\n    \"event\": \"Transfer\",\n    \"block_number\": 18500000,\n    \"block_hash\": \"0x...\",\n    \"transaction_hash\": \"0x...\",\n    \"transaction_index\": 42,\n    \"log_index\": 7,\n    \"args\": {\n        \"from\": \"0x123...\",\n        \"to\": \"0x456...\",\n        \"value\": \"1000000000000000000\"\n    }\n}\n</code></pre>"},{"location":"concepts/events/#common-event-patterns","title":"Common Event Patterns","text":""},{"location":"concepts/events/#erc20-events","title":"ERC20 Events","text":"Event Purpose Indexed Args <code>Transfer(from, to, value)</code> Token transfers from, to <code>Approval(owner, spender, value)</code> Spending approvals owner, spender"},{"location":"concepts/events/#erc721-events","title":"ERC721 Events","text":"Event Purpose Indexed Args <code>Transfer(from, to, tokenId)</code> NFT transfers from, to, tokenId <code>Approval(owner, approved, tokenId)</code> Single approval owner, approved, tokenId <code>ApprovalForAll(owner, operator, approved)</code> Operator approval owner, operator"},{"location":"concepts/events/#governance-events","title":"Governance Events","text":"Event Purpose Indexed Args <code>ProposalCreated(proposalId, ...)</code> New proposals proposalId <code>VoteCast(voter, proposalId, ...)</code> Votes voter, proposalId <code>ProposalExecuted(proposalId)</code> Execution proposalId"},{"location":"concepts/events/#performance-considerations","title":"Performance Considerations","text":""},{"location":"concepts/events/#block-range-limits","title":"Block Range Limits","text":"<p>Most RPC providers limit how many blocks you can query:</p> Provider Typical Limit Alchemy 2,000 blocks Infura 10,000 blocks QuickNode 10,000 blocks Public RPCs 1,000 blocks <p>Large Queries</p> <p>Querying all events from block 0 will likely fail or timeout. Always use reasonable block ranges.</p>"},{"location":"concepts/events/#pagination","title":"Pagination","text":"<p>For large result sets, events are paginated:</p> <pre><code># Get first 100 events\nevents = await get_transfer_events(limit=100)\n\n# Get next 100 events (using last block as starting point)\nlast_block = events[-1][\"block_number\"]\nmore_events = await get_transfer_events(\n    from_block=last_block,\n    limit=100\n)\n</code></pre>"},{"location":"concepts/events/#excluding-events","title":"Excluding Events","text":"<p>If you don't need events, you can exclude them:</p> <pre><code>abi-to-mcp generate ./abi.json --no-events\n</code></pre> <p>This: - Reduces generated code size - Simplifies the server - Still includes all tools</p>"},{"location":"concepts/events/#anonymous-events","title":"Anonymous Events","text":"<p>Anonymous events don't have a topic signature:</p> <pre><code>event AnonymousEvent(uint256 value) anonymous;\n</code></pre> <p>These are currently not supported by abi-to-mcp because they cannot be reliably filtered.</p>"},{"location":"concepts/events/#use-cases","title":"Use Cases","text":""},{"location":"concepts/events/#transaction-history","title":"Transaction History","text":"<p>\"Show me the last 10 transfers from this wallet\"</p> <pre><code>events = await get_transfer_events(\n    from_address=\"0x...\",\n    limit=10\n)\n</code></pre>"},{"location":"concepts/events/#balance-verification","title":"Balance Verification","text":"<p>\"Verify this wallet received 100 tokens\"</p> <pre><code>events = await get_transfer_events(\n    to_address=\"0x...\",\n    from_block=expected_block - 10,\n    to_block=expected_block + 10\n)\n# Check if expected transfer exists\n</code></pre>"},{"location":"concepts/events/#activity-monitoring","title":"Activity Monitoring","text":"<p>\"Has there been any activity on this contract today?\"</p> <pre><code>blocks_per_day = 7200  # ~12 second blocks\nevents = await get_transfer_events(\n    from_block=current_block - blocks_per_day,\n    limit=10\n)\n</code></pre>"},{"location":"concepts/events/#related","title":"Related","text":"<ul> <li>Tool Types - How write operations emit events</li> <li>API Reference - ResourceGenerator API</li> <li>Guides - Working with token events</li> </ul>"},{"location":"concepts/safety/","title":"Safety Features","text":"<p>abi-to-mcp is designed with safety as a primary concern. This page describes all the built-in protections.</p>"},{"location":"concepts/safety/#safety-philosophy","title":"Safety Philosophy","text":"<p>Principle: No transaction should execute without explicit user intent.</p> <p>Smart contract interactions are irreversible. Once a transaction is confirmed, it cannot be undone. abi-to-mcp provides multiple layers of protection:</p> <pre><code>graph TD\n    A[User Request] --&gt; B{Simulation}\n    B --&gt;|Pass| C{User Confirmation}\n    B --&gt;|Fail| D[Show Error]\n    C --&gt;|Confirmed| E{Private Key?}\n    C --&gt;|Rejected| F[Abort]\n    E --&gt;|Yes| G[Execute]\n    E --&gt;|No| H[Error: No Key]\n\n    style B fill:#2196F3,color:#fff\n    style C fill:#FF9800,color:#fff\n    style G fill:#F44336,color:#fff</code></pre>"},{"location":"concepts/safety/#layer-1-simulation-by-default","title":"Layer 1: Simulation by Default","text":"<p>All write operations simulate before executing:</p> <pre><code>@mcp.tool()\nasync def transfer(\n    to: str,\n    amount: str,\n    simulate: bool = True  # Default: simulation only\n) -&gt; dict:\n    \"\"\"Transfer tokens.\"\"\"\n    if simulate:\n        return await simulate_transaction(...)\n    else:\n        return await execute_transaction(...)\n</code></pre>"},{"location":"concepts/safety/#what-simulation-shows","title":"What Simulation Shows","text":"<pre><code>{\n  \"success\": true,\n  \"would_succeed\": true,\n  \"gas_estimate\": 65000,\n  \"gas_price_gwei\": 25.5,\n  \"estimated_cost_eth\": \"0.0016575\",\n  \"estimated_cost_usd\": \"$3.15\",\n  \"result\": true\n}\n</code></pre>"},{"location":"concepts/safety/#simulation-catches","title":"Simulation Catches","text":"<ul> <li>\u2705 Insufficient balance</li> <li>\u2705 Insufficient allowance</li> <li>\u2705 Contract reverts</li> <li>\u2705 Invalid parameters</li> <li>\u2705 Access control failures</li> </ul>"},{"location":"concepts/safety/#enabling-execution","title":"Enabling Execution","text":"<p>Must explicitly set <code>simulate=False</code>:</p> <pre><code># This WILL execute\nresult = await transfer(\n    to=\"0x...\",\n    amount=\"1000000000000000000\",\n    simulate=False  # Explicit opt-in required\n)\n</code></pre>"},{"location":"concepts/safety/#layer-2-read-only-mode","title":"Layer 2: Read-Only Mode","text":"<p>Generate servers that cannot write:</p> <pre><code>abi-to-mcp generate ./abi.json --read-only\n</code></pre> <p>This completely excludes: - All <code>nonpayable</code> functions - All <code>payable</code> functions - No private key handling code</p> <p>Perfect for: - Exploration and research - Public-facing servers - Analytics dashboards</p>"},{"location":"concepts/safety/#layer-3-no-embedded-keys","title":"Layer 3: No Embedded Keys","text":"<p>Private keys are never stored in generated code:</p> <pre><code># config.py - generated\nPRIVATE_KEY = os.environ.get(\"PRIVATE_KEY\")  # From environment only\n</code></pre> <p>This means: - No keys in source control - No keys in generated files - Keys only loaded at runtime - Missing key = graceful error</p>"},{"location":"concepts/safety/#missing-key-behavior","title":"Missing Key Behavior","text":"<pre><code>if not PRIVATE_KEY:\n    return {\n        \"error\": \"PRIVATE_KEY not configured\",\n        \"message\": \"Write operations require a private key. \"\n                   \"Set the PRIVATE_KEY environment variable.\"\n    }\n</code></pre>"},{"location":"concepts/safety/#layer-4-transaction-validation","title":"Layer 4: Transaction Validation","text":"<p>Before any transaction:</p>"},{"location":"concepts/safety/#address-validation","title":"Address Validation","text":"<pre><code># Validates checksum and format\nWeb3.to_checksum_address(address)  # Raises if invalid\n</code></pre>"},{"location":"concepts/safety/#amount-validation","title":"Amount Validation","text":"<pre><code># Ensures positive integer\namount = int(amount_str)\nif amount &lt; 0:\n    raise ValueError(\"Amount cannot be negative\")\n</code></pre>"},{"location":"concepts/safety/#gas-validation","title":"Gas Validation","text":"<pre><code># Prevents runaway gas costs\nif gas_estimate &gt; MAX_GAS_LIMIT:\n    raise ValueError(f\"Gas estimate {gas_estimate} exceeds limit\")\n</code></pre>"},{"location":"concepts/safety/#layer-5-network-confirmation","title":"Layer 5: Network Confirmation","text":"<p>Always confirms the network before writing:</p> <pre><code># Verify chain ID matches expected\nchain_id = await w3.eth.chain_id\nif chain_id != EXPECTED_CHAIN_ID:\n    raise NetworkMismatchError(\n        f\"Expected chain {EXPECTED_CHAIN_ID}, got {chain_id}\"\n    )\n</code></pre>"},{"location":"concepts/safety/#safety-configuration","title":"Safety Configuration","text":""},{"location":"concepts/safety/#environment-variables","title":"Environment Variables","text":"Variable Purpose Default <code>PRIVATE_KEY</code> Transaction signing None (disabled) <code>SIMULATION_DEFAULT</code> Default simulation mode <code>true</code> <code>READ_ONLY_MODE</code> Disable all writes <code>false</code> <code>MAX_GAS_LIMIT</code> Maximum gas per tx <code>500000</code> <code>REQUIRE_CONFIRMATION</code> Require explicit confirm <code>true</code>"},{"location":"concepts/safety/#generation-options","title":"Generation Options","text":"<pre><code># Maximum safety\nabi-to-mcp generate ./abi.json \\\n    --read-only \\\n    --no-events\n\n# Standard safety (simulation default)\nabi-to-mcp generate ./abi.json \\\n    --simulate\n\n# Reduced safety (not recommended)\nabi-to-mcp generate ./abi.json \\\n    --no-simulate\n</code></pre>"},{"location":"concepts/safety/#best-practices","title":"Best Practices","text":""},{"location":"concepts/safety/#for-ai-assistants","title":"For AI Assistants","text":"<p>Always Explain Risks</p> <p>When a user asks to execute a transaction:</p> <ol> <li>Explain what the transaction will do</li> <li>Show the estimated gas cost</li> <li>Confirm the user wants to proceed</li> <li>Execute with <code>simulate=False</code> only after confirmation</li> </ol>"},{"location":"concepts/safety/#for-developers","title":"For Developers","text":"<p>Never Disable Simulation Globally</p> <p>Always keep <code>simulate=True</code> as the default. Let users explicitly opt-in to execution.</p>"},{"location":"concepts/safety/#for-production","title":"For Production","text":"<p>Dedicated Wallets</p> <p>Never use a wallet containing significant funds. Create a dedicated wallet for MCP interactions with only the funds needed for operations.</p>"},{"location":"concepts/safety/#error-handling","title":"Error Handling","text":"<p>All errors are caught and returned safely:</p> <pre><code>try:\n    result = await execute_transaction(...)\nexcept InsufficientFundsError as e:\n    return {\"error\": \"insufficient_funds\", \"message\": str(e)}\nexcept ContractRevertError as e:\n    return {\"error\": \"contract_revert\", \"message\": str(e)}\nexcept Exception as e:\n    return {\"error\": \"unknown\", \"message\": str(e)}\n</code></pre>"},{"location":"concepts/safety/#audit-trail","title":"Audit Trail","text":"<p>All operations are logged:</p> <pre><code>logger.info(f\"Simulating transfer: to={to}, amount={amount}\")\nlogger.warning(f\"Executing transfer: to={to}, amount={amount}\")\nlogger.info(f\"Transaction submitted: {tx_hash}\")\n</code></pre>"},{"location":"concepts/safety/#security-considerations","title":"Security Considerations","text":""},{"location":"concepts/safety/#what-abi-to-mcp-does-not-protect-against","title":"What abi-to-mcp Does NOT Protect Against","text":"<ul> <li>Social engineering - User tricked into confirming bad transaction</li> <li>Malicious contracts - ABI doesn't reveal malicious code</li> <li>Private key theft - If environment is compromised</li> <li>Phishing addresses - Similar-looking addresses</li> </ul>"},{"location":"concepts/safety/#what-you-should-do","title":"What You Should Do","text":"<ol> <li>Verify contracts - Only use verified contracts</li> <li>Check addresses - Double-check recipient addresses</li> <li>Start small - Test with small amounts first</li> <li>Use hardware wallets - For significant funds</li> <li>Monitor transactions - Watch for unexpected activity</li> </ol>"},{"location":"concepts/safety/#related","title":"Related","text":"<ul> <li>Tool Types - Read vs write operations</li> <li>CLI Reference - Safety-related options</li> <li>Guides - Safe Claude integration</li> </ul>"},{"location":"concepts/tool-types/","title":"Tool Types","text":"<p>abi-to-mcp generates different types of tools based on the function's state mutability. Understanding these types is crucial for safe smart contract interaction.</p>"},{"location":"concepts/tool-types/#overview","title":"Overview","text":"<pre><code>graph TD\n    A[Function] --&gt; B{stateMutability}\n    B --&gt;|pure/view| C[Read Tool]\n    B --&gt;|nonpayable| D[Write Tool]\n    B --&gt;|payable| E[Write Payable Tool]\n\n    C --&gt; F[No gas required]\n    D --&gt; G[Gas required]\n    E --&gt; H[Gas + ETH required]\n\n    style C fill:#4CAF50,color:#fff\n    style D fill:#FF9800,color:#fff\n    style E fill:#F44336,color:#fff</code></pre>"},{"location":"concepts/tool-types/#read-tools","title":"Read Tools","text":"<p>Functions with <code>pure</code> or <code>view</code> state mutability become read tools.</p>"},{"location":"concepts/tool-types/#characteristics","title":"Characteristics","text":"Property Value Gas Required No Transaction No Private Key No Modifies State No Returns Data Yes"},{"location":"concepts/tool-types/#example","title":"Example","text":"<p>Solidity: <pre><code>function balanceOf(address account) external view returns (uint256);\n</code></pre></p> <p>Generated Tool: <pre><code>@mcp.tool()\nasync def balance_of(account: str) -&gt; str:\n    \"\"\"\n    Get the token balance for an account.\n\n    This is a read-only operation that does not require gas.\n\n    Args:\n        account: The address to check balance for (0x...)\n\n    Returns:\n        The token balance as a string (wei)\n    \"\"\"\n    result = await contract.functions.balanceOf(\n        Web3.to_checksum_address(account)\n    ).call()\n    return str(result)\n</code></pre></p>"},{"location":"concepts/tool-types/#common-read-functions","title":"Common Read Functions","text":"Function Purpose <code>balanceOf(address)</code> Get token balance <code>totalSupply()</code> Get total supply <code>name()</code> Get token name <code>symbol()</code> Get token symbol <code>decimals()</code> Get token decimals <code>allowance(owner, spender)</code> Get spending approval <code>ownerOf(tokenId)</code> Get NFT owner"},{"location":"concepts/tool-types/#write-tools","title":"Write Tools","text":"<p>Functions with <code>nonpayable</code> state mutability become write tools.</p>"},{"location":"concepts/tool-types/#characteristics_1","title":"Characteristics","text":"Property Value Gas Required Yes Transaction Yes Private Key Yes Modifies State Yes Returns Transaction hash"},{"location":"concepts/tool-types/#safety-features","title":"Safety Features","text":"<p>Write tools include built-in safety:</p> <ol> <li>Simulation by Default - Transactions are simulated before execution</li> <li>Explicit Opt-In - Must set <code>simulate=False</code> to execute</li> <li>Gas Estimation - Shows estimated gas cost before execution</li> </ol>"},{"location":"concepts/tool-types/#example_1","title":"Example","text":"<p>Solidity: <pre><code>function transfer(address to, uint256 amount) external returns (bool);\n</code></pre></p> <p>Generated Tool: <pre><code>@mcp.tool()\nasync def transfer(\n    to: str,\n    amount: str,\n    simulate: bool = True\n) -&gt; dict:\n    \"\"\"\n    Transfer tokens to another address.\n\n    \u26a0\ufe0f This operation modifies blockchain state and requires gas.\n\n    Args:\n        to: Recipient address (0x...)\n        amount: Amount to transfer (in wei, as string)\n        simulate: If True (default), only simulate the transaction\n\n    Returns:\n        If simulate=True: Simulation result with gas estimate\n        If simulate=False: Transaction hash and receipt\n    \"\"\"\n    if simulate:\n        return await simulate_transaction(\n            contract.functions.transfer(\n                Web3.to_checksum_address(to),\n                int(amount)\n            )\n        )\n    else:\n        return await execute_transaction(\n            contract.functions.transfer(\n                Web3.to_checksum_address(to),\n                int(amount)\n            )\n        )\n</code></pre></p>"},{"location":"concepts/tool-types/#common-write-functions","title":"Common Write Functions","text":"Function Purpose <code>transfer(to, amount)</code> Transfer tokens <code>approve(spender, amount)</code> Approve spending <code>transferFrom(from, to, amount)</code> Transfer on behalf <code>mint(to, amount)</code> Create new tokens <code>burn(amount)</code> Destroy tokens"},{"location":"concepts/tool-types/#write-payable-tools","title":"Write Payable Tools","text":"<p>Functions with <code>payable</code> state mutability become write payable tools.</p>"},{"location":"concepts/tool-types/#characteristics_2","title":"Characteristics","text":"Property Value Gas Required Yes Transaction Yes Private Key Yes Modifies State Yes ETH Value Yes Returns Transaction hash"},{"location":"concepts/tool-types/#additional-parameter","title":"Additional Parameter","text":"<p>Payable tools include an additional <code>value</code> parameter:</p> <pre><code>@mcp.tool()\nasync def deposit(\n    value: str,  # ETH to send (in wei)\n    simulate: bool = True\n) -&gt; dict:\n    \"\"\"\n    Deposit ETH into the contract.\n\n    \u26a0\ufe0f This operation sends ETH and modifies blockchain state.\n\n    Args:\n        value: Amount of ETH to send (in wei, as string)\n        simulate: If True (default), only simulate the transaction\n    \"\"\"\n    ...\n</code></pre>"},{"location":"concepts/tool-types/#example_2","title":"Example","text":"<p>Solidity: <pre><code>function swap(\n    address tokenIn,\n    address tokenOut,\n    uint256 amountIn\n) external payable returns (uint256 amountOut);\n</code></pre></p> <p>Generated Tool: <pre><code>@mcp.tool()\nasync def swap(\n    token_in: str,\n    token_out: str,\n    amount_in: str,\n    value: str = \"0\",  # ETH to send\n    simulate: bool = True\n) -&gt; dict:\n    \"\"\"\n    Swap tokens on the DEX.\n\n    \u26a0\ufe0f This operation may require sending ETH for gas and/or swap value.\n    \"\"\"\n    ...\n</code></pre></p>"},{"location":"concepts/tool-types/#read-only-mode","title":"Read-Only Mode","text":"<p>When safety is paramount, you can generate read-only servers:</p> <pre><code>abi-to-mcp generate ./abi.json --read-only\n</code></pre> <p>This: - Excludes all write tools - Excludes all payable tools - Only generates read tools - No private key needed</p>"},{"location":"concepts/tool-types/#identifying-tool-types-in-output","title":"Identifying Tool Types in Output","text":"<p>When you run <code>abi-to-mcp inspect</code>, you can see the tool types:</p> <pre><code>$ abi-to-mcp inspect ./erc20.json\n\n\ud83d\udccb Contract Analysis\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\n\ud83d\udcd6 Read Operations (9 functions)\n  \u2022 name() \u2192 string\n  \u2022 symbol() \u2192 string\n  \u2022 decimals() \u2192 uint8\n  \u2022 totalSupply() \u2192 uint256\n  \u2022 balanceOf(address) \u2192 uint256\n  \u2022 allowance(address,address) \u2192 uint256\n  \u2022 owner() \u2192 address\n  \u2022 paused() \u2192 bool\n  \u2022 nonces(address) \u2192 uint256\n\n\u270d\ufe0f Write Operations (5 functions)\n  \u2022 transfer(address,uint256) \u2192 bool\n  \u2022 approve(address,uint256) \u2192 bool\n  \u2022 transferFrom(address,address,uint256) \u2192 bool\n  \u2022 increaseAllowance(address,uint256) \u2192 bool\n  \u2022 decreaseAllowance(address,uint256) \u2192 bool\n\n\ud83d\udcb0 Payable Operations (0 functions)\n  (none)\n</code></pre>"},{"location":"concepts/tool-types/#best-practices","title":"Best Practices","text":""},{"location":"concepts/tool-types/#for-ai-assistants","title":"For AI Assistants","text":"<ol> <li>Always simulate first - Never skip simulation for write operations</li> <li>Explain gas costs - Tell users the estimated cost before executing</li> <li>Confirm large transfers - Double-check amounts with users</li> <li>Check balances first - Verify sufficient funds before writing</li> </ol>"},{"location":"concepts/tool-types/#for-developers","title":"For Developers","text":"<ol> <li>Use read-only for exploration - When just querying data</li> <li>Test with simulation - Verify transactions work before executing</li> <li>Set appropriate gas limits - Don't overpay for transactions</li> <li>Monitor pending transactions - Track transaction status</li> </ol>"},{"location":"concepts/tool-types/#related","title":"Related","text":"<ul> <li>Safety Features - More on simulation and protection</li> <li>Events - Tracking what write operations do</li> <li>CLI Reference - Generation options</li> </ul>"},{"location":"concepts/type-mapping/","title":"Type Mapping","text":"<p>Understanding how Solidity types are converted to JSON Schema is essential for working with generated MCP servers.</p>"},{"location":"concepts/type-mapping/#overview","title":"Overview","text":"<p>abi-to-mcp performs a multi-step type conversion:</p> <pre><code>graph LR\n    A[Solidity Type] --&gt; B[Parsed Type]\n    B --&gt; C[JSON Schema]\n    B --&gt; D[Python Type]\n\n    style A fill:#627EEA,color:#fff\n    style C fill:#4CAF50,color:#fff\n    style D fill:#3776AB,color:#fff</code></pre>"},{"location":"concepts/type-mapping/#complete-type-mapping-reference","title":"Complete Type Mapping Reference","text":""},{"location":"concepts/type-mapping/#numeric-types","title":"Numeric Types","text":"Solidity Type JSON Schema Python Type Notes <code>uint8</code> - <code>uint256</code> <code>{\"type\": \"string\", \"pattern\": \"^[0-9]+$\"}</code> <code>str</code> String to preserve precision <code>int8</code> - <code>int256</code> <code>{\"type\": \"string\", \"pattern\": \"^-?[0-9]+$\"}</code> <code>str</code> String to preserve precision <p>Why Strings for Numbers?</p> <p>JavaScript's <code>Number</code> type cannot safely represent values larger than 2^53. Since uint256 can be up to 2^256, we use strings to preserve precision across all systems.</p>"},{"location":"concepts/type-mapping/#address-types","title":"Address Types","text":"Solidity Type JSON Schema Python Type <code>address</code> <code>{\"type\": \"string\", \"pattern\": \"^0x[a-fA-F0-9]{40}$\"}</code> <code>str</code> <p>The pattern ensures: - Starts with <code>0x</code> - Exactly 40 hexadecimal characters - Case-insensitive (checksummed addresses work)</p>"},{"location":"concepts/type-mapping/#boolean-type","title":"Boolean Type","text":"Solidity Type JSON Schema Python Type <code>bool</code> <code>{\"type\": \"boolean\"}</code> <code>bool</code>"},{"location":"concepts/type-mapping/#bytes-types","title":"Bytes Types","text":"Solidity Type JSON Schema Python Type Notes <code>bytes</code> <code>{\"type\": \"string\", \"pattern\": \"^0x[a-fA-F0-9]*$\"}</code> <code>str</code> Dynamic length <code>bytes1</code> - <code>bytes32</code> <code>{\"type\": \"string\", \"pattern\": \"^0x[a-fA-F0-9]{N}$\"}</code> <code>str</code> Fixed length (N = bytes * 2)"},{"location":"concepts/type-mapping/#string-type","title":"String Type","text":"Solidity Type JSON Schema Python Type <code>string</code> <code>{\"type\": \"string\"}</code> <code>str</code>"},{"location":"concepts/type-mapping/#array-types","title":"Array Types","text":"Solidity Type JSON Schema Python Type <code>T[]</code> <code>{\"type\": \"array\", \"items\": {...}}</code> <code>List[T]</code> <code>T[N]</code> <code>{\"type\": \"array\", \"items\": {...}, \"minItems\": N, \"maxItems\": N}</code> <code>List[T]</code> <p>Example: Dynamic Array <pre><code>// uint256[]\n{\n  \"type\": \"array\",\n  \"items\": {\n    \"type\": \"string\",\n    \"pattern\": \"^[0-9]+$\"\n  }\n}\n</code></pre></p> <p>Example: Fixed Array <pre><code>// address[3]\n{\n  \"type\": \"array\",\n  \"items\": {\n    \"type\": \"string\",\n    \"pattern\": \"^0x[a-fA-F0-9]{40}$\"\n  },\n  \"minItems\": 3,\n  \"maxItems\": 3\n}\n</code></pre></p>"},{"location":"concepts/type-mapping/#tuple-types-structs","title":"Tuple Types (Structs)","text":"<p>Solidity structs are represented as tuples in the ABI:</p> <pre><code>// struct Order { address maker; uint256 amount; }\n{\n  \"type\": \"object\",\n  \"properties\": {\n    \"maker\": {\n      \"type\": \"string\",\n      \"pattern\": \"^0x[a-fA-F0-9]{40}$\"\n    },\n    \"amount\": {\n      \"type\": \"string\",\n      \"pattern\": \"^[0-9]+$\"\n    }\n  },\n  \"required\": [\"maker\", \"amount\"]\n}\n</code></pre>"},{"location":"concepts/type-mapping/#type-parsing","title":"Type Parsing","text":"<p>The type parser handles complex nested types:</p> <pre><code># Simple types\n\"uint256\"     \u2192 BaseType(\"uint256\")\n\"address\"     \u2192 BaseType(\"address\")\n\n# Arrays\n\"uint256[]\"   \u2192 ArrayType(BaseType(\"uint256\"), None)\n\"address[5]\"  \u2192 ArrayType(BaseType(\"address\"), 5)\n\n# Nested arrays\n\"uint256[][]\" \u2192 ArrayType(ArrayType(BaseType(\"uint256\"), None), None)\n\n# Tuples (with components from ABI)\n\"tuple\"       \u2192 TupleType([...components...])\n</code></pre>"},{"location":"concepts/type-mapping/#handling-edge-cases","title":"Handling Edge Cases","text":""},{"location":"concepts/type-mapping/#empty-arrays","title":"Empty Arrays","text":"<p>Empty arrays are valid for dynamic array types:</p> <pre><code>{\n  \"type\": \"array\",\n  \"items\": {\"type\": \"string\"}\n}\n// Valid: [], [\"a\"], [\"a\", \"b\"]\n</code></pre>"},{"location":"concepts/type-mapping/#nested-tuples","title":"Nested Tuples","text":"<p>Deeply nested structures are fully supported:</p> <pre><code># struct Pool { Token tokenA; Token tokenB; uint24 fee; }\n# struct Token { address addr; uint8 decimals; }\n\n{\n  \"type\": \"object\",\n  \"properties\": {\n    \"tokenA\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"addr\": {\"type\": \"string\", \"pattern\": \"^0x[a-fA-F0-9]{40}$\"},\n        \"decimals\": {\"type\": \"string\", \"pattern\": \"^[0-9]+$\"}\n      }\n    },\n    \"tokenB\": {...},\n    \"fee\": {\"type\": \"string\", \"pattern\": \"^[0-9]+$\"}\n  }\n}\n</code></pre>"},{"location":"concepts/type-mapping/#reserved-python-keywords","title":"Reserved Python Keywords","text":"<p>When Solidity parameter names conflict with Python keywords, they're automatically escaped:</p> Solidity Name Python Name <code>from</code> <code>from_</code> <code>class</code> <code>class_</code> <code>import</code> <code>import_</code> <code>type</code> <code>type_</code>"},{"location":"concepts/type-mapping/#custom-type-extensions","title":"Custom Type Extensions","text":"<p>The type mapper can be extended for custom types:</p> <pre><code>from abi_to_mcp.mapper import TypeMapper\n\nclass CustomTypeMapper(TypeMapper):\n    def to_json_schema(self, parsed_type) -&gt; dict:\n        # Handle custom type\n        if parsed_type.base_type == \"myCustomType\":\n            return {\"type\": \"string\", \"format\": \"custom\"}\n\n        # Fall back to default\n        return super().to_json_schema(parsed_type)\n</code></pre>"},{"location":"concepts/type-mapping/#validation-examples","title":"Validation Examples","text":""},{"location":"concepts/type-mapping/#valid-inputs","title":"Valid Inputs","text":"<pre><code># address\n\"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\"  \u2713\n\n# uint256\n\"1000000000000000000\"  \u2713  # 1 ETH in wei\n\n# bytes32\n\"0x0000000000000000000000000000000000000000000000000000000000000001\"  \u2713\n\n# address[]\n[\"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\", \"0x...\"]  \u2713\n</code></pre>"},{"location":"concepts/type-mapping/#invalid-inputs","title":"Invalid Inputs","text":"<pre><code># address - wrong length\n\"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB4\"  \u2717\n\n# uint256 - negative not allowed\n\"-1\"  \u2717\n\n# uint256 - must be string\n1000000000000000000  \u2717\n\n# bytes32 - wrong length\n\"0x01\"  \u2717\n</code></pre>"},{"location":"concepts/type-mapping/#related","title":"Related","text":"<ul> <li>Tool Types - How functions use these types</li> <li>API Reference - TypeMapper API documentation</li> <li>Reference Tables - Complete type reference</li> </ul>"},{"location":"contributing/","title":"Contributing","text":"<p>Thank you for your interest in contributing to abi-to-mcp! This section covers everything you need to get started.</p>"},{"location":"contributing/#ways-to-contribute","title":"Ways to Contribute","text":"<ul> <li> <p> Report Bugs</p> <p>Found a bug? Open an issue with details to help us fix it.</p> <p> GitHub Issues</p> </li> <li> <p> Suggest Features</p> <p>Have an idea? Open a discussion to share your thoughts.</p> <p> Discussions</p> </li> <li> <p> Submit Code</p> <p>Fix a bug or add a feature. See our development guide.</p> <p> Development</p> </li> <li> <p> Improve Docs</p> <p>Help improve documentation, add examples, fix typos.</p> <p> Documentation</p> </li> </ul>"},{"location":"contributing/#quick-start","title":"Quick Start","text":"<pre><code># Fork and clone\ngit clone https://github.com/YOUR-USERNAME/ABI-to-MCP.git\ncd ABI-to-MCP\n\n# Setup development environment\nmake setup\n\n# Run tests\nmake test\n\n# Make your changes, then submit a PR!\n</code></pre>"},{"location":"contributing/#development-guides","title":"Development Guides","text":"Guide Description Development Setup Environment setup and workflow Architecture Project structure and design Testing Writing and running tests"},{"location":"contributing/#contribution-guidelines","title":"Contribution Guidelines","text":""},{"location":"contributing/#code-style","title":"Code Style","text":"<ul> <li>We use Ruff for linting and formatting</li> <li>Type hints are required for all public functions</li> <li>Docstrings follow Google style</li> </ul> <pre><code># Format code\nmake format\n\n# Run linter\nmake lint\n</code></pre>"},{"location":"contributing/#commit-messages","title":"Commit Messages","text":"<p>Use conventional commits:</p> <pre><code>feat: add support for ERC4626 detection\nfix: handle empty ABI arrays\ndocs: update type mapping table\ntest: add tests for nested tuples\n</code></pre>"},{"location":"contributing/#pull-request-process","title":"Pull Request Process","text":"<ol> <li>Fork the repository</li> <li>Create a branch from <code>main</code></li> <li>Make changes with tests</li> <li>Run checks (<code>make check</code>)</li> <li>Submit PR with description</li> </ol>"},{"location":"contributing/#code-review","title":"Code Review","text":"<p>All submissions require review. We aim to review within:</p> <ul> <li>Bug fixes: 1-2 days</li> <li>Features: 3-5 days</li> <li>Major changes: 1-2 weeks</li> </ul>"},{"location":"contributing/#documentation","title":"Documentation","text":"<p>Documentation is in <code>docs/</code> using MkDocs with Material theme.</p>"},{"location":"contributing/#local-preview","title":"Local Preview","text":"<pre><code>cd docs\npip install mkdocs-material mkdocstrings[python]\nmkdocs serve\n</code></pre> <p>Visit http://localhost:8000</p>"},{"location":"contributing/#doc-structure","title":"Doc Structure","text":"Path Content <code>docs/getting-started/</code> New user tutorials <code>docs/cli/</code> CLI command reference <code>docs/concepts/</code> Conceptual explanations <code>docs/guides/</code> How-to guides <code>docs/api/</code> Python API reference <code>docs/reference/</code> Reference tables <code>docs/contributing/</code> Contribution guides"},{"location":"contributing/#community","title":"Community","text":"<ul> <li>GitHub Discussions - Questions and ideas</li> <li>GitHub Issues - Bug reports</li> <li>Twitter/X - Updates and announcements</li> </ul>"},{"location":"contributing/#license","title":"License","text":"<p>By contributing, you agree that your contributions will be licensed under the MIT License.</p>"},{"location":"contributing/#code-of-conduct","title":"Code of Conduct","text":"<p>We are committed to providing a welcoming and inclusive environment. Please:</p> <ul> <li>Be respectful and constructive</li> <li>Welcome newcomers</li> <li>Focus on the code, not the person</li> <li>Accept constructive criticism gracefully</li> </ul>"},{"location":"contributing/architecture/","title":"Architecture","text":"<p>This page explains the architecture and design of abi-to-mcp.</p>"},{"location":"contributing/architecture/#high-level-overview","title":"High-Level Overview","text":"<pre><code>graph TB\n    subgraph Input\n        A[ABI File]\n        B[Etherscan]\n        C[Sourcify]\n    end\n\n    subgraph Fetchers\n        D[FileFetcher]\n        E[EtherscanFetcher]\n        F[SourcifyFetcher]\n    end\n\n    subgraph Parser\n        G[ABIParser]\n        H[FunctionParser]\n        I[EventParser]\n        J[TypeParser]\n    end\n\n    subgraph Mapper\n        K[TypeMapper]\n        L[FunctionMapper]\n        M[EventMapper]\n    end\n\n    subgraph Generator\n        N[ToolGenerator]\n        O[ResourceGenerator]\n        P[ServerGenerator]\n    end\n\n    subgraph Output\n        Q[server.py]\n        R[config.py]\n        S[README.md]\n    end\n\n    A --&gt; D\n    B --&gt; E\n    C --&gt; F\n\n    D --&gt; G\n    E --&gt; G\n    F --&gt; G\n\n    G --&gt; H\n    G --&gt; I\n    G --&gt; J\n\n    H --&gt; L\n    I --&gt; M\n    J --&gt; K\n\n    K --&gt; L\n    K --&gt; M\n\n    L --&gt; N\n    M --&gt; O\n\n    N --&gt; P\n    O --&gt; P\n\n    P --&gt; Q\n    P --&gt; R\n    P --&gt; S</code></pre>"},{"location":"contributing/architecture/#module-responsibilities","title":"Module Responsibilities","text":""},{"location":"contributing/architecture/#core-core","title":"Core (<code>core/</code>)","text":"<p>Central definitions used across the project:</p> File Purpose <code>config.py</code> Configuration loading and validation <code>constants.py</code> Network definitions, ERC signatures <code>exceptions.py</code> Custom exception classes <code>models.py</code> Data classes (ABIFunction, etc.)"},{"location":"contributing/architecture/#fetchers-fetchers","title":"Fetchers (<code>fetchers/</code>)","text":"<p>Retrieve ABIs from various sources:</p> File Purpose <code>base.py</code> ABIFetcher abstract base class <code>file.py</code> Load from local JSON files <code>etherscan.py</code> Fetch from Etherscan API <code>sourcify.py</code> Fetch from Sourcify <code>registry.py</code> Auto-detect and route to fetcher <p>Design Pattern: Strategy pattern - each fetcher implements <code>ABIFetcher</code> interface.</p>"},{"location":"contributing/architecture/#parser-parser","title":"Parser (<code>parser/</code>)","text":"<p>Parse raw ABI JSON into structured objects:</p> File Purpose <code>abi_parser.py</code> Main parser orchestrator <code>function_parser.py</code> Parse function entries <code>event_parser.py</code> Parse event entries <code>error_parser.py</code> Parse error entries <code>type_parser.py</code> Parse Solidity type strings <p>Design Pattern: Composite - ABIParser delegates to specialized parsers.</p>"},{"location":"contributing/architecture/#mapper-mapper","title":"Mapper (<code>mapper/</code>)","text":"<p>Convert parsed objects to MCP-compatible definitions:</p> File Purpose <code>type_mapper.py</code> Solidity \u2192 JSON Schema <code>function_mapper.py</code> ABIFunction \u2192 MappedTool <code>event_mapper.py</code> ABIEvent \u2192 MappedResource <code>schema_builder.py</code> Build complete schemas <p>Design Pattern: Builder - incrementally construct schemas.</p>"},{"location":"contributing/architecture/#generator-generator","title":"Generator (<code>generator/</code>)","text":"<p>Generate Python code for MCP servers:</p> File Purpose <code>mcp_generator.py</code> Main generation orchestrator <code>tool_generator.py</code> Generate tool code <code>resource_generator.py</code> Generate resource code <code>server_generator.py</code> Generate complete server <code>templates/</code> Jinja2 templates <p>Design Pattern: Template Method - templates define structure, generators fill content.</p>"},{"location":"contributing/architecture/#runtime-runtime","title":"Runtime (<code>runtime/</code>)","text":"<p>Utilities for running generated servers:</p> File Purpose <code>web3_client.py</code> Web3 connection management <code>transaction.py</code> Transaction building <code>simulator.py</code> Transaction simulation <code>signer.py</code> Transaction signing <code>gas.py</code> Gas estimation"},{"location":"contributing/architecture/#cli-cli","title":"CLI (<code>cli/</code>)","text":"<p>Command-line interface:</p> File Purpose <code>main.py</code> Typer app and main entry <code>commands/generate.py</code> Generate command <code>commands/inspect.py</code> Inspect command <code>commands/validate.py</code> Validate command <code>commands/serve.py</code> Serve command <code>utils.py</code> CLI utilities <p>Design Pattern: Command - each command is a separate function.</p>"},{"location":"contributing/architecture/#data-flow","title":"Data Flow","text":""},{"location":"contributing/architecture/#1-fetching","title":"1. Fetching","text":"<pre><code>registry = create_default_registry()\nresult = await registry.fetch(\"0x...\")  # FetchResult\n</code></pre> <p>The registry: 1. Identifies source type (file, address) 2. Selects appropriate fetcher 3. Handles retries and fallbacks 4. Returns <code>FetchResult</code> with ABI and metadata</p>"},{"location":"contributing/architecture/#2-parsing","title":"2. Parsing","text":"<pre><code>parser = ABIParser()\nparsed = parser.parse(result.abi)  # ParsedABI\n</code></pre> <p>The parser: 1. Iterates over ABI entries 2. Routes to specialized parser by type 3. Builds structured objects 4. Detects ERC standards 5. Returns <code>ParsedABI</code></p>"},{"location":"contributing/architecture/#3-mapping","title":"3. Mapping","text":"<pre><code>type_mapper = TypeMapper()\nfunc_mapper = FunctionMapper(type_mapper)\n\ntools = [func_mapper.map_function(f) for f in parsed.functions]\n</code></pre> <p>The mapper: 1. Converts each function to MappedTool 2. Generates JSON Schema for parameters 3. Creates descriptions 4. Handles name conversion (camelCase \u2192 snake_case)</p>"},{"location":"contributing/architecture/#4-generation","title":"4. Generation","text":"<pre><code>generator = MCPGenerator()\nserver = generator.generate(parsed, tools, resources, ...)\n</code></pre> <p>The generator: 1. Renders Jinja2 templates 2. Combines tools and resources 3. Generates config and docs 4. Returns <code>GeneratedServer</code> with all files</p>"},{"location":"contributing/architecture/#key-design-decisions","title":"Key Design Decisions","text":""},{"location":"contributing/architecture/#1-strings-for-large-numbers","title":"1. Strings for Large Numbers","text":"<p>All numeric types use JSON strings to preserve precision:</p> <pre><code># uint256 as string, not int\n{\"type\": \"string\", \"pattern\": \"^[0-9]+$\"}\n</code></pre> <p>Rationale: JavaScript's Number.MAX_SAFE_INTEGER is 2^53, but uint256 can be 2^256.</p>"},{"location":"contributing/architecture/#2-simulation-by-default","title":"2. Simulation by Default","text":"<p>Write operations simulate before executing:</p> <pre><code>async def transfer(to, amount, simulate=True):\n    if simulate:\n        return await simulate_transaction(...)\n</code></pre> <p>Rationale: Blockchain transactions are irreversible. Simulation prevents accidents.</p>"},{"location":"contributing/architecture/#3-no-embedded-keys","title":"3. No Embedded Keys","text":"<p>Private keys are only read from environment:</p> <pre><code>PRIVATE_KEY = os.environ.get(\"PRIVATE_KEY\")\n</code></pre> <p>Rationale: Never store secrets in generated code.</p>"},{"location":"contributing/architecture/#4-jinja2-templates","title":"4. Jinja2 Templates","text":"<p>Code generation uses templates, not string concatenation:</p> <pre><code>@mcp.tool()\nasync def {{ tool.name }}({{ tool.signature }}):\n    \"\"\"{{ tool.description }}\"\"\"\n    ...\n</code></pre> <p>Rationale: Templates are easier to read, maintain, and customize.</p>"},{"location":"contributing/architecture/#5-async-by-default","title":"5. Async by Default","text":"<p>All I/O operations are async:</p> <pre><code>async def fetch(self, source: str) -&gt; FetchResult:\n    ...\n</code></pre> <p>Rationale: MCP servers are async, and blockchain calls can be slow.</p>"},{"location":"contributing/architecture/#extension-points","title":"Extension Points","text":""},{"location":"contributing/architecture/#custom-fetchers","title":"Custom Fetchers","text":"<pre><code>class MyFetcher(ABIFetcher):\n    async def fetch(self, source, **kwargs):\n        ...\n\n    def can_handle(self, source):\n        ...\n\nregistry.register(MyFetcher())\n</code></pre>"},{"location":"contributing/architecture/#custom-type-mapping","title":"Custom Type Mapping","text":"<pre><code>class MyTypeMapper(TypeMapper):\n    def to_json_schema(self, parsed_type):\n        if my_custom_condition:\n            return my_custom_schema\n        return super().to_json_schema(parsed_type)\n</code></pre>"},{"location":"contributing/architecture/#custom-templates","title":"Custom Templates","text":"<pre><code>config = GeneratorConfig(\n    template_dir=Path(\"./my-templates\")\n)\ngenerator = MCPGenerator(config)\n</code></pre>"},{"location":"contributing/architecture/#testing-strategy","title":"Testing Strategy","text":"Layer Test Type Location Parser Unit <code>tests/unit/test_parser/</code> Mapper Unit <code>tests/unit/test_mapper/</code> Fetchers Unit (mocked) <code>tests/unit/test_fetchers/</code> Generator Unit + Snapshot <code>tests/unit/test_generator/</code> CLI Integration <code>tests/integration/</code> End-to-End Integration <code>tests/integration/</code> <p>See Testing for more details.</p>"},{"location":"contributing/development/","title":"Development Setup","text":"<p>This guide walks you through setting up a development environment for abi-to-mcp.</p>"},{"location":"contributing/development/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.10 or later</li> <li>Git</li> <li>Make (optional but recommended)</li> </ul>"},{"location":"contributing/development/#setup-steps","title":"Setup Steps","text":""},{"location":"contributing/development/#1-fork-and-clone","title":"1. Fork and Clone","text":"<pre><code># Fork on GitHub, then clone your fork\ngit clone https://github.com/YOUR-USERNAME/ABI-to-MCP.git\ncd ABI-to-MCP\n\n# Add upstream remote\ngit remote add upstream https://github.com/nirholas/UCAI.git\n</code></pre>"},{"location":"contributing/development/#2-create-virtual-environment","title":"2. Create Virtual Environment","text":"<pre><code># Using venv\npython -m venv .venv\nsource .venv/bin/activate  # Linux/macOS\n# or\n.venv\\Scripts\\activate     # Windows\n</code></pre>"},{"location":"contributing/development/#3-install-dependencies","title":"3. Install Dependencies","text":"<pre><code># Install package in editable mode with dev dependencies\npip install -e \".[dev]\"\n\n# Or using Make\nmake setup\n</code></pre>"},{"location":"contributing/development/#4-verify-setup","title":"4. Verify Setup","text":"<pre><code># Run tests\nmake test\n\n# Run linter\nmake lint\n\n# Run type checker\nmake typecheck\n</code></pre>"},{"location":"contributing/development/#development-workflow","title":"Development Workflow","text":""},{"location":"contributing/development/#making-changes","title":"Making Changes","text":"<pre><code># Create a feature branch\ngit checkout -b feature/my-feature\n\n# Make changes...\n\n# Run checks\nmake check\n\n# Commit\ngit add .\ngit commit -m \"feat: add my feature\"\n</code></pre>"},{"location":"contributing/development/#keeping-up-to-date","title":"Keeping Up to Date","text":"<pre><code># Fetch upstream changes\ngit fetch upstream\n\n# Rebase your branch\ngit checkout main\ngit rebase upstream/main\n\n# Update your feature branch\ngit checkout feature/my-feature\ngit rebase main\n</code></pre>"},{"location":"contributing/development/#running-specific-tests","title":"Running Specific Tests","text":"<pre><code># Run all tests\nmake test\n\n# Run specific test file\npytest tests/unit/test_parser/test_abi_parser.py\n\n# Run specific test\npytest tests/unit/test_parser/test_abi_parser.py::test_parse_erc20\n\n# Run with coverage\nmake coverage\n</code></pre>"},{"location":"contributing/development/#make-commands","title":"Make Commands","text":"Command Description <code>make setup</code> Install development dependencies <code>make test</code> Run all tests <code>make lint</code> Run Ruff linter <code>make format</code> Format code with Ruff <code>make typecheck</code> Run mypy type checker <code>make check</code> Run all checks (lint, typecheck, test) <code>make coverage</code> Run tests with coverage report <code>make docs</code> Build documentation <code>make clean</code> Clean build artifacts"},{"location":"contributing/development/#ide-setup","title":"IDE Setup","text":""},{"location":"contributing/development/#vs-code","title":"VS Code","text":"<p>Recommended extensions:</p> <pre><code>{\n  \"recommendations\": [\n    \"ms-python.python\",\n    \"ms-python.vscode-pylance\",\n    \"charliermarsh.ruff\",\n    \"ms-python.mypy-type-checker\"\n  ]\n}\n</code></pre> <p>Workspace settings (<code>.vscode/settings.json</code>):</p> <pre><code>{\n  \"python.defaultInterpreterPath\": \".venv/bin/python\",\n  \"python.testing.pytestEnabled\": true,\n  \"python.testing.pytestArgs\": [\"tests\"],\n  \"[python]\": {\n    \"editor.formatOnSave\": true,\n    \"editor.defaultFormatter\": \"charliermarsh.ruff\",\n    \"editor.codeActionsOnSave\": {\n      \"source.organizeImports\": \"explicit\"\n    }\n  }\n}\n</code></pre>"},{"location":"contributing/development/#pycharm","title":"PyCharm","text":"<ol> <li>Open project directory</li> <li>Configure interpreter to use <code>.venv</code></li> <li>Mark <code>src</code> as Sources Root</li> <li>Mark <code>tests</code> as Tests Root</li> </ol>"},{"location":"contributing/development/#project-structure","title":"Project Structure","text":"<pre><code>abi-to-mcp/\n\u251c\u2500\u2500 src/abi_to_mcp/        # Source code\n\u2502   \u251c\u2500\u2500 cli/               # CLI commands\n\u2502   \u251c\u2500\u2500 core/              # Core models and config\n\u2502   \u251c\u2500\u2500 fetchers/          # ABI fetching\n\u2502   \u251c\u2500\u2500 parser/            # ABI parsing\n\u2502   \u251c\u2500\u2500 mapper/            # Type mapping\n\u2502   \u251c\u2500\u2500 generator/         # Code generation\n\u2502   \u2514\u2500\u2500 runtime/           # Execution utilities\n\u251c\u2500\u2500 tests/                 # Tests\n\u2502   \u251c\u2500\u2500 unit/              # Unit tests\n\u2502   \u251c\u2500\u2500 integration/       # Integration tests\n\u2502   \u2514\u2500\u2500 fixtures/          # Test data\n\u251c\u2500\u2500 docs/                  # Documentation\n\u251c\u2500\u2500 pyproject.toml         # Project configuration\n\u251c\u2500\u2500 Makefile               # Development commands\n\u2514\u2500\u2500 README.md              # Project readme\n</code></pre>"},{"location":"contributing/development/#environment-variables","title":"Environment Variables","text":"<p>For testing with external services:</p> <pre><code># .env.test (not committed)\nETHERSCAN_API_KEY=your-test-key\nRPC_URL=https://eth-mainnet.g.alchemy.com/v2/your-key\n</code></pre> <p>Never Commit Secrets</p> <p>Add <code>.env*</code> to <code>.gitignore</code> to prevent committing secrets.</p>"},{"location":"contributing/development/#troubleshooting","title":"Troubleshooting","text":""},{"location":"contributing/development/#import-errors","title":"Import Errors","text":"<p>If you get import errors:</p> <pre><code># Reinstall in editable mode\npip install -e \".[dev]\"\n</code></pre>"},{"location":"contributing/development/#test-failures","title":"Test Failures","text":"<p>If tests fail on a fresh clone:</p> <pre><code># Clean and reinstall\nmake clean\nmake setup\nmake test\n</code></pre>"},{"location":"contributing/development/#type-check-errors","title":"Type Check Errors","text":"<p>If mypy reports errors in dependencies:</p> <pre><code># Install type stubs\npip install types-requests types-toml\n</code></pre>"},{"location":"contributing/development/#next-steps","title":"Next Steps","text":"<ul> <li>Read Architecture to understand the codebase</li> <li>See Testing for test guidelines</li> <li>Check open issues for things to work on</li> </ul>"},{"location":"contributing/testing/","title":"Testing Guide","text":"<p>This guide covers how to write and run tests for abi-to-mcp.</p>"},{"location":"contributing/testing/#running-tests","title":"Running Tests","text":""},{"location":"contributing/testing/#all-tests","title":"All Tests","text":"<pre><code># Using Make\nmake test\n\n# Using pytest directly\npytest\n\n# With verbose output\npytest -v\n</code></pre>"},{"location":"contributing/testing/#specific-tests","title":"Specific Tests","text":"<pre><code># Run a specific test file\npytest tests/unit/test_parser/test_abi_parser.py\n\n# Run a specific test\npytest tests/unit/test_parser/test_abi_parser.py::test_parse_erc20\n\n# Run tests matching a pattern\npytest -k \"test_parse\"\n\n# Run only unit tests\npytest tests/unit/\n\n# Run only integration tests\npytest tests/integration/\n</code></pre>"},{"location":"contributing/testing/#coverage","title":"Coverage","text":"<pre><code># Run with coverage\nmake coverage\n\n# Or directly\npytest --cov=abi_to_mcp --cov-report=html\n\n# View report\nopen htmlcov/index.html\n</code></pre>"},{"location":"contributing/testing/#test-structure","title":"Test Structure","text":"<pre><code>tests/\n\u251c\u2500\u2500 conftest.py              # Shared fixtures\n\u251c\u2500\u2500 unit/                    # Unit tests\n\u2502   \u251c\u2500\u2500 test_parser/\n\u2502   \u2502   \u251c\u2500\u2500 test_abi_parser.py\n\u2502   \u2502   \u251c\u2500\u2500 test_function_parser.py\n\u2502   \u2502   \u251c\u2500\u2500 test_event_parser.py\n\u2502   \u2502   \u2514\u2500\u2500 test_type_parser.py\n\u2502   \u251c\u2500\u2500 test_mapper/\n\u2502   \u2502   \u251c\u2500\u2500 test_type_mapper.py\n\u2502   \u2502   \u251c\u2500\u2500 test_function_mapper.py\n\u2502   \u2502   \u2514\u2500\u2500 test_schema_builder.py\n\u2502   \u251c\u2500\u2500 test_fetchers/\n\u2502   \u2502   \u251c\u2500\u2500 test_file.py\n\u2502   \u2502   \u251c\u2500\u2500 test_etherscan.py\n\u2502   \u2502   \u2514\u2500\u2500 test_sourcify.py\n\u2502   \u2514\u2500\u2500 test_generator/\n\u2502       \u251c\u2500\u2500 test_tool_generator.py\n\u2502       \u2514\u2500\u2500 test_server_generator.py\n\u251c\u2500\u2500 integration/             # Integration tests\n\u2502   \u251c\u2500\u2500 test_cli.py\n\u2502   \u251c\u2500\u2500 test_end_to_end.py\n\u2502   \u2514\u2500\u2500 test_generated_server.py\n\u2514\u2500\u2500 fixtures/                # Test data\n    \u2514\u2500\u2500 abis/\n        \u251c\u2500\u2500 erc20.json\n        \u251c\u2500\u2500 erc721.json\n        \u2514\u2500\u2500 uniswap_router.json\n</code></pre>"},{"location":"contributing/testing/#writing-tests","title":"Writing Tests","text":""},{"location":"contributing/testing/#unit-tests","title":"Unit Tests","text":"<p>Test individual functions/methods in isolation:</p> <pre><code># tests/unit/test_parser/test_type_parser.py\nimport pytest\nfrom abi_to_mcp.parser import TypeParser\n\n\nclass TestTypeParser:\n    \"\"\"Tests for TypeParser.\"\"\"\n\n    def test_parse_simple_type(self):\n        \"\"\"Parse a simple type string.\"\"\"\n        parser = TypeParser()\n        result = parser.parse(\"uint256\")\n\n        assert result.base_type == \"uint256\"\n        assert result.is_array is False\n\n    def test_parse_array_type(self):\n        \"\"\"Parse an array type.\"\"\"\n        parser = TypeParser()\n        result = parser.parse(\"address[]\")\n\n        assert result.base_type == \"address\"\n        assert result.is_array is True\n        assert result.array_size is None\n\n    def test_parse_fixed_array(self):\n        \"\"\"Parse a fixed-size array.\"\"\"\n        parser = TypeParser()\n        result = parser.parse(\"bytes32[10]\")\n\n        assert result.array_size == 10\n\n    @pytest.mark.parametrize(\"type_str,expected_base\", [\n        (\"uint8\", \"uint8\"),\n        (\"int256\", \"int256\"),\n        (\"address\", \"address\"),\n        (\"bool\", \"bool\"),\n        (\"bytes\", \"bytes\"),\n        (\"string\", \"string\"),\n    ])\n    def test_parse_base_types(self, type_str, expected_base):\n        \"\"\"Parse various base types.\"\"\"\n        parser = TypeParser()\n        result = parser.parse(type_str)\n        assert result.base_type == expected_base\n</code></pre>"},{"location":"contributing/testing/#fixtures","title":"Fixtures","text":"<p>Use pytest fixtures for shared setup:</p> <pre><code># tests/conftest.py\nimport pytest\nimport json\nfrom pathlib import Path\n\n\n@pytest.fixture\ndef erc20_abi():\n    \"\"\"Load ERC20 ABI fixture.\"\"\"\n    path = Path(__file__).parent / \"fixtures/abis/erc20.json\"\n    with open(path) as f:\n        return json.load(f)\n\n\n@pytest.fixture\ndef parser():\n    \"\"\"Create a fresh ABIParser.\"\"\"\n    from abi_to_mcp.parser import ABIParser\n    return ABIParser()\n\n\n@pytest.fixture\ndef parsed_erc20(parser, erc20_abi):\n    \"\"\"Parse ERC20 ABI.\"\"\"\n    return parser.parse(erc20_abi)\n</code></pre> <p>Using fixtures:</p> <pre><code>def test_erc20_detection(parsed_erc20):\n    \"\"\"ERC20 standard should be detected.\"\"\"\n    assert parsed_erc20.detected_standard == \"ERC20\"\n\n\ndef test_erc20_has_transfer(parsed_erc20):\n    \"\"\"ERC20 should have transfer function.\"\"\"\n    names = [f.name for f in parsed_erc20.functions]\n    assert \"transfer\" in names\n</code></pre>"},{"location":"contributing/testing/#async-tests","title":"Async Tests","text":"<p>Use <code>pytest-asyncio</code> for async tests:</p> <pre><code>import pytest\n\n\n@pytest.mark.asyncio\nasync def test_fetch_from_file():\n    \"\"\"Test fetching ABI from file.\"\"\"\n    from abi_to_mcp.fetchers import FileFetcher\n\n    fetcher = FileFetcher()\n    result = await fetcher.fetch(\"tests/fixtures/abis/erc20.json\")\n\n    assert result.source == \"file\"\n    assert len(result.abi) &gt; 0\n</code></pre>"},{"location":"contributing/testing/#mocking-external-services","title":"Mocking External Services","text":"<p>Mock external APIs to avoid network calls:</p> <pre><code>import pytest\nfrom unittest.mock import AsyncMock, patch\n\n\n@pytest.mark.asyncio\nasync def test_etherscan_fetch():\n    \"\"\"Test Etherscan fetcher with mocked response.\"\"\"\n    from abi_to_mcp.fetchers import EtherscanFetcher\n\n    mock_response = {\n        \"status\": \"1\",\n        \"message\": \"OK\",\n        \"result\": '[{\"type\":\"function\",\"name\":\"balanceOf\"...}]'\n    }\n\n    with patch(\"httpx.AsyncClient.get\", new_callable=AsyncMock) as mock_get:\n        mock_get.return_value.json.return_value = mock_response\n        mock_get.return_value.status_code = 200\n\n        fetcher = EtherscanFetcher(api_key=\"test-key\")\n        result = await fetcher.fetch(\"0x...\", network=\"mainnet\")\n\n        assert result.source == \"etherscan\"\n</code></pre>"},{"location":"contributing/testing/#integration-tests","title":"Integration Tests","text":"<p>Test components working together:</p> <pre><code># tests/integration/test_end_to_end.py\nimport pytest\nfrom pathlib import Path\n\n\n@pytest.mark.asyncio\nasync def test_full_pipeline():\n    \"\"\"Test the complete generation pipeline.\"\"\"\n    from abi_to_mcp.fetchers import create_default_registry\n    from abi_to_mcp.parser import ABIParser\n    from abi_to_mcp.mapper import TypeMapper, FunctionMapper\n    from abi_to_mcp.generator import MCPGenerator\n\n    # Fetch\n    registry = create_default_registry()\n    result = await registry.fetch(\"tests/fixtures/abis/erc20.json\")\n\n    # Parse\n    parser = ABIParser()\n    parsed = parser.parse(result.abi)\n\n    # Map\n    type_mapper = TypeMapper()\n    func_mapper = FunctionMapper(type_mapper)\n    tools = [func_mapper.map_function(f) for f in parsed.functions]\n\n    # Generate\n    generator = MCPGenerator()\n    server = generator.generate(\n        parsed=parsed,\n        tools=tools,\n        resources=[],\n        contract_address=\"0x1234567890123456789012345678901234567890\",\n        network=\"mainnet\",\n    )\n\n    # Verify\n    assert any(f.path == \"server.py\" for f in server.files)\n\n    # Check generated code is valid Python\n    server_py = next(f for f in server.files if f.path == \"server.py\")\n    compile(server_py.content, \"server.py\", \"exec\")\n</code></pre>"},{"location":"contributing/testing/#cli-tests","title":"CLI Tests","text":"<p>Test CLI commands using Typer's test runner:</p> <pre><code># tests/integration/test_cli.py\nfrom typer.testing import CliRunner\nfrom abi_to_mcp.cli.main import app\n\nrunner = CliRunner()\n\n\ndef test_generate_help():\n    \"\"\"Test generate command help.\"\"\"\n    result = runner.invoke(app, [\"generate\", \"--help\"])\n\n    assert result.exit_code == 0\n    assert \"Generate an MCP server\" in result.stdout\n\n\ndef test_generate_from_file(tmp_path):\n    \"\"\"Test generating from a local file.\"\"\"\n    output = tmp_path / \"output\"\n\n    result = runner.invoke(app, [\n        \"generate\",\n        \"tests/fixtures/abis/erc20.json\",\n        \"--output\", str(output),\n        \"--address\", \"0x1234567890123456789012345678901234567890\",\n    ])\n\n    assert result.exit_code == 0\n    assert (output / \"server.py\").exists()\n\n\ndef test_validate_valid_abi():\n    \"\"\"Test validating a valid ABI.\"\"\"\n    result = runner.invoke(app, [\n        \"validate\",\n        \"tests/fixtures/abis/erc20.json\",\n    ])\n\n    assert result.exit_code == 0\n    assert \"valid\" in result.stdout.lower()\n</code></pre>"},{"location":"contributing/testing/#best-practices","title":"Best Practices","text":""},{"location":"contributing/testing/#1-one-assertion-per-concept","title":"1. One Assertion Per Concept","text":"<pre><code># Good: Clear what failed\ndef test_transfer_function_properties():\n    transfer = get_transfer_function()\n\n    assert transfer.name == \"transfer\"\n    assert len(transfer.inputs) == 2\n    assert transfer.state_mutability == StateMutability.NONPAYABLE\n\n# Avoid: Too many unrelated assertions\ndef test_everything():\n    assert this\n    assert that\n    assert something_else\n    assert another_thing\n</code></pre>"},{"location":"contributing/testing/#2-use-descriptive-names","title":"2. Use Descriptive Names","text":"<pre><code># Good\ndef test_parse_nested_tuple_with_array_component():\n    ...\n\n# Avoid\ndef test_1():\n    ...\n</code></pre>"},{"location":"contributing/testing/#3-test-edge-cases","title":"3. Test Edge Cases","text":"<pre><code>def test_empty_abi():\n    \"\"\"Empty ABI should parse to empty ParsedABI.\"\"\"\n    parser = ABIParser()\n    result = parser.parse([])\n\n    assert result.functions == []\n    assert result.events == []\n\n\ndef test_abi_with_only_constructor():\n    \"\"\"ABI with only constructor should work.\"\"\"\n    abi = [{\"type\": \"constructor\", \"inputs\": []}]\n    parser = ABIParser()\n    result = parser.parse(abi)\n\n    assert result.has_constructor is True\n    assert result.functions == []\n</code></pre>"},{"location":"contributing/testing/#4-use-fixtures-for-dry","title":"4. Use Fixtures for DRY","text":"<pre><code># Define once in conftest.py\n@pytest.fixture\ndef type_mapper():\n    return TypeMapper()\n\n# Use everywhere\ndef test_map_address(type_mapper):\n    schema = type_mapper.to_json_schema(...)\n</code></pre>"},{"location":"contributing/testing/#5-mark-slow-tests","title":"5. Mark Slow Tests","text":"<pre><code>@pytest.mark.slow\ndef test_large_abi_parsing():\n    \"\"\"This test takes a while.\"\"\"\n    ...\n\n# Run fast tests only\n# pytest -m \"not slow\"\n</code></pre>"},{"location":"contributing/testing/#test-coverage-goals","title":"Test Coverage Goals","text":"Module Target Coverage Parser 95% Mapper 95% Generator 90% Fetchers 85% (external calls mocked) CLI 80% Runtime 85% <p>Check coverage:</p> <pre><code>make coverage\n</code></pre>"},{"location":"getting-started/","title":"Getting Started","text":"<p>Welcome to abi-to-mcp! This section will guide you through installation, your first server generation, and understanding what gets created.</p>"},{"location":"getting-started/#overview","title":"Overview","text":"<p>abi-to-mcp is a command-line tool and Python library that transforms Ethereum smart contract ABIs into fully functional MCP (Model Context Protocol) servers. These servers enable AI assistants like Claude to interact with any smart contract through a standardized interface.</p>"},{"location":"getting-started/#what-youll-learn","title":"What You'll Learn","text":"<ul> <li> <p> Installation</p> <p>Set up abi-to-mcp on your system with pip, pipx, or from source.</p> <p> Installation guide</p> </li> <li> <p> Quickstart</p> <p>Generate your first MCP server in under 5 minutes.</p> <p> Quickstart</p> </li> <li> <p> First MCP Server</p> <p>Deep dive into the generated server structure and how it works.</p> <p> Understanding the output</p> </li> </ul>"},{"location":"getting-started/#prerequisites","title":"Prerequisites","text":"<p>Before you begin, ensure you have:</p> <ul> <li>Python 3.10 or higher - Check with <code>python --version</code></li> <li>pip - Python package installer (comes with Python)</li> <li>Internet access - For fetching ABIs from block explorers</li> </ul>"},{"location":"getting-started/#optional-but-recommended","title":"Optional but Recommended","text":"<ul> <li>Etherscan API key - For higher rate limits when fetching ABIs</li> <li>RPC endpoint - For connecting to blockchain networks (free options available)</li> <li>Claude Desktop - For using generated servers with Claude</li> </ul>"},{"location":"getting-started/#quick-path","title":"Quick Path","text":"<p>If you're eager to get started, here's the fastest path:</p> <pre><code># 1. Install\npip install abi-to-mcp\n\n# 2. Generate (using USDC as an example)\nabi-to-mcp generate 0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48 -n mainnet -o ./usdc-mcp\n\n# 3. Configure\ncd usdc-mcp\ncp .env.example .env\n# Edit .env to add your RPC_URL\n\n# 4. Run\npip install -r requirements.txt\npython server.py\n</code></pre> <p>For detailed explanations, continue to the Installation page.</p>"},{"location":"getting-started/#getting-help","title":"Getting Help","text":"<p>If you run into issues:</p> <ol> <li>Check the Errors Reference for common problems</li> <li>Search GitHub Issues</li> <li>Open a new issue with details about your problem</li> </ol>"},{"location":"getting-started/#next-steps","title":"Next Steps","text":"<p>Start with Installation to set up abi-to-mcp on your system.</p>"},{"location":"getting-started/first-server/","title":"Your First MCP Server","text":"<p>Now that you've generated an MCP server, let's understand what was created and how it works.</p>"},{"location":"getting-started/first-server/#generated-file-structure","title":"Generated File Structure","text":"<p>When you run <code>abi-to-mcp generate</code>, the following files are created:</p> <pre><code>my-mcp-server/\n\u251c\u2500\u2500 server.py           # Main MCP server implementation\n\u251c\u2500\u2500 config.py           # Configuration and environment variables\n\u251c\u2500\u2500 README.md           # Auto-generated documentation\n\u251c\u2500\u2500 requirements.txt    # Python dependencies\n\u251c\u2500\u2500 pyproject.toml      # Package metadata\n\u2514\u2500\u2500 .env.example        # Environment variable template\n</code></pre> <p>Let's explore each file.</p>"},{"location":"getting-started/first-server/#serverpy-the-mcp-server","title":"server.py - The MCP Server","text":"<p>This is the heart of your generated server. It contains:</p>"},{"location":"getting-started/first-server/#tool-definitions","title":"Tool Definitions","text":"<p>Every contract function becomes an MCP tool:</p> <pre><code>@mcp.tool()\nasync def balance_of(account: str) -&gt; str:\n    \"\"\"\n    Get the token balance for an address.\n\n    This is a read-only function (no gas required).\n\n    Args:\n        account: Ethereum address (20 bytes)\n\n    Returns:\n        Token balance as string (in wei)\n    \"\"\"\n    result = await contract.functions.balanceOf(\n        Web3.to_checksum_address(account)\n    ).call()\n    return str(result)\n</code></pre>"},{"location":"getting-started/first-server/#read-vs-write-tools","title":"Read vs Write Tools","text":"<p>Read-only functions (view/pure) are simple:</p> <pre><code>@mcp.tool()\nasync def name() -&gt; str:\n    \"\"\"Get the token name. Read-only.\"\"\"\n    return await contract.functions.name().call()\n</code></pre> <p>Write functions include simulation by default:</p> <pre><code>@mcp.tool()\nasync def transfer(to: str, amount: str, simulate: bool = True) -&gt; dict:\n    \"\"\"\n    Transfer tokens to another address.\n\n    \u26a0\ufe0f This function modifies blockchain state and requires gas.\n\n    Args:\n        to: Recipient address\n        amount: Amount in wei (as string)\n        simulate: If True, only simulate the transaction\n\n    Returns:\n        Transaction result or simulation details\n    \"\"\"\n    if simulate:\n        # Simulate the transaction\n        result = await simulate_transaction(\n            contract.functions.transfer(to, int(amount))\n        )\n        return {\"simulated\": True, **result}\n    else:\n        # Execute real transaction\n        tx = await execute_transaction(\n            contract.functions.transfer(to, int(amount))\n        )\n        return {\"simulated\": False, \"tx_hash\": tx.hex()}\n</code></pre>"},{"location":"getting-started/first-server/#resource-definitions","title":"Resource Definitions","text":"<p>Events become MCP resources for querying historical data:</p> <pre><code>@mcp.resource(\"events://transfer\")\nasync def get_transfer_events(\n    from_block: int = None,\n    to_block: int = None\n) -&gt; list:\n    \"\"\"\n    Query Transfer events from the contract.\n\n    Args:\n        from_block: Starting block number\n        to_block: Ending block number (default: latest)\n\n    Returns:\n        List of Transfer events\n    \"\"\"\n    events = await contract.events.Transfer.get_logs(\n        fromBlock=from_block or \"latest\",\n        toBlock=to_block or \"latest\"\n    )\n    return [format_event(e) for e in events]\n</code></pre>"},{"location":"getting-started/first-server/#configpy-configuration","title":"config.py - Configuration","text":"<p>This file handles all configuration through environment variables:</p> <pre><code>\"\"\"Configuration for the MCP server.\"\"\"\n\nimport os\nfrom dotenv import load_dotenv\n\nload_dotenv()\n\n# Network Configuration\nNETWORK = \"mainnet\"\nRPC_URL = os.environ.get(\"RPC_URL\", \"https://eth.llamarpc.com\")\nCHAIN_ID = 1\n\n# Contract Configuration\nCONTRACT_ADDRESS = os.environ.get(\n    \"CONTRACT_ADDRESS\",\n    \"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\"\n)\n\n# Authentication (optional, for write operations)\nPRIVATE_KEY = os.environ.get(\"PRIVATE_KEY\")\n\n# Server Configuration\nSERVER_NAME = \"usdc-token\"\nSERVER_VERSION = \"1.0.0\"\n\n# Safety Settings\nSIMULATION_DEFAULT = True\nREAD_ONLY_MODE = False\nMAX_GAS_PRICE_GWEI = int(os.environ.get(\"MAX_GAS_PRICE_GWEI\", \"500\"))\n</code></pre>"},{"location":"getting-started/first-server/#requirementstxt-dependencies","title":"requirements.txt - Dependencies","text":"<p>The generated server requires these packages:</p> <pre><code>fastmcp&gt;=2.0.0\nweb3&gt;=6.0.0\npydantic&gt;=2.0.0\npython-dotenv&gt;=1.0.0\n</code></pre> <p>Install them with:</p> <pre><code>pip install -r requirements.txt\n</code></pre>"},{"location":"getting-started/first-server/#envexample-environment-template","title":".env.example - Environment Template","text":"<p>A template for your environment configuration:</p> <pre><code># Required: RPC endpoint for blockchain connection\nRPC_URL=https://eth.llamarpc.com\n\n# Optional: Override contract address\n# CONTRACT_ADDRESS=0x...\n\n# Optional: Private key for write operations\n# \u26a0\ufe0f Never commit this file with real keys!\n# PRIVATE_KEY=0x...\n\n# Optional: Gas price limit in Gwei\n# MAX_GAS_PRICE_GWEI=50\n</code></pre> <p>Copy this to <code>.env</code> and customize:</p> <pre><code>cp .env.example .env\n</code></pre>"},{"location":"getting-started/first-server/#understanding-tool-types","title":"Understanding Tool Types","text":"<p>The generated server classifies tools into three types:</p>"},{"location":"getting-started/first-server/#read-tools-safe","title":"Read Tools (Safe)","text":"<ul> <li>Call <code>view</code> or <code>pure</code> functions</li> <li>No gas required</li> <li>No wallet needed</li> <li>Always safe to call</li> </ul> <pre><code># Examples: balanceOf, name, symbol, totalSupply, allowance\n</code></pre>"},{"location":"getting-started/first-server/#write-tools-requires-gas","title":"Write Tools (Requires Gas)","text":"<ul> <li>Call state-changing functions</li> <li>Require gas payment</li> <li>Require private key</li> <li>Simulate by default</li> </ul> <pre><code># Examples: transfer, approve, transferFrom\n</code></pre>"},{"location":"getting-started/first-server/#payable-tools-requires-eth","title":"Payable Tools (Requires ETH)","text":"<ul> <li>Call <code>payable</code> functions</li> <li>Require both gas and ETH value</li> <li>Extra careful simulation</li> </ul> <pre><code># Examples: deposit (in WETH), mint (in some NFTs)\n</code></pre>"},{"location":"getting-started/first-server/#running-the-server","title":"Running the Server","text":""},{"location":"getting-started/first-server/#standalone-mode","title":"Standalone Mode","text":"<p>For testing, run the server directly:</p> <pre><code>python server.py\n</code></pre> <p>The server communicates via stdin/stdout using the MCP protocol.</p>"},{"location":"getting-started/first-server/#with-claude-desktop","title":"With Claude Desktop","text":"<p>Configure in <code>claude_desktop_config.json</code>:</p> <pre><code>{\n  \"mcpServers\": {\n    \"my-contract\": {\n      \"command\": \"python\",\n      \"args\": [\"/absolute/path/to/server.py\"],\n      \"env\": {\n        \"RPC_URL\": \"https://eth.llamarpc.com\"\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"getting-started/first-server/#testing-your-server","title":"Testing Your Server","text":""},{"location":"getting-started/first-server/#using-the-inspect-command","title":"Using the inspect Command","text":"<p>Before deploying, inspect what was generated:</p> <pre><code>abi-to-mcp inspect ./my-mcp-server\n</code></pre> <p>This shows: - All generated tools and their parameters - All resources and their schemas - Configuration details</p>"},{"location":"getting-started/first-server/#manual-testing","title":"Manual Testing","text":"<p>You can test tools directly:</p> <pre><code># test_server.py\nimport asyncio\nfrom server import balance_of, name, symbol\n\nasync def test():\n    # Test read-only tools\n    print(f\"Name: {await name()}\")\n    print(f\"Symbol: {await symbol()}\")\n    print(f\"Balance: {await balance_of('0xd8dA6BF26964aF9D7eEd9e03E53415D37aA96045')}\")\n\nasyncio.run(test())\n</code></pre>"},{"location":"getting-started/first-server/#customizing-the-generated-server","title":"Customizing the Generated Server","text":"<p>The generated server is meant to be a starting point. Common customizations:</p>"},{"location":"getting-started/first-server/#adding-human-readable-amounts","title":"Adding Human-Readable Amounts","text":"<pre><code>from decimal import Decimal\n\n@mcp.tool()\nasync def balance_of_formatted(account: str) -&gt; str:\n    \"\"\"Get balance in human-readable format (not wei).\"\"\"\n    raw = await contract.functions.balanceOf(\n        Web3.to_checksum_address(account)\n    ).call()\n    decimals = await contract.functions.decimals().call()\n    formatted = Decimal(raw) / Decimal(10 ** decimals)\n    return str(formatted)\n</code></pre>"},{"location":"getting-started/first-server/#adding-custom-validation","title":"Adding Custom Validation","text":"<pre><code>from eth_utils import is_address\n\n@mcp.tool()\nasync def transfer(to: str, amount: str, simulate: bool = True) -&gt; dict:\n    # Add validation\n    if not is_address(to):\n        raise ValueError(f\"Invalid address: {to}\")\n    if int(amount) &lt;= 0:\n        raise ValueError(\"Amount must be positive\")\n\n    # Continue with transfer...\n</code></pre>"},{"location":"getting-started/first-server/#adding-caching","title":"Adding Caching","text":"<pre><code>from functools import lru_cache\n\n@lru_cache(maxsize=100)\nasync def _get_token_info():\n    \"\"\"Cache token metadata.\"\"\"\n    return {\n        \"name\": await contract.functions.name().call(),\n        \"symbol\": await contract.functions.symbol().call(),\n        \"decimals\": await contract.functions.decimals().call(),\n    }\n</code></pre>"},{"location":"getting-started/first-server/#next-steps","title":"Next Steps","text":"<ul> <li>CLI Reference - All generation options</li> <li>Type Mapping - How types are converted</li> <li>Safety Features - Understanding simulation</li> <li>Claude Desktop - Full integration guide</li> </ul>"},{"location":"getting-started/installation/","title":"Installation","text":"<p>This guide covers all methods of installing abi-to-mcp on your system.</p>"},{"location":"getting-started/installation/#requirements","title":"Requirements","text":"<ul> <li>Python 3.10+ - Required</li> <li>pip or pipx - Python package installer</li> </ul>"},{"location":"getting-started/installation/#checking-python-version","title":"Checking Python Version","text":"<pre><code>python --version\n# or\npython3 --version\n</code></pre> <p>You should see <code>Python 3.10.x</code> or higher.</p>"},{"location":"getting-started/installation/#installation-methods","title":"Installation Methods","text":""},{"location":"getting-started/installation/#using-pip-recommended","title":"Using pip (Recommended)","text":"<p>The simplest way to install abi-to-mcp:</p> <pre><code>pip install abi-to-mcp\n</code></pre> <p>This installs the package and the <code>abi-to-mcp</code> command globally.</p>"},{"location":"getting-started/installation/#using-pipx-isolated","title":"Using pipx (Isolated)","text":"<p>If you want to keep abi-to-mcp isolated from other Python packages:</p> <pre><code># Install pipx first if you don't have it\npip install pipx\npipx ensurepath\n\n# Install abi-to-mcp\npipx install abi-to-mcp\n</code></pre> <p>This creates an isolated environment specifically for abi-to-mcp.</p>"},{"location":"getting-started/installation/#from-source-development","title":"From Source (Development)","text":"<p>For contributors or those who want the latest unreleased features:</p> <pre><code># Clone the repository\ngit clone https://github.com/nirholas/UCAI.git\ncd ABI-to-MCP\n\n# Create a virtual environment (recommended)\npython -m venv .venv\nsource .venv/bin/activate  # On Windows: .venv\\Scripts\\activate\n\n# Install in editable mode with development dependencies\npip install -e \".[dev]\"\n</code></pre>"},{"location":"getting-started/installation/#verifying-installation","title":"Verifying Installation","text":"<p>After installation, verify that abi-to-mcp is working:</p> <pre><code>abi-to-mcp --version\n</code></pre> <p>You should see output like:</p> <pre><code>abi-to-mcp version 1.0.0\n</code></pre> <p>Try the help command to see all available options:</p> <pre><code>abi-to-mcp --help\n</code></pre>"},{"location":"getting-started/installation/#api-keys-optional-but-recommended","title":"API Keys (Optional but Recommended)","text":""},{"location":"getting-started/installation/#etherscan-api-key","title":"Etherscan API Key","text":"<p>When fetching ABIs from block explorers, having an API key gives you:</p> <ul> <li>Higher rate limits (5 requests/second vs 1 request/5 seconds)</li> <li>More reliable fetching</li> <li>Access to additional contract metadata</li> </ul> <p>Get free API keys from:</p> Explorer Get Key Etherscan etherscan.io/apis Polygonscan polygonscan.com/apis Arbiscan arbiscan.io/apis Basescan basescan.org/apis <p>Set the key as an environment variable:</p> Linux/macOSWindows (PowerShell)Windows (CMD) <pre><code>export ETHERSCAN_API_KEY=your-key-here\n\n# Add to ~/.bashrc or ~/.zshrc for persistence\necho 'export ETHERSCAN_API_KEY=your-key-here' &gt;&gt; ~/.bashrc\n</code></pre> <pre><code>$env:ETHERSCAN_API_KEY = \"your-key-here\"\n\n# For persistence, add to your PowerShell profile\n</code></pre> <pre><code>set ETHERSCAN_API_KEY=your-key-here\n\n# For persistence, use System Properties &gt; Environment Variables\n</code></pre>"},{"location":"getting-started/installation/#rpc-endpoints","title":"RPC Endpoints","text":"<p>Generated servers need an RPC endpoint to connect to the blockchain. Free options include:</p> Provider Networks Limits LlamaNodes Many Generous free tier Alchemy Many 300M compute units/month Infura Many 100K requests/day QuickNode Many Limited free tier <p>Public RPC endpoints (rate-limited but no signup required):</p> Network Public RPC Ethereum <code>https://eth.llamarpc.com</code> Polygon <code>https://polygon-rpc.com</code> Arbitrum <code>https://arb1.arbitrum.io/rpc</code> Optimism <code>https://mainnet.optimism.io</code> Base <code>https://mainnet.base.org</code>"},{"location":"getting-started/installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/installation/#command-not-found","title":"Command Not Found","text":"<p>If <code>abi-to-mcp</code> is not found after installation:</p> <ol> <li> <p>Check your PATH: Ensure Python's bin directory is in your PATH    <pre><code>python -m abi_to_mcp --version\n</code></pre></p> </li> <li> <p>Restart your terminal: Some shells need to be restarted to pick up new commands</p> </li> <li> <p>Check installation location:    <pre><code>pip show abi-to-mcp\n</code></pre></p> </li> </ol>"},{"location":"getting-started/installation/#permission-errors","title":"Permission Errors","text":"<p>If you get permission errors during installation:</p> <pre><code># Use --user flag\npip install --user abi-to-mcp\n\n# Or use a virtual environment (recommended)\npython -m venv .venv\nsource .venv/bin/activate\npip install abi-to-mcp\n</code></pre>"},{"location":"getting-started/installation/#ssl-certificate-errors","title":"SSL Certificate Errors","text":"<p>If you encounter SSL errors:</p> <pre><code>pip install --trusted-host pypi.org --trusted-host files.pythonhosted.org abi-to-mcp\n</code></pre>"},{"location":"getting-started/installation/#updating","title":"Updating","text":"<p>To update to the latest version:</p> <pre><code>pip install --upgrade abi-to-mcp\n</code></pre>"},{"location":"getting-started/installation/#uninstalling","title":"Uninstalling","text":"<p>To remove abi-to-mcp:</p> <pre><code>pip uninstall abi-to-mcp\n</code></pre>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<p>Now that you have abi-to-mcp installed, continue to the Quickstart to generate your first MCP server.</p>"},{"location":"getting-started/quickstart/","title":"Quickstart","text":"<p>This guide will have you generating MCP servers from smart contracts in under 5 minutes.</p>"},{"location":"getting-started/quickstart/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.10 or higher</li> <li>pip or pipx</li> <li>(Optional) An Etherscan API key for better rate limits</li> </ul>"},{"location":"getting-started/quickstart/#step-1-install-abi-to-mcp","title":"Step 1: Install abi-to-mcp","text":"<pre><code>pip install abi-to-mcp\n</code></pre> <p>Verify the installation:</p> <pre><code>abi-to-mcp --version\n</code></pre>"},{"location":"getting-started/quickstart/#step-2-generate-from-a-contract-address","title":"Step 2: Generate from a Contract Address","text":"<p>Let's generate an MCP server for the USDC stablecoin on Ethereum mainnet:</p> <pre><code>abi-to-mcp generate 0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48 \\\n  --network mainnet \\\n  --output ./usdc-mcp\n</code></pre> <p>API Keys</p> <p>For better rate limits, set your Etherscan API key: <pre><code>export ETHERSCAN_API_KEY=your-key-here\n</code></pre></p> <p>This will:</p> <ol> <li>Fetch the verified ABI from Etherscan</li> <li>Parse the contract to identify functions and events</li> <li>Detect that this is an ERC-20 token</li> <li>Generate a complete MCP server in <code>./usdc-mcp/</code></li> </ol> <p>You'll see output like:</p> <pre><code>\u2713 Fetched ABI from Etherscan (mainnet)\n\u2713 Detected ERC20 standard\n\u2713 Parsed 13 functions, 2 events\n\u2713 Generated 13 tools, 2 resources\n\nMCP server generated successfully!\nOutput: ./usdc-mcp/\n\nNext steps:\n  cd ./usdc-mcp\n  cp .env.example .env\n  # Edit .env to configure RPC_URL\n  pip install -r requirements.txt\n  python server.py\n</code></pre>"},{"location":"getting-started/quickstart/#step-3-inspect-the-output","title":"Step 3: Inspect the Output","text":"<pre><code>ls -la ./usdc-mcp/\n</code></pre> <p>You'll see:</p> <pre><code>usdc-mcp/\n\u251c\u2500\u2500 server.py           # The MCP server\n\u251c\u2500\u2500 config.py           # Configuration settings\n\u251c\u2500\u2500 README.md           # Usage documentation\n\u251c\u2500\u2500 requirements.txt    # Python dependencies\n\u251c\u2500\u2500 pyproject.toml      # Package configuration\n\u2514\u2500\u2500 .env.example        # Environment variable template\n</code></pre>"},{"location":"getting-started/quickstart/#step-4-configure-and-run","title":"Step 4: Configure and Run","text":"<p>Create your environment file:</p> <pre><code>cd usdc-mcp\ncp .env.example .env\n</code></pre> <p>Edit <code>.env</code> to add your RPC URL:</p> <pre><code>RPC_URL=https://eth.llamarpc.com\nCONTRACT_ADDRESS=0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\n</code></pre> <p>Install dependencies and run:</p> <pre><code>pip install -r requirements.txt\npython server.py\n</code></pre> <p>The server will start and wait for MCP connections.</p>"},{"location":"getting-started/quickstart/#step-5-add-to-claude-desktop","title":"Step 5: Add to Claude Desktop","text":"<p>Add this to your <code>claude_desktop_config.json</code>:</p> macOSWindowsLinux <p>Location: <code>~/Library/Application Support/Claude/claude_desktop_config.json</code></p> <pre><code>{\n  \"mcpServers\": {\n    \"usdc-token\": {\n      \"command\": \"python\",\n      \"args\": [\"/Users/you/usdc-mcp/server.py\"],\n      \"env\": {\n        \"RPC_URL\": \"https://eth.llamarpc.com\"\n      }\n    }\n  }\n}\n</code></pre> <p>Location: <code>%APPDATA%\\Claude\\claude_desktop_config.json</code></p> <pre><code>{\n  \"mcpServers\": {\n    \"usdc-token\": {\n      \"command\": \"python\",\n      \"args\": [\"C:\\\\Users\\\\you\\\\usdc-mcp\\\\server.py\"],\n      \"env\": {\n        \"RPC_URL\": \"https://eth.llamarpc.com\"\n      }\n    }\n  }\n}\n</code></pre> <p>Location: <code>~/.config/Claude/claude_desktop_config.json</code></p> <pre><code>{\n  \"mcpServers\": {\n    \"usdc-token\": {\n      \"command\": \"python\",\n      \"args\": [\"/home/you/usdc-mcp/server.py\"],\n      \"env\": {\n        \"RPC_URL\": \"https://eth.llamarpc.com\"\n      }\n    }\n  }\n}\n</code></pre> <p>Use Absolute Paths</p> <p>Always use absolute paths in Claude Desktop configuration, not relative paths like <code>./</code> or <code>~</code>.</p> <p>Restart Claude Desktop, and you can now ask Claude questions about USDC!</p>"},{"location":"getting-started/quickstart/#alternative-generate-from-local-abi","title":"Alternative: Generate from Local ABI","text":"<p>If you have an ABI file already (from Hardhat, Foundry, or downloaded):</p> <pre><code>abi-to-mcp generate ./my-contract-abi.json \\\n  --address 0xYourContractAddress \\\n  --network mainnet \\\n  --output ./my-mcp-server\n</code></pre> <p>The ABI file can be:</p> <ul> <li>Plain ABI array: <code>[{\"type\": \"function\", ...}]</code></li> <li>Hardhat artifact: <code>{\"abi\": [...], \"contractName\": \"...\"}</code></li> <li>Foundry output: <code>{\"abi\": [...]}</code></li> </ul>"},{"location":"getting-started/quickstart/#try-other-contracts","title":"Try Other Contracts","text":"<p>Here are some popular contracts to try:</p> Uniswap V3 RouterOpenSea SeaportAave V3 PoolBAYC NFT <pre><code>abi-to-mcp generate 0xE592427A0AEce92De3Edee1F18E0157C05861564 \\\n  -n mainnet -o ./uniswap-mcp\n</code></pre> <pre><code>abi-to-mcp generate 0x00000000000000ADc04C56Bf30aC9d3c0aAF14dC \\\n  -n mainnet -o ./seaport-mcp\n</code></pre> <pre><code>abi-to-mcp generate 0x87870Bca3F3fD6335C3F4ce8392D69350B4fA4E2 \\\n  -n mainnet -o ./aave-mcp\n</code></pre> <pre><code>abi-to-mcp generate 0xBC4CA0EdA7647A8aB7C2061c2E118A18a936f13D \\\n  -n mainnet -o ./bayc-mcp\n</code></pre>"},{"location":"getting-started/quickstart/#whats-next","title":"What's Next?","text":"<ul> <li>First MCP Server - Detailed walkthrough of the generated code</li> <li>CLI Reference - All command options</li> <li>Claude Desktop Guide - Integration tips</li> <li>Safety Features - Understanding simulation and safety</li> </ul>"},{"location":"guides/","title":"Guides","text":"<p>Learn how to use abi-to-mcp through practical, step-by-step tutorials.</p>"},{"location":"guides/#by-use-case","title":"By Use Case","text":"<ul> <li> <p> ERC20 Token</p> <p>Create an MCP server for any ERC20 token. Query balances, transfer tokens, and track transfers.</p> <p> ERC20 Guide</p> </li> <li> <p> NFT Collection</p> <p>Build an MCP server for ERC721 NFTs. Query ownership, transfer NFTs, and explore metadata.</p> <p> NFT Guide</p> </li> <li> <p> DeFi Protocol</p> <p>Integrate with complex DeFi protocols like Uniswap, Aave, or Compound.</p> <p> DeFi Guide</p> </li> <li> <p> Custom Network</p> <p>Add support for networks not included by default, including private chains.</p> <p> Custom Networks</p> </li> <li> <p> Claude Desktop</p> <p>Complete setup guide for using generated MCP servers with Claude Desktop.</p> <p> Claude Desktop</p> </li> </ul>"},{"location":"guides/#quick-reference","title":"Quick Reference","text":"I want to... Guide Check token balances ERC20 Guide Transfer tokens ERC20 Guide See who owns an NFT NFT Guide Swap tokens on Uniswap DeFi Guide Use Polygon or Arbitrum Custom Networks Set up Claude Desktop Claude Desktop"},{"location":"guides/#prerequisites","title":"Prerequisites","text":"<p>Before starting any guide, make sure you have:</p> <ul> <li>[x] Installed abi-to-mcp (<code>pip install abi-to-mcp</code>)</li> <li>[x] Python 3.10 or later</li> <li>[x] Access to an RPC endpoint (Alchemy, Infura, or public)</li> <li>[ ] (Optional) Private key for write operations</li> <li>[ ] (Optional) Etherscan API key for address lookups</li> </ul>"},{"location":"guides/#skill-level","title":"Skill Level","text":"Guide Difficulty Time ERC20 Token Beginner 10 min NFT Collection Beginner 15 min DeFi Protocol Intermediate 30 min Custom Network Intermediate 20 min Claude Desktop Beginner 15 min"},{"location":"guides/#getting-help","title":"Getting Help","text":"<p>If you run into issues:</p> <ol> <li>Check the CLI Reference for command details</li> <li>Review Core Concepts for understanding</li> <li>See Troubleshooting for common errors</li> <li>Open an issue on GitHub</li> </ol>"},{"location":"guides/claude-desktop/","title":"Claude Desktop Integration","text":"<p>This guide walks you through setting up abi-to-mcp generated servers with Claude Desktop for seamless blockchain interaction.</p>"},{"location":"guides/claude-desktop/#prerequisites","title":"Prerequisites","text":"<ul> <li>Claude Desktop installed</li> <li>abi-to-mcp installed</li> <li>A generated MCP server</li> <li>RPC endpoint (Alchemy, Infura, or public)</li> </ul>"},{"location":"guides/claude-desktop/#overview","title":"Overview","text":"<pre><code>graph LR\n    A[Claude Desktop] &lt;--&gt;|MCP Protocol| B[Generated Server]\n    B &lt;--&gt;|JSON-RPC| C[Blockchain]\n\n    style A fill:#8B5CF6,color:#fff\n    style B fill:#4CAF50,color:#fff\n    style C fill:#627EEA,color:#fff</code></pre> <p>Claude Desktop communicates with MCP servers via the MCP protocol. Each server provides tools and resources that Claude can use to interact with smart contracts.</p>"},{"location":"guides/claude-desktop/#step-1-generate-a-server","title":"Step 1: Generate a Server","text":"<p>If you haven't already:</p> <pre><code># Example: USDC token\nabi-to-mcp generate 0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48 \\\n    --network mainnet \\\n    --output ~/mcp-servers/usdc \\\n    --name \"USDC Token\"\n</code></pre>"},{"location":"guides/claude-desktop/#step-2-test-the-server","title":"Step 2: Test the Server","text":"<p>Verify it works standalone:</p> <pre><code>cd ~/mcp-servers/usdc\npip install -r requirements.txt\n\n# Set RPC URL\nexport RPC_URL=\"https://eth-mainnet.g.alchemy.com/v2/YOUR-KEY\"\n\n# Test run\npython server.py\n</code></pre> <p>You should see: <pre><code>Starting USDC Token MCP Server...\nListening on stdio...\n</code></pre></p> <p>Press Ctrl+C to stop.</p>"},{"location":"guides/claude-desktop/#step-3-configure-claude-desktop","title":"Step 3: Configure Claude Desktop","text":""},{"location":"guides/claude-desktop/#find-the-config-file","title":"Find the Config File","text":"OS Path macOS <code>~/Library/Application Support/Claude/claude_desktop_config.json</code> Windows <code>%APPDATA%\\Claude\\claude_desktop_config.json</code> Linux <code>~/.config/claude/claude_desktop_config.json</code>"},{"location":"guides/claude-desktop/#create-or-edit-config","title":"Create or Edit Config","text":"<pre><code>{\n  \"mcpServers\": {\n    \"usdc\": {\n      \"command\": \"python\",\n      \"args\": [\"/Users/yourname/mcp-servers/usdc/server.py\"],\n      \"env\": {\n        \"RPC_URL\": \"https://eth-mainnet.g.alchemy.com/v2/YOUR-KEY\"\n      }\n    }\n  }\n}\n</code></pre> <p>Use Absolute Paths</p> <p>Always use full absolute paths for the server script. Relative paths may not work correctly.</p>"},{"location":"guides/claude-desktop/#multiple-servers","title":"Multiple Servers","text":"<p>Add more servers for different contracts or networks:</p> <pre><code>{\n  \"mcpServers\": {\n    \"usdc\": {\n      \"command\": \"python\",\n      \"args\": [\"/Users/yourname/mcp-servers/usdc/server.py\"],\n      \"env\": {\n        \"RPC_URL\": \"https://eth-mainnet.g.alchemy.com/v2/YOUR-KEY\"\n      }\n    },\n    \"bayc\": {\n      \"command\": \"python\",\n      \"args\": [\"/Users/yourname/mcp-servers/bayc/server.py\"],\n      \"env\": {\n        \"RPC_URL\": \"https://eth-mainnet.g.alchemy.com/v2/YOUR-KEY\"\n      }\n    },\n    \"uniswap\": {\n      \"command\": \"python\",\n      \"args\": [\"/Users/yourname/mcp-servers/uniswap/server.py\"],\n      \"env\": {\n        \"RPC_URL\": \"https://eth-mainnet.g.alchemy.com/v2/YOUR-KEY\"\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"guides/claude-desktop/#step-4-restart-claude-desktop","title":"Step 4: Restart Claude Desktop","text":"<p>Completely quit and reopen Claude Desktop. The servers will start automatically.</p>"},{"location":"guides/claude-desktop/#step-5-verify-connection","title":"Step 5: Verify Connection","text":"<p>In Claude Desktop, you should see the MCP icon indicating connected servers. Try a query:</p> <p>\"What's the USDC balance of vitalik.eth?\"</p> <p>Claude will use the <code>balance_of</code> tool from your USDC server.</p>"},{"location":"guides/claude-desktop/#example-conversations","title":"Example Conversations","text":""},{"location":"guides/claude-desktop/#checking-balances","title":"Checking Balances","text":"<p>You: What's the USDC balance of 0xd8dA6BF26964aF9D7eEd9e03E53415D37aA96045?</p> <p>Claude: I'll check the USDC balance for that address.</p> <p>[Uses balance_of tool]</p> <p>The address 0xd8dA6BF26964aF9D7eEd9e03E53415D37aA96045 holds 1,234.56 USDC.</p>"},{"location":"guides/claude-desktop/#token-information","title":"Token Information","text":"<p>You: Tell me about this token</p> <p>Claude: I'll get the token information.</p> <p>[Uses name, symbol, decimals, total_supply tools]</p> <p>Token Details: - Name: USD Coin - Symbol: USDC - Decimals: 6 - Total Supply: 26,234,567,890.00 USDC</p>"},{"location":"guides/claude-desktop/#simulating-transfers","title":"Simulating Transfers","text":"<p>You: What would happen if I transferred 100 USDC to 0x742d35Cc6634C0532925a3b844Bc9e7595f5b7A5?</p> <p>Claude: I'll simulate that transfer for you.</p> <p>[Uses transfer tool with simulate=True]</p> <p>Simulation Result: - Would succeed: \u2705 Yes - Gas estimate: 65,000 units - Estimated cost: ~0.002 ETH ($3.50)</p> <p>Would you like me to execute this transfer?</p>"},{"location":"guides/claude-desktop/#nft-ownership","title":"NFT Ownership","text":"<p>You: Who owns BAYC #1234?</p> <p>Claude: I'll look up the owner of that NFT.</p> <p>[Uses owner_of tool]</p> <p>Bored Ape #1234 is owned by 0x123...</p>"},{"location":"guides/claude-desktop/#enabling-write-operations","title":"Enabling Write Operations","text":"<p>To allow Claude to execute transactions (not just simulate):</p>"},{"location":"guides/claude-desktop/#1-add-private-key","title":"1. Add Private Key","text":"<p>In your config, add the private key environment variable:</p> <pre><code>{\n  \"mcpServers\": {\n    \"usdc\": {\n      \"command\": \"python\",\n      \"args\": [\"/path/to/server.py\"],\n      \"env\": {\n        \"RPC_URL\": \"https://...\",\n        \"PRIVATE_KEY\": \"0x...\"\n      }\n    }\n  }\n}\n</code></pre> <p>Security Warning</p> <ul> <li>Never use a wallet with significant funds</li> <li>Create a dedicated wallet for MCP interactions</li> <li>Only fund it with what you're willing to risk</li> </ul>"},{"location":"guides/claude-desktop/#2-confirm-execution","title":"2. Confirm Execution","text":"<p>When you ask Claude to execute:</p> <p>You: Transfer 10 USDC to 0x742d35Cc6634C0532925a3b844Bc9e7595f5b7A5</p> <p>Claude: I'll simulate this transfer first.</p> <p>[Simulation results...]</p> <p>The simulation succeeded. This will: - Send 10 USDC to 0x742d... - Cost approximately 0.002 ETH in gas</p> <p>Would you like me to proceed with the actual transfer?</p> <p>You: Yes, proceed</p> <p>Claude: [Executes transfer with simulate=False]</p> <p>\u2705 Transfer complete! Transaction: 0xabc123...</p>"},{"location":"guides/claude-desktop/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guides/claude-desktop/#server-not-connecting","title":"Server Not Connecting","text":"<p>Check the Claude Desktop logs:</p> <pre><code># macOS\ntail -f ~/Library/Logs/Claude/mcp*.log\n\n# Linux\ntail -f ~/.local/share/claude/logs/mcp*.log\n</code></pre> <p>Common issues: - Wrong path to server.py - Missing dependencies - Invalid RPC URL</p>"},{"location":"guides/claude-desktop/#tool-not-found","title":"\"Tool not found\"","text":"<ul> <li>Restart Claude Desktop</li> <li>Check server is in config</li> <li>Verify server starts without errors</li> </ul>"},{"location":"guides/claude-desktop/#rpc-errors","title":"RPC Errors","text":"<ul> <li>Check RPC URL is valid</li> <li>Verify API key has sufficient credits</li> <li>Try a different RPC provider</li> </ul>"},{"location":"guides/claude-desktop/#slow-responses","title":"Slow Responses","text":"<ul> <li>RPC endpoint may be rate-limited</li> <li>Use a paid RPC plan</li> <li>Consider caching for repeated queries</li> </ul>"},{"location":"guides/claude-desktop/#best-practices","title":"Best Practices","text":""},{"location":"guides/claude-desktop/#1-use-read-only-for-exploration","title":"1. Use Read-Only for Exploration","text":"<p>Generate read-only servers when you don't need writes:</p> <pre><code>abi-to-mcp generate 0x... --read-only --output ./explorer\n</code></pre>"},{"location":"guides/claude-desktop/#2-separate-private-keys","title":"2. Separate Private Keys","text":"<p>Use different wallets for different purposes: - Testing wallet (small funds) - Production wallet (monitored) - Never your main wallet</p>"},{"location":"guides/claude-desktop/#3-monitor-usage","title":"3. Monitor Usage","text":"<p>Check your RPC provider dashboard for: - API usage - Rate limits - Errors</p>"},{"location":"guides/claude-desktop/#4-keep-servers-updated","title":"4. Keep Servers Updated","text":"<p>When contract ABIs change:</p> <pre><code># Regenerate\nabi-to-mcp generate 0x... --output ./my-server --force\n</code></pre>"},{"location":"guides/claude-desktop/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"guides/claude-desktop/#custom-python-path","title":"Custom Python Path","text":"<p>If using a virtual environment:</p> <pre><code>{\n  \"mcpServers\": {\n    \"usdc\": {\n      \"command\": \"/path/to/venv/bin/python\",\n      \"args\": [\"/path/to/server.py\"],\n      \"env\": {\n        \"RPC_URL\": \"...\"\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"guides/claude-desktop/#working-directory","title":"Working Directory","text":"<p>Set a working directory:</p> <pre><code>{\n  \"mcpServers\": {\n    \"usdc\": {\n      \"command\": \"python\",\n      \"args\": [\"server.py\"],\n      \"cwd\": \"/path/to/usdc-server\",\n      \"env\": {\n        \"RPC_URL\": \"...\"\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"guides/claude-desktop/#environment-file","title":"Environment File","text":"<p>For many environment variables:</p> <pre><code>{\n  \"mcpServers\": {\n    \"usdc\": {\n      \"command\": \"bash\",\n      \"args\": [\"-c\", \"source .env &amp;&amp; python server.py\"],\n      \"cwd\": \"/path/to/usdc-server\"\n    }\n  }\n}\n</code></pre>"},{"location":"guides/claude-desktop/#whats-next","title":"What's Next?","text":"<ul> <li>ERC20 Guide - Token-specific features</li> <li>DeFi Guide - Complex protocols</li> <li>Safety Features - Understanding protections</li> </ul>"},{"location":"guides/custom-network/","title":"Custom Network Guide","text":"<p>abi-to-mcp supports many networks out of the box, but you may need to add custom networks for:</p> <ul> <li>Private/enterprise blockchains</li> <li>New L2s not yet added</li> <li>Testnets</li> <li>Local development chains</li> </ul>"},{"location":"guides/custom-network/#built-in-networks","title":"Built-in Networks","text":"<p>These networks are supported by default:</p> Network Chain ID Flag Ethereum Mainnet 1 <code>--network mainnet</code> Goerli Testnet 5 <code>--network goerli</code> Sepolia Testnet 11155111 <code>--network sepolia</code> Polygon 137 <code>--network polygon</code> Polygon Mumbai 80001 <code>--network mumbai</code> Arbitrum One 42161 <code>--network arbitrum</code> Optimism 10 <code>--network optimism</code> Base 8453 <code>--network base</code> BSC 56 <code>--network bsc</code> Avalanche C-Chain 43114 <code>--network avalanche</code>"},{"location":"guides/custom-network/#using-custom-rpc","title":"Using Custom RPC","text":"<p>The simplest way to use any network is providing a custom RPC URL:</p> <pre><code># Generate with default (for ABI fetching)\nabi-to-mcp generate ./my-abi.json \\\n    --output ./my-server \\\n    --address 0x1234...\n</code></pre> <p>Then set the custom RPC in <code>.env</code>:</p> <pre><code>RPC_URL=https://your-custom-rpc.example.com\nCHAIN_ID=12345\n</code></pre>"},{"location":"guides/custom-network/#adding-a-custom-network","title":"Adding a Custom Network","text":"<p>For networks with Etherscan-compatible explorers, you can configure full support.</p>"},{"location":"guides/custom-network/#method-1-environment-variables","title":"Method 1: Environment Variables","text":"<p>Set these before running:</p> <pre><code># Custom network configuration\nexport CUSTOM_CHAIN_ID=324\nexport CUSTOM_RPC_URL=https://mainnet.era.zksync.io\nexport CUSTOM_EXPLORER_URL=https://api.zkscan.io/api\nexport CUSTOM_EXPLORER_API_KEY=your-api-key\n\n# Now generate\nabi-to-mcp generate 0x1234... \\\n    --network custom \\\n    --output ./zksync-server\n</code></pre>"},{"location":"guides/custom-network/#method-2-network-configuration-file","title":"Method 2: Network Configuration File","text":"<p>Create <code>~/.abi-to-mcp/networks.json</code>:</p> <pre><code>{\n  \"networks\": {\n    \"zksync\": {\n      \"name\": \"zkSync Era\",\n      \"chain_id\": 324,\n      \"rpc_url\": \"https://mainnet.era.zksync.io\",\n      \"explorer_url\": \"https://api.zkscan.io/api\",\n      \"explorer_api_key_env\": \"ZKSYNC_API_KEY\",\n      \"currency\": {\n        \"name\": \"Ether\",\n        \"symbol\": \"ETH\",\n        \"decimals\": 18\n      }\n    },\n    \"linea\": {\n      \"name\": \"Linea\",\n      \"chain_id\": 59144,\n      \"rpc_url\": \"https://rpc.linea.build\",\n      \"explorer_url\": \"https://api.lineascan.build/api\",\n      \"explorer_api_key_env\": \"LINEA_API_KEY\",\n      \"currency\": {\n        \"name\": \"Ether\",\n        \"symbol\": \"ETH\",\n        \"decimals\": 18\n      }\n    }\n  }\n}\n</code></pre> <p>Now use the network name:</p> <pre><code>abi-to-mcp generate 0x1234... --network zksync\n</code></pre>"},{"location":"guides/custom-network/#local-development-chains","title":"Local Development Chains","text":""},{"location":"guides/custom-network/#hardhat","title":"Hardhat","text":"<pre><code># Start Hardhat node\nnpx hardhat node\n\n# Configure abi-to-mcp\nexport RPC_URL=http://127.0.0.1:8545\nexport CHAIN_ID=31337\n\n# Use local ABI (Hardhat artifacts)\nabi-to-mcp generate ./artifacts/contracts/MyContract.sol/MyContract.json \\\n    --output ./my-server \\\n    --address 0x5FbDB2315678afecb367f032d93F642f64180aa3\n</code></pre>"},{"location":"guides/custom-network/#foundryanvil","title":"Foundry/Anvil","text":"<pre><code># Start Anvil\nanvil\n\n# Configure\nexport RPC_URL=http://127.0.0.1:8545\nexport CHAIN_ID=31337\n\n# Use Foundry output\nabi-to-mcp generate ./out/MyContract.sol/MyContract.json \\\n    --output ./my-server \\\n    --address 0x...\n</code></pre>"},{"location":"guides/custom-network/#ganache","title":"Ganache","text":"<pre><code># Start Ganache\nganache --chain.chainId 1337\n\n# Configure\nexport RPC_URL=http://127.0.0.1:8545\nexport CHAIN_ID=1337\n</code></pre>"},{"location":"guides/custom-network/#private-enterprise-chains","title":"Private Enterprise Chains","text":"<p>For private networks without public explorers:</p>"},{"location":"guides/custom-network/#1-get-abi-locally","title":"1. Get ABI Locally","text":"<p>You'll need the ABI file since there's no explorer:</p> <pre><code># From Hardhat\ncp ./artifacts/contracts/MyContract.sol/MyContract.json ./abi.json\n\n# From Foundry\ncp ./out/MyContract.sol/MyContract.json ./abi.json\n\n# From Truffle\ncp ./build/contracts/MyContract.json ./abi.json\n</code></pre>"},{"location":"guides/custom-network/#2-generate-server","title":"2. Generate Server","text":"<pre><code>abi-to-mcp generate ./abi.json \\\n    --output ./private-server \\\n    --address 0x... \\\n    --name \"Private Contract\"\n</code></pre>"},{"location":"guides/custom-network/#3-configure-private-rpc","title":"3. Configure Private RPC","text":"<pre><code># .env\nRPC_URL=https://your-private-rpc.internal.example.com\nCHAIN_ID=9999\n\n# Optional: Authentication\n# Some private RPCs require headers\n</code></pre> <p>For RPC authentication, you may need to modify the generated <code>config.py</code>:</p> <pre><code># config.py\nimport os\n\nRPC_URL = os.environ.get(\"RPC_URL\")\nRPC_AUTH_HEADER = os.environ.get(\"RPC_AUTH_HEADER\")\n\n# In web3_client initialization\nif RPC_AUTH_HEADER:\n    headers = {\"Authorization\": RPC_AUTH_HEADER}\n    # Configure Web3 with custom headers\n</code></pre>"},{"location":"guides/custom-network/#cross-chain-configuration","title":"Cross-Chain Configuration","text":"<p>Generate servers for multiple chains:</p> <pre><code># Mainnet\nabi-to-mcp generate 0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48 \\\n    --network mainnet \\\n    --output ./usdc-mainnet\n\n# Polygon\nabi-to-mcp generate 0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174 \\\n    --network polygon \\\n    --output ./usdc-polygon\n\n# Arbitrum\nabi-to-mcp generate 0xaf88d065e77c8cC2239327C5EDb3A432268e5831 \\\n    --network arbitrum \\\n    --output ./usdc-arbitrum\n</code></pre>"},{"location":"guides/custom-network/#multi-chain-claude-config","title":"Multi-Chain Claude Config","text":"<pre><code>{\n  \"mcpServers\": {\n    \"usdc-mainnet\": {\n      \"command\": \"python\",\n      \"args\": [\"./usdc-mainnet/server.py\"],\n      \"env\": {\n        \"RPC_URL\": \"https://eth-mainnet.g.alchemy.com/v2/KEY\"\n      }\n    },\n    \"usdc-polygon\": {\n      \"command\": \"python\",\n      \"args\": [\"./usdc-polygon/server.py\"],\n      \"env\": {\n        \"RPC_URL\": \"https://polygon-mainnet.g.alchemy.com/v2/KEY\"\n      }\n    },\n    \"usdc-arbitrum\": {\n      \"command\": \"python\",\n      \"args\": [\"./usdc-arbitrum/server.py\"],\n      \"env\": {\n        \"RPC_URL\": \"https://arb-mainnet.g.alchemy.com/v2/KEY\"\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"guides/custom-network/#network-specific-considerations","title":"Network-Specific Considerations","text":""},{"location":"guides/custom-network/#layer-2-networks","title":"Layer 2 Networks","text":"<p>L2s may have: - Different gas models (Arbitrum, Optimism) - Different transaction formats (zkSync) - Faster block times</p>"},{"location":"guides/custom-network/#bsc-and-other-clones","title":"BSC and Other Clones","text":"<p>Ethereum clones work similarly but may have: - Different native currency (BNB instead of ETH) - Different block times - Different gas pricing</p>"},{"location":"guides/custom-network/#sidechains","title":"Sidechains","text":"<p>Sidechains like Polygon have: - Lower gas costs - Faster finality - Different security model</p>"},{"location":"guides/custom-network/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guides/custom-network/#could-not-connect-to-rpc","title":"\"Could not connect to RPC\"","text":"<p>Check: - RPC URL is correct - Network is accessible - No firewall blocking</p>"},{"location":"guides/custom-network/#chain-id-mismatch","title":"\"Chain ID mismatch\"","text":"<p>The RPC returned a different chain ID than expected: - Verify the chain ID in your config - Check you're connecting to the right network</p>"},{"location":"guides/custom-network/#explorer-api-returned-error","title":"\"Explorer API returned error\"","text":"<p>For fetching ABIs from explorers: - Verify the explorer URL - Check API key is valid - Ensure contract is verified</p>"},{"location":"guides/custom-network/#gas-estimation-failed","title":"\"Gas estimation failed\"","text":"<p>The transaction would fail. On custom networks: - Verify contract is deployed - Check contract address - Ensure you're on the right network</p>"},{"location":"guides/custom-network/#reference-network-configuration-schema","title":"Reference: Network Configuration Schema","text":"<pre><code>{\n  \"name\": \"Network Name\",\n  \"chain_id\": 1,\n  \"rpc_url\": \"https://...\",\n  \"explorer_url\": \"https://api.../api\",\n  \"explorer_api_key_env\": \"ENV_VAR_NAME\",\n  \"currency\": {\n    \"name\": \"Ether\",\n    \"symbol\": \"ETH\",\n    \"decimals\": 18\n  },\n  \"block_time\": 12,\n  \"is_testnet\": false\n}\n</code></pre>"},{"location":"guides/custom-network/#next-steps","title":"Next Steps","text":"<ul> <li>Claude Desktop - Configure for Claude</li> <li>Reference: Networks - Full network list</li> <li>DeFi Guide - DeFi on L2s</li> </ul>"},{"location":"guides/defi-protocol/","title":"DeFi Protocol Guide","text":"<p>This guide covers creating MCP servers for complex DeFi protocols like Uniswap, Aave, and Compound. These protocols have:</p> <ul> <li>Multiple contracts</li> <li>Complex parameters (structs, arrays)</li> <li>Payable functions</li> <li>Time-sensitive operations</li> </ul>"},{"location":"guides/defi-protocol/#prerequisites","title":"Prerequisites","text":"<ul> <li>abi-to-mcp installed</li> <li>Good understanding of Core Concepts</li> <li>RPC endpoint with archive access (recommended)</li> </ul>"},{"location":"guides/defi-protocol/#example-uniswap-v3-router","title":"Example: Uniswap V3 Router","text":"<p>Uniswap's SwapRouter is one of the most used DeFi contracts:</p> Property Value Contract SwapRouter Address <code>0xE592427A0AEce92De3Edee1F18E0157C05861564</code> Network Ethereum Mainnet"},{"location":"guides/defi-protocol/#generate-the-server","title":"Generate the Server","text":"<pre><code>abi-to-mcp generate 0xE592427A0AEce92De3Edee1F18E0157C05861564 \\\n    --network mainnet \\\n    --output ./uniswap-router \\\n    --name \"Uniswap V3 Router\"\n</code></pre>"},{"location":"guides/defi-protocol/#key-functions","title":"Key Functions","text":"Function Purpose Parameters <code>exactInputSingle</code> Swap exact input for output <code>ExactInputSingleParams</code> struct <code>exactOutputSingle</code> Swap for exact output <code>ExactOutputSingleParams</code> struct <code>exactInput</code> Multi-hop exact input Encoded path <code>exactOutput</code> Multi-hop exact output Encoded path"},{"location":"guides/defi-protocol/#struct-parameters","title":"Struct Parameters","text":"<p>Uniswap uses complex struct parameters:</p> <pre><code># ExactInputSingleParams\n{\n    \"tokenIn\": \"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2\",  # WETH\n    \"tokenOut\": \"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\", # USDC\n    \"fee\": \"3000\",        # 0.3% fee tier\n    \"recipient\": \"0x...\",  # Your address\n    \"deadline\": \"1699999999\",  # Unix timestamp\n    \"amountIn\": \"1000000000000000000\",  # 1 WETH\n    \"amountOutMinimum\": \"1800000000\",    # Min 1800 USDC\n    \"sqrtPriceLimitX96\": \"0\"  # No price limit\n}\n</code></pre>"},{"location":"guides/defi-protocol/#fee-tiers","title":"Fee Tiers","text":"<p>Uniswap V3 has multiple fee tiers:</p> Fee Value Best For 0.01% <code>100</code> Stable pairs (USDC/USDT) 0.05% <code>500</code> Stable pairs 0.3% <code>3000</code> Most pairs 1% <code>10000</code> Exotic pairs"},{"location":"guides/defi-protocol/#example-aave-v3-pool","title":"Example: Aave V3 Pool","text":"<p>Aave's lending pool enables deposits, borrows, and repayments:</p> Property Value Contract Pool Address <code>0x87870Bca3F3fD6335C3F4ce8392D69350B4fA4E2</code> Network Ethereum Mainnet"},{"location":"guides/defi-protocol/#generate-the-server_1","title":"Generate the Server","text":"<pre><code>abi-to-mcp generate 0x87870Bca3F3fD6335C3F4ce8392D69350B4fA4E2 \\\n    --network mainnet \\\n    --output ./aave-pool \\\n    --name \"Aave V3 Pool\"\n</code></pre>"},{"location":"guides/defi-protocol/#key-functions_1","title":"Key Functions","text":"Function Type Purpose <code>supply</code> Write Deposit assets <code>withdraw</code> Write Withdraw assets <code>borrow</code> Write Borrow assets <code>repay</code> Write Repay debt <code>getUserAccountData</code> Read Get user health factor <code>getReserveData</code> Read Get asset info"},{"location":"guides/defi-protocol/#reading-user-data","title":"Reading User Data","text":"<pre><code># Get user's account summary\ndata = await get_user_account_data(user=\"0x...\")\n\n# Returns:\n{\n    \"totalCollateralBase\": \"10000000000\",    # In base currency (USD, 8 decimals)\n    \"totalDebtBase\": \"5000000000\",\n    \"availableBorrowsBase\": \"2500000000\",\n    \"currentLiquidationThreshold\": \"8250\",   # 82.5%\n    \"ltv\": \"8000\",                           # 80%\n    \"healthFactor\": \"1650000000000000000\"    # 1.65\n}\n</code></pre> <p>Health Factor</p> <p>If <code>healthFactor</code> falls below <code>1000000000000000000</code> (1.0), the position can be liquidated!</p>"},{"location":"guides/defi-protocol/#working-with-multiple-contracts","title":"Working with Multiple Contracts","text":"<p>DeFi protocols often require multiple contracts:</p>"},{"location":"guides/defi-protocol/#uniswap-complete-setup","title":"Uniswap Complete Setup","text":"<pre><code># Router for swaps\nabi-to-mcp generate 0xE592427A0AEce92De3Edee1F18E0157C05861564 \\\n    -o ./uniswap/router -n mainnet\n\n# Quoter for quotes (read-only)\nabi-to-mcp generate 0xb27308f9F90D607463bb33eA1BeBb41C27CE5AB6 \\\n    -o ./uniswap/quoter -n mainnet --read-only\n\n# Factory for pool lookups\nabi-to-mcp generate 0x1F98431c8aD98523631AE4a59f267346ea31F984 \\\n    -o ./uniswap/factory -n mainnet --read-only\n</code></pre>"},{"location":"guides/defi-protocol/#combined-server","title":"Combined Server","text":"<p>You can combine multiple contracts into one server by editing the generated code:</p> <pre><code># server.py\nfrom uniswap.router.server import router_tools\nfrom uniswap.quoter.server import quoter_tools\nfrom uniswap.factory.server import factory_tools\n\n# Register all tools\nfor tool in router_tools + quoter_tools + factory_tools:\n    mcp.register_tool(tool)\n</code></pre>"},{"location":"guides/defi-protocol/#token-approvals","title":"Token Approvals","text":"<p>Most DeFi operations require token approvals first:</p> <pre><code>sequenceDiagram\n    participant User\n    participant Token\n    participant Protocol\n\n    User-&gt;&gt;Token: approve(protocol, amount)\n    Token--&gt;&gt;User: \u2713 Approved\n    User-&gt;&gt;Protocol: deposit(amount)\n    Protocol-&gt;&gt;Token: transferFrom(user, protocol, amount)\n    Token--&gt;&gt;Protocol: \u2713 Transferred\n    Protocol--&gt;&gt;User: \u2713 Deposited</code></pre>"},{"location":"guides/defi-protocol/#check-allowance","title":"Check Allowance","text":"<pre><code># Check current allowance\nallowance = await token_allowance(\n    owner=\"0x...\",\n    spender=\"0x...protocol...\"\n)\n\nif int(allowance) &lt; amount_needed:\n    # Need to approve first\n    await token_approve(\n        spender=\"0x...protocol...\",\n        amount=\"115792089237316195423570985008687907853269984665640564039457584007913129639935\",  # Max uint256\n        simulate=True\n    )\n</code></pre> <p>Max Approval</p> <p>Many users approve the maximum uint256 value to avoid repeated approvals. This is convenient but less secure.</p>"},{"location":"guides/defi-protocol/#handling-deadlines","title":"Handling Deadlines","text":"<p>Time-sensitive DeFi operations include deadlines:</p> <pre><code>import time\n\n# Set deadline 20 minutes from now\ndeadline = str(int(time.time()) + 20 * 60)\n\nresult = await exact_input_single(\n    params={\n        \"tokenIn\": \"0x...\",\n        \"tokenOut\": \"0x...\",\n        \"fee\": \"3000\",\n        \"recipient\": \"0x...\",\n        \"deadline\": deadline,  # Important!\n        \"amountIn\": \"1000000000000000000\",\n        \"amountOutMinimum\": \"0\",\n        \"sqrtPriceLimitX96\": \"0\"\n    },\n    simulate=True\n)\n</code></pre> <p>Expired Deadlines</p> <p>If the deadline passes before the transaction is mined, it will revert. Set reasonable deadlines based on network congestion.</p>"},{"location":"guides/defi-protocol/#slippage-protection","title":"Slippage Protection","text":"<p>Always set minimum output amounts:</p> <pre><code># Get quote first\nquote = await quote_exact_input_single(\n    tokenIn=\"0x...\",\n    tokenOut=\"0x...\",\n    fee=\"3000\",\n    amountIn=\"1000000000000000000\",\n    sqrtPriceLimitX96=\"0\"\n)\n\n# Calculate minimum with 0.5% slippage\namount_out = int(quote)\nslippage = 0.005\namount_out_minimum = str(int(amount_out * (1 - slippage)))\n\n# Execute swap with protection\nresult = await exact_input_single(\n    params={\n        # ...\n        \"amountOutMinimum\": amount_out_minimum\n    }\n)\n</code></pre>"},{"location":"guides/defi-protocol/#flash-loans","title":"Flash Loans","text":"<p>Some protocols support flash loans (borrow + repay in one transaction). These require custom contract interactions beyond basic MCP tools.</p> <p>Advanced Feature</p> <p>Flash loans typically require writing custom smart contracts to execute the borrowed funds logic.</p>"},{"location":"guides/defi-protocol/#gas-optimization","title":"Gas Optimization","text":"<p>DeFi transactions can be gas-intensive:</p> Operation Typical Gas Token approval 45,000 Simple swap 150,000 Multi-hop swap 250,000+ Aave supply 200,000 Aave borrow 300,000 <p>Tips: - Batch operations when possible - Time transactions for low gas periods - Use gas estimation before executing</p> <pre><code># Always simulate first to get gas estimate\nresult = await exact_input_single(params={...}, simulate=True)\nprint(f\"Estimated gas: {result['gas_estimate']}\")\nprint(f\"Estimated cost: {result['estimated_cost_eth']} ETH\")\n</code></pre>"},{"location":"guides/defi-protocol/#common-errors","title":"Common Errors","text":""},{"location":"guides/defi-protocol/#insufficient_output_amount","title":"\"INSUFFICIENT_OUTPUT_AMOUNT\"","text":"<p>Slippage too high or pool price moved. Solutions: - Increase <code>amountOutMinimum</code> tolerance - Use smaller trade sizes - Try different fee tiers</p>"},{"location":"guides/defi-protocol/#expired","title":"\"EXPIRED\"","text":"<p>Transaction wasn't mined before deadline: - Increase deadline - Increase gas price - Check network congestion</p>"},{"location":"guides/defi-protocol/#stf-safe-transfer-failed","title":"\"STF\" (Safe Transfer Failed)","text":"<p>Token transfer failed. Check: - Sufficient balance - Sufficient allowance - Token isn't paused</p>"},{"location":"guides/defi-protocol/#unpredictable_gas_limit","title":"\"UNPREDICTABLE_GAS_LIMIT\"","text":"<p>Can't estimate gas (transaction would fail): - Simulation will help identify the issue - Check all parameters are valid - Verify contract state</p>"},{"location":"guides/defi-protocol/#next-steps","title":"Next Steps","text":"<ul> <li>Custom Networks - DeFi on L2s</li> <li>Safety Features - Protect your funds</li> <li>Claude Desktop - Use with Claude</li> </ul>"},{"location":"guides/erc20-token/","title":"ERC20 Token Guide","text":"<p>This guide walks you through creating an MCP server for any ERC20 token. You'll be able to:</p> <ul> <li>\u2705 Check token balances</li> <li>\u2705 View token metadata (name, symbol, decimals)</li> <li>\u2705 Track transfers and approvals</li> <li>\u2705 Transfer tokens (optional)</li> <li>\u2705 Approve spending (optional)</li> </ul>"},{"location":"guides/erc20-token/#prerequisites","title":"Prerequisites","text":"<ul> <li>abi-to-mcp installed</li> <li>RPC endpoint (free from Alchemy/Infura or public)</li> <li>Token contract address</li> </ul>"},{"location":"guides/erc20-token/#step-1-choose-your-token","title":"Step 1: Choose Your Token","text":"<p>For this guide, we'll use USDC on Ethereum mainnet:</p> Property Value Token USD Coin (USDC) Address <code>0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48</code> Network Ethereum Mainnet <p>Find Any Token</p> <p>You can find token addresses on:</p> <ul> <li>Etherscan</li> <li>CoinGecko</li> <li>CoinMarketCap</li> </ul>"},{"location":"guides/erc20-token/#step-2-generate-the-server","title":"Step 2: Generate the Server","text":"<pre><code>abi-to-mcp generate 0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48 \\\n    --network mainnet \\\n    --output ./usdc-mcp-server \\\n    --name \"USDC Token\"\n</code></pre> <p>This will: 1. Fetch the ABI from Etherscan 2. Parse functions and events 3. Generate the MCP server</p> <p>Output: <pre><code>\ud83d\udd0d Fetching ABI from Etherscan (mainnet)...\n\u2705 Found verified contract: FiatTokenV2_2\n\ud83d\udcca Detected standard: ERC20\n\n\ud83d\udcc1 Generated files:\n   ./usdc-mcp-server/\n   \u251c\u2500\u2500 server.py\n   \u251c\u2500\u2500 config.py\n   \u251c\u2500\u2500 README.md\n   \u251c\u2500\u2500 pyproject.toml\n   \u2514\u2500\u2500 requirements.txt\n\n\ud83c\udf89 Server ready! Run with: python ./usdc-mcp-server/server.py\n</code></pre></p>"},{"location":"guides/erc20-token/#step-3-configure-the-server","title":"Step 3: Configure the Server","text":"<p>Navigate to the generated directory:</p> <pre><code>cd usdc-mcp-server\n</code></pre> <p>Create a <code>.env</code> file:</p> <pre><code># Required\nRPC_URL=https://eth-mainnet.g.alchemy.com/v2/YOUR-API-KEY\n\n# Optional - only for write operations\n# PRIVATE_KEY=your-private-key-here\n</code></pre> <p>Never Commit .env</p> <p>Add <code>.env</code> to your <code>.gitignore</code> to keep secrets safe.</p>"},{"location":"guides/erc20-token/#step-4-install-dependencies","title":"Step 4: Install Dependencies","text":"<pre><code>pip install -r requirements.txt\n</code></pre> <p>Or with the project:</p> <pre><code>pip install -e .\n</code></pre>"},{"location":"guides/erc20-token/#step-5-run-the-server","title":"Step 5: Run the Server","text":"<pre><code>python server.py\n</code></pre> <p>The server starts and listens for MCP connections.</p>"},{"location":"guides/erc20-token/#step-6-test-with-claude","title":"Step 6: Test with Claude","text":"<p>Add to your Claude Desktop config (<code>~/Library/Application Support/Claude/claude_desktop_config.json</code>):</p> <pre><code>{\n  \"mcpServers\": {\n    \"usdc-token\": {\n      \"command\": \"python\",\n      \"args\": [\"/path/to/usdc-mcp-server/server.py\"],\n      \"env\": {\n        \"RPC_URL\": \"https://eth-mainnet.g.alchemy.com/v2/YOUR-API-KEY\"\n      }\n    }\n  }\n}\n</code></pre> <p>Restart Claude Desktop and try:</p> <p>\"What's the USDC balance of vitalik.eth?\"</p> <p>Claude will use the <code>balance_of</code> tool to check the balance.</p>"},{"location":"guides/erc20-token/#available-tools","title":"Available Tools","text":""},{"location":"guides/erc20-token/#read-tools-no-gas-required","title":"Read Tools (No gas required)","text":"Tool Description Example <code>name</code> Get token name \"USD Coin\" <code>symbol</code> Get token symbol \"USDC\" <code>decimals</code> Get decimal places 6 <code>total_supply</code> Get total supply \"26234567890000000\" <code>balance_of</code> Get address balance \"1000000000\" (1000 USDC) <code>allowance</code> Get spending approval \"500000000\""},{"location":"guides/erc20-token/#write-tools-gas-required","title":"Write Tools (Gas required)","text":"Tool Description Parameters <code>transfer</code> Send tokens <code>to</code>, <code>amount</code>, <code>simulate</code> <code>approve</code> Approve spending <code>spender</code>, <code>amount</code>, <code>simulate</code> <code>transfer_from</code> Transfer on behalf <code>from_</code>, <code>to</code>, <code>amount</code>, <code>simulate</code>"},{"location":"guides/erc20-token/#working-with-balances","title":"Working with Balances","text":"<p>USDC has 6 decimals, so:</p> Raw Value Human Readable <code>1000000</code> 1 USDC <code>1000000000</code> 1,000 USDC <code>1000000000000</code> 1,000,000 USDC <p>Conversion Helper</p> <pre><code># Raw to human\nhuman_amount = int(raw_amount) / 10**6\n\n# Human to raw\nraw_amount = int(human_amount * 10**6)\n</code></pre>"},{"location":"guides/erc20-token/#querying-transfers","title":"Querying Transfers","text":"<p>The server also exposes Transfer events as a resource:</p> <pre><code># Get recent transfers to an address\ntransfers = await get_transfer_events(\n    to_address=\"0x...\",\n    from_block=current_block - 1000,\n    limit=10\n)\n</code></pre> <p>Each transfer includes: <pre><code>{\n    \"from\": \"0x123...\",\n    \"to\": \"0x456...\",\n    \"value\": \"1000000000\",  # 1000 USDC\n    \"block_number\": 18500000,\n    \"transaction_hash\": \"0x...\"\n}\n</code></pre></p>"},{"location":"guides/erc20-token/#making-transfers","title":"Making Transfers","text":"<p>Real Money</p> <p>Transfers move real tokens. Always simulate first and double-check addresses.</p>"},{"location":"guides/erc20-token/#simulate-first","title":"Simulate First","text":"<pre><code># This only simulates - no tokens moved\nresult = await transfer(\n    to=\"0x742d35Cc6634C0532925a3b844Bc9e7595f5b7A5\",\n    amount=\"1000000\",  # 1 USDC\n    simulate=True  # Default\n)\n</code></pre> <p>Result: <pre><code>{\n    \"success\": True,\n    \"would_succeed\": True,\n    \"gas_estimate\": 65000,\n    \"estimated_cost_eth\": \"0.0016\"\n}\n</code></pre></p>"},{"location":"guides/erc20-token/#execute-transfer","title":"Execute Transfer","text":"<pre><code># This WILL move tokens\nresult = await transfer(\n    to=\"0x742d35Cc6634C0532925a3b844Bc9e7595f5b7A5\",\n    amount=\"1000000\",\n    simulate=False  # Actually execute\n)\n</code></pre> <p>Result: <pre><code>{\n    \"success\": True,\n    \"transaction_hash\": \"0x...\",\n    \"block_number\": 18500123\n}\n</code></pre></p>"},{"location":"guides/erc20-token/#read-only-mode","title":"Read-Only Mode","text":"<p>If you only need to query data:</p> <pre><code>abi-to-mcp generate 0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48 \\\n    --network mainnet \\\n    --output ./usdc-readonly \\\n    --read-only\n</code></pre> <p>This generates a server with only read tools - no transfer or approve functions.</p>"},{"location":"guides/erc20-token/#common-issues","title":"Common Issues","text":""},{"location":"guides/erc20-token/#contract-source-code-not-verified","title":"\"Contract source code not verified\"","text":"<p>The token contract isn't verified on Etherscan. Solutions:</p> <ol> <li>Use a local ABI file if you have one</li> <li>Try a different block explorer</li> <li>Check if the contract is a proxy</li> </ol>"},{"location":"guides/erc20-token/#execution-reverted","title":"\"execution reverted\"","text":"<p>Usually means: - Insufficient balance - Not enough allowance - Contract is paused</p>"},{"location":"guides/erc20-token/#balance-shows-0-for-known-holder","title":"Balance shows 0 for known holder","text":"<p>Check: - Correct network (mainnet vs testnet) - Correct contract address - Address format (with 0x prefix)</p>"},{"location":"guides/erc20-token/#next-steps","title":"Next Steps","text":"<ul> <li>Track NFTs - Similar process for ERC721</li> <li>DeFi Integration - More complex protocols</li> <li>Claude Desktop - Full integration guide</li> </ul>"},{"location":"guides/nft-collection/","title":"NFT Collection Guide","text":"<p>This guide shows you how to create an MCP server for any ERC721 NFT collection. You'll be able to:</p> <ul> <li>\u2705 Check NFT ownership</li> <li>\u2705 View collection metadata</li> <li>\u2705 Look up token URIs</li> <li>\u2705 Track transfers</li> <li>\u2705 Transfer NFTs (optional)</li> </ul>"},{"location":"guides/nft-collection/#prerequisites","title":"Prerequisites","text":"<ul> <li>abi-to-mcp installed</li> <li>RPC endpoint</li> <li>NFT contract address</li> </ul>"},{"location":"guides/nft-collection/#step-1-choose-your-collection","title":"Step 1: Choose Your Collection","text":"<p>For this guide, we'll use Bored Ape Yacht Club:</p> Property Value Collection Bored Ape Yacht Club (BAYC) Address <code>0xBC4CA0EdA7647A8aB7C2061c2E118A18a936f13D</code> Network Ethereum Mainnet Standard ERC721 <p>Find NFT Collections</p> <p>Popular places to find NFT contract addresses:</p> <ul> <li>OpenSea</li> <li>Etherscan NFT Tracker</li> <li>NFTScan</li> </ul>"},{"location":"guides/nft-collection/#step-2-generate-the-server","title":"Step 2: Generate the Server","text":"<pre><code>abi-to-mcp generate 0xBC4CA0EdA7647A8aB7C2061c2E118A18a936f13D \\\n    --network mainnet \\\n    --output ./bayc-mcp-server \\\n    --name \"BAYC NFT\"\n</code></pre> <p>Output: <pre><code>\ud83d\udd0d Fetching ABI from Etherscan (mainnet)...\n\u2705 Found verified contract: BoredApeYachtClub\n\ud83d\udcca Detected standard: ERC721\n\n\ud83d\udcc1 Generated files:\n   ./bayc-mcp-server/\n   \u251c\u2500\u2500 server.py\n   \u251c\u2500\u2500 config.py\n   \u251c\u2500\u2500 README.md\n   \u251c\u2500\u2500 pyproject.toml\n   \u2514\u2500\u2500 requirements.txt\n</code></pre></p>"},{"location":"guides/nft-collection/#step-3-configure-and-run","title":"Step 3: Configure and Run","text":"<pre><code>cd bayc-mcp-server\n\n# Create .env\necho \"RPC_URL=https://eth-mainnet.g.alchemy.com/v2/YOUR-KEY\" &gt; .env\n\n# Install and run\npip install -r requirements.txt\npython server.py\n</code></pre>"},{"location":"guides/nft-collection/#available-tools","title":"Available Tools","text":""},{"location":"guides/nft-collection/#collection-info","title":"Collection Info","text":"Tool Description Example Return <code>name</code> Collection name \"BoredApeYachtClub\" <code>symbol</code> Collection symbol \"BAYC\" <code>total_supply</code> Total minted \"10000\""},{"location":"guides/nft-collection/#ownership","title":"Ownership","text":"Tool Description Parameters <code>owner_of</code> Get token owner <code>token_id</code> <code>balance_of</code> Count owned tokens <code>owner</code> <code>token_of_owner_by_index</code> Get token at index <code>owner</code>, <code>index</code>"},{"location":"guides/nft-collection/#metadata","title":"Metadata","text":"Tool Description Parameters <code>token_uri</code> Get metadata URI <code>token_id</code>"},{"location":"guides/nft-collection/#approvals","title":"Approvals","text":"Tool Description Parameters <code>get_approved</code> Get approved address <code>token_id</code> <code>is_approved_for_all</code> Check operator approval <code>owner</code>, <code>operator</code>"},{"location":"guides/nft-collection/#transfers-write","title":"Transfers (Write)","text":"Tool Description Parameters <code>transfer_from</code> Transfer NFT <code>from_</code>, <code>to</code>, <code>token_id</code> <code>safe_transfer_from</code> Safe transfer <code>from_</code>, <code>to</code>, <code>token_id</code> <code>approve</code> Approve transfer <code>to</code>, <code>token_id</code> <code>set_approval_for_all</code> Approve operator <code>operator</code>, <code>approved</code>"},{"location":"guides/nft-collection/#common-queries","title":"Common Queries","text":""},{"location":"guides/nft-collection/#who-owns-a-specific-nft","title":"Who owns a specific NFT?","text":"<pre><code>owner = await owner_of(token_id=\"1234\")\n# Returns: \"0x123...\"\n</code></pre>"},{"location":"guides/nft-collection/#how-many-nfts-does-an-address-own","title":"How many NFTs does an address own?","text":"<pre><code>count = await balance_of(owner=\"0x...\")\n# Returns: \"5\"\n</code></pre>"},{"location":"guides/nft-collection/#get-nft-metadata","title":"Get NFT metadata","text":"<pre><code>uri = await token_uri(token_id=\"1234\")\n# Returns: \"ipfs://Qm.../1234\"\n</code></pre> <p>The URI typically points to JSON metadata: <pre><code>{\n  \"name\": \"Bored Ape #1234\",\n  \"description\": \"...\",\n  \"image\": \"ipfs://Qm.../1234.png\",\n  \"attributes\": [\n    {\"trait_type\": \"Background\", \"value\": \"Blue\"},\n    {\"trait_type\": \"Fur\", \"value\": \"Golden Brown\"}\n  ]\n}\n</code></pre></p>"},{"location":"guides/nft-collection/#list-all-nfts-owned-by-an-address","title":"List all NFTs owned by an address","text":"<pre><code># Get count\ncount = int(await balance_of(owner=\"0x...\"))\n\n# Get each token ID\ntokens = []\nfor i in range(count):\n    token_id = await token_of_owner_by_index(\n        owner=\"0x...\",\n        index=str(i)\n    )\n    tokens.append(token_id)\n</code></pre>"},{"location":"guides/nft-collection/#tracking-transfers","title":"Tracking Transfers","text":"<p>The server exposes Transfer events:</p> <pre><code># Recent transfers\ntransfers = await get_transfer_events(\n    from_block=current_block - 1000,\n    limit=20\n)\n\n# Transfers to a specific address\nincoming = await get_transfer_events(\n    to_address=\"0x...\",\n    limit=10\n)\n\n# Transfers from a specific address\noutgoing = await get_transfer_events(\n    from_address=\"0x...\",\n    limit=10\n)\n</code></pre> <p>Each transfer includes: <pre><code>{\n    \"from\": \"0x123...\",\n    \"to\": \"0x456...\",\n    \"tokenId\": \"1234\",\n    \"block_number\": 18500000,\n    \"transaction_hash\": \"0x...\"\n}\n</code></pre></p>"},{"location":"guides/nft-collection/#transferring-nfts","title":"Transferring NFTs","text":"<p>Irreversible</p> <p>NFT transfers cannot be undone. Always verify addresses carefully.</p>"},{"location":"guides/nft-collection/#simulate-first","title":"Simulate First","text":"<pre><code>result = await transfer_from(\n    from_=\"0x...\",  # Current owner (must be you or approved)\n    to=\"0x...\",     # Recipient\n    token_id=\"1234\",\n    simulate=True   # Default - just simulate\n)\n</code></pre>"},{"location":"guides/nft-collection/#execute-transfer","title":"Execute Transfer","text":"<pre><code>result = await transfer_from(\n    from_=\"0x...\",\n    to=\"0x...\",\n    token_id=\"1234\",\n    simulate=False  # Actually transfer\n)\n</code></pre>"},{"location":"guides/nft-collection/#safe-vs-regular-transfer","title":"Safe vs Regular Transfer","text":"<ul> <li><code>transfer_from</code> - Basic transfer</li> <li><code>safe_transfer_from</code> - Checks if recipient can receive NFTs</li> </ul> <p>Use Safe Transfers</p> <p><code>safe_transfer_from</code> prevents sending NFTs to contracts that can't handle them, avoiding permanent loss.</p>"},{"location":"guides/nft-collection/#erc1155-multi-token","title":"ERC1155 Multi-Token","text":"<p>For ERC1155 collections (like OpenSea Shared Storefront):</p> <pre><code>abi-to-mcp generate 0x495f947276749Ce646f68AC8c248420045cb7b5e \\\n    --network mainnet \\\n    --output ./opensea-shared\n</code></pre> <p>ERC1155 has different functions: - <code>balance_of(account, id)</code> - Balance of specific token ID - <code>balance_of_batch(accounts, ids)</code> - Multiple balances at once - <code>uri(id)</code> - Metadata URI</p>"},{"location":"guides/nft-collection/#working-with-ipfs","title":"Working with IPFS","text":"<p>Many NFT URIs use IPFS. To resolve them:</p> <pre><code># Replace ipfs:// with gateway\nuri = \"ipfs://QmeSjSinHpPnmXmspMjwiXyN6zS4E9zccariGR3jxcaWtq/1234\"\nhttp_uri = uri.replace(\"ipfs://\", \"https://ipfs.io/ipfs/\")\n</code></pre> <p>Popular IPFS gateways: - <code>https://ipfs.io/ipfs/</code> - <code>https://gateway.pinata.cloud/ipfs/</code> - <code>https://cloudflare-ipfs.com/ipfs/</code></p>"},{"location":"guides/nft-collection/#common-issues","title":"Common Issues","text":""},{"location":"guides/nft-collection/#erc721-owner-query-for-nonexistent-token","title":"\"ERC721: owner query for nonexistent token\"","text":"<p>The token ID doesn't exist. Check: - Token ID is within valid range (0 to totalSupply-1 or 1 to totalSupply) - Token hasn't been burned</p>"},{"location":"guides/nft-collection/#erc721-operator-query-for-nonexistent-token","title":"\"ERC721: operator query for nonexistent token\"","text":"<p>Same as above - invalid token ID.</p>"},{"location":"guides/nft-collection/#metadata-returns-empty","title":"Metadata returns empty","text":"<p>The contract might use: - A different metadata function - Off-chain metadata that requires API calls - Reveal mechanism (pre-reveal placeholder)</p>"},{"location":"guides/nft-collection/#cant-enumerate-tokens","title":"Can't enumerate tokens","text":"<p>Not all ERC721 contracts implement enumeration (<code>tokenOfOwnerByIndex</code>). You may need to: - Use Transfer events to track ownership - Use an indexing service</p>"},{"location":"guides/nft-collection/#next-steps","title":"Next Steps","text":"<ul> <li>DeFi Protocol - Complex multi-contract systems</li> <li>Claude Desktop - Use with Claude</li> <li>Custom Networks - NFTs on L2s</li> </ul>"},{"location":"reference/","title":"Reference","text":"<p>Quick reference tables and lookup information.</p>"},{"location":"reference/#reference-materials","title":"Reference Materials","text":"<ul> <li> <p> Networks</p> <p>Supported networks, chain IDs, RPC endpoints, and explorer APIs.</p> <p> Networks</p> </li> <li> <p> Type Table</p> <p>Complete Solidity to JSON Schema type mapping reference.</p> <p> Type Table</p> </li> <li> <p> ERC Standards</p> <p>Detected ERC standards and their required functions.</p> <p> ERC Standards</p> </li> <li> <p> Errors</p> <p>Error codes, messages, and troubleshooting.</p> <p> Errors</p> </li> </ul>"},{"location":"reference/#quick-lookup","title":"Quick Lookup","text":""},{"location":"reference/#common-type-mappings","title":"Common Type Mappings","text":"Solidity JSON Schema Type Pattern <code>address</code> <code>string</code> <code>^0x[a-fA-F0-9]{40}$</code> <code>uint256</code> <code>string</code> <code>^[0-9]+$</code> <code>bool</code> <code>boolean</code> - <code>bytes32</code> <code>string</code> <code>^0x[a-fA-F0-9]{64}$</code> <code>string</code> <code>string</code> -"},{"location":"reference/#common-networks","title":"Common Networks","text":"Network Chain ID CLI Flag Ethereum 1 <code>--network mainnet</code> Polygon 137 <code>--network polygon</code> Arbitrum 42161 <code>--network arbitrum</code> Base 8453 <code>--network base</code>"},{"location":"reference/#erc-detection","title":"ERC Detection","text":"Standard Key Functions ERC20 <code>transfer</code>, <code>balanceOf</code>, <code>totalSupply</code> ERC721 <code>ownerOf</code>, <code>safeTransferFrom</code> ERC1155 <code>balanceOfBatch</code>, <code>safeBatchTransferFrom</code>"},{"location":"reference/erc-standards/","title":"ERC Standards","text":"<p>abi-to-mcp automatically detects common ERC token standards based on function signatures.</p>"},{"location":"reference/erc-standards/#detection-logic","title":"Detection Logic","text":"<p>Standards are detected by checking for required function signatures:</p> <pre><code>graph TD\n    A[Parse ABI] --&gt; B{Has ERC20 functions?}\n    B --&gt;|Yes| C[ERC20]\n    B --&gt;|No| D{Has ERC721 functions?}\n    D --&gt;|Yes| E[ERC721]\n    D --&gt;|No| F{Has ERC1155 functions?}\n    F --&gt;|Yes| G[ERC1155]\n    F --&gt;|No| H[Unknown]</code></pre>"},{"location":"reference/erc-standards/#erc20-fungible-tokens","title":"ERC20: Fungible Tokens","text":"<p>The most common token standard for fungible tokens like USDC, DAI, LINK.</p>"},{"location":"reference/erc-standards/#required-functions","title":"Required Functions","text":"Function Signature State <code>name</code> <code>name() \u2192 string</code> view <code>symbol</code> <code>symbol() \u2192 string</code> view <code>decimals</code> <code>decimals() \u2192 uint8</code> view <code>totalSupply</code> <code>totalSupply() \u2192 uint256</code> view <code>balanceOf</code> <code>balanceOf(address) \u2192 uint256</code> view <code>transfer</code> <code>transfer(address,uint256) \u2192 bool</code> nonpayable <code>transferFrom</code> <code>transferFrom(address,address,uint256) \u2192 bool</code> nonpayable <code>approve</code> <code>approve(address,uint256) \u2192 bool</code> nonpayable <code>allowance</code> <code>allowance(address,address) \u2192 uint256</code> view"},{"location":"reference/erc-standards/#required-events","title":"Required Events","text":"Event Signature <code>Transfer</code> <code>Transfer(address indexed, address indexed, uint256)</code> <code>Approval</code> <code>Approval(address indexed, address indexed, uint256)</code>"},{"location":"reference/erc-standards/#common-extensions","title":"Common Extensions","text":"Extension Functions ERC20Permit <code>permit</code>, <code>nonces</code>, <code>DOMAIN_SEPARATOR</code> ERC20Burnable <code>burn</code>, <code>burnFrom</code> ERC20Mintable <code>mint</code> ERC20Pausable <code>pause</code>, <code>unpause</code>, <code>paused</code>"},{"location":"reference/erc-standards/#example-detection","title":"Example Detection","text":"<pre><code>from abi_to_mcp.parser import ABIParser\n\nparser = ABIParser()\nparsed = parser.parse(usdc_abi)\n\nassert parsed.detected_standard == \"ERC20\"\n</code></pre>"},{"location":"reference/erc-standards/#erc721-non-fungible-tokens","title":"ERC721: Non-Fungible Tokens","text":"<p>The standard for unique tokens like NFTs (BAYC, CryptoPunks, etc.).</p>"},{"location":"reference/erc-standards/#required-functions_1","title":"Required Functions","text":"Function Signature State <code>balanceOf</code> <code>balanceOf(address) \u2192 uint256</code> view <code>ownerOf</code> <code>ownerOf(uint256) \u2192 address</code> view <code>safeTransferFrom</code> <code>safeTransferFrom(address,address,uint256)</code> nonpayable <code>safeTransferFrom</code> <code>safeTransferFrom(address,address,uint256,bytes)</code> nonpayable <code>transferFrom</code> <code>transferFrom(address,address,uint256)</code> nonpayable <code>approve</code> <code>approve(address,uint256)</code> nonpayable <code>setApprovalForAll</code> <code>setApprovalForAll(address,bool)</code> nonpayable <code>getApproved</code> <code>getApproved(uint256) \u2192 address</code> view <code>isApprovedForAll</code> <code>isApprovedForAll(address,address) \u2192 bool</code> view"},{"location":"reference/erc-standards/#required-events_1","title":"Required Events","text":"Event Signature <code>Transfer</code> <code>Transfer(address indexed, address indexed, uint256 indexed)</code> <code>Approval</code> <code>Approval(address indexed, address indexed, uint256 indexed)</code> <code>ApprovalForAll</code> <code>ApprovalForAll(address indexed, address indexed, bool)</code>"},{"location":"reference/erc-standards/#common-extensions_1","title":"Common Extensions","text":"Extension Functions ERC721Metadata <code>name</code>, <code>symbol</code>, <code>tokenURI</code> ERC721Enumerable <code>totalSupply</code>, <code>tokenOfOwnerByIndex</code>, <code>tokenByIndex</code> ERC721Burnable <code>burn</code> ERC721Royalty <code>royaltyInfo</code> (ERC2981)"},{"location":"reference/erc-standards/#detection-priority","title":"Detection Priority","text":"<p>ERC721 detection requires <code>ownerOf</code> (unique to NFTs) to distinguish from ERC20.</p>"},{"location":"reference/erc-standards/#erc1155-multi-token","title":"ERC1155: Multi-Token","text":"<p>Supports both fungible and non-fungible tokens in a single contract.</p>"},{"location":"reference/erc-standards/#required-functions_2","title":"Required Functions","text":"Function Signature State <code>balanceOf</code> <code>balanceOf(address,uint256) \u2192 uint256</code> view <code>balanceOfBatch</code> <code>balanceOfBatch(address[],uint256[]) \u2192 uint256[]</code> view <code>setApprovalForAll</code> <code>setApprovalForAll(address,bool)</code> nonpayable <code>isApprovedForAll</code> <code>isApprovedForAll(address,address) \u2192 bool</code> view <code>safeTransferFrom</code> <code>safeTransferFrom(address,address,uint256,uint256,bytes)</code> nonpayable <code>safeBatchTransferFrom</code> <code>safeBatchTransferFrom(address,address,uint256[],uint256[],bytes)</code> nonpayable"},{"location":"reference/erc-standards/#required-events_2","title":"Required Events","text":"Event Signature <code>TransferSingle</code> <code>TransferSingle(address indexed, address indexed, address indexed, uint256, uint256)</code> <code>TransferBatch</code> <code>TransferBatch(address indexed, address indexed, address indexed, uint256[], uint256[])</code> <code>ApprovalForAll</code> <code>ApprovalForAll(address indexed, address indexed, bool)</code> <code>URI</code> <code>URI(string, uint256 indexed)</code>"},{"location":"reference/erc-standards/#common-extensions_2","title":"Common Extensions","text":"Extension Functions ERC1155MetadataURI <code>uri</code> ERC1155Supply <code>totalSupply</code>, <code>exists</code> ERC1155Burnable <code>burn</code>, <code>burnBatch</code>"},{"location":"reference/erc-standards/#detection-priority_1","title":"Detection Priority","text":"<p>ERC1155 is detected by <code>balanceOfBatch</code> (unique signature with two arrays).</p>"},{"location":"reference/erc-standards/#other-standards","title":"Other Standards","text":""},{"location":"reference/erc-standards/#erc4626-tokenized-vaults","title":"ERC4626: Tokenized Vaults","text":"<p>Yield-bearing vaults (like Yearn or Aave).</p> Function Signature <code>asset</code> <code>asset() \u2192 address</code> <code>deposit</code> <code>deposit(uint256,address) \u2192 uint256</code> <code>withdraw</code> <code>withdraw(uint256,address,address) \u2192 uint256</code> <code>convertToShares</code> <code>convertToShares(uint256) \u2192 uint256</code> <code>convertToAssets</code> <code>convertToAssets(uint256) \u2192 uint256</code>"},{"location":"reference/erc-standards/#erc2612-permit","title":"ERC2612: Permit","text":"<p>Gasless approvals for ERC20 tokens.</p> Function Signature <code>permit</code> <code>permit(address,address,uint256,uint256,uint8,bytes32,bytes32)</code> <code>nonces</code> <code>nonces(address) \u2192 uint256</code> <code>DOMAIN_SEPARATOR</code> <code>DOMAIN_SEPARATOR() \u2192 bytes32</code>"},{"location":"reference/erc-standards/#erc2981-nft-royalty","title":"ERC2981: NFT Royalty","text":"<p>Royalty information for NFT marketplaces.</p> Function Signature <code>royaltyInfo</code> <code>royaltyInfo(uint256,uint256) \u2192 (address,uint256)</code>"},{"location":"reference/erc-standards/#detection-in-practice","title":"Detection in Practice","text":""},{"location":"reference/erc-standards/#using-in-code","title":"Using in Code","text":"<pre><code>from abi_to_mcp.parser import ABIParser\n\nparser = ABIParser()\nparsed = parser.parse(abi)\n\nif parsed.detected_standard == \"ERC20\":\n    print(\"This is a fungible token\")\nelif parsed.detected_standard == \"ERC721\":\n    print(\"This is an NFT collection\")\nelif parsed.detected_standard == \"ERC1155\":\n    print(\"This is a multi-token contract\")\nelse:\n    print(\"Unknown or custom contract\")\n</code></pre>"},{"location":"reference/erc-standards/#cli-output","title":"CLI Output","text":"<pre><code>$ abi-to-mcp inspect 0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\n\n\ud83d\udccb Contract Analysis\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\n\ud83d\udcca Detected Standard: ERC20\n   \u2713 name\n   \u2713 symbol\n   \u2713 decimals\n   \u2713 totalSupply\n   \u2713 balanceOf\n   \u2713 transfer\n   \u2713 approve\n   \u2713 transferFrom\n   \u2713 allowance\n</code></pre>"},{"location":"reference/erc-standards/#standard-comparison","title":"Standard Comparison","text":"Feature ERC20 ERC721 ERC1155 Fungible \u2713 \u2717 \u2713 Non-Fungible \u2717 \u2713 \u2713 Multiple IDs \u2717 \u2713 \u2713 Batch Transfer \u2717 \u2717 \u2713 Token URI \u2717 \u2713 \u2713 Decimals \u2713 \u2717 \u2717"},{"location":"reference/erc-standards/#adding-custom-standards","title":"Adding Custom Standards","text":"<p>Extend the parser to detect custom standards:</p> <pre><code>from abi_to_mcp.parser import ABIParser\n\nclass CustomParser(ABIParser):\n    def detect_standard(self, functions, events):\n        # Check for custom standard\n        func_names = {f.name for f in functions}\n\n        if \"myCustomFunction\" in func_names:\n            return \"MyCustomStandard\"\n\n        # Fall back to default detection\n        return super().detect_standard(functions, events)\n</code></pre>"},{"location":"reference/errors/","title":"Errors &amp; Troubleshooting","text":"<p>Common errors and how to resolve them.</p>"},{"location":"reference/errors/#error-categories","title":"Error Categories","text":"Category Description <code>ABIError</code> Base error for all ABI-related issues <code>ABINotFoundError</code> ABI could not be retrieved <code>ABIParseError</code> ABI JSON structure is invalid <code>ABIValidationError</code> ABI content is invalid <code>NetworkError</code> Network/RPC related issues <code>GenerationError</code> Code generation failed"},{"location":"reference/errors/#fetching-errors","title":"Fetching Errors","text":""},{"location":"reference/errors/#contract-source-code-not-verified","title":"Contract source code not verified","text":"<pre><code>ABINotFoundError: Contract source code not verified\n</code></pre> <p>Cause: The contract is not verified on the block explorer.</p> <p>Solutions:</p> <ol> <li> <p>Use a local ABI file if you have one:    <pre><code>abi-to-mcp generate ./abi.json -a 0x...\n</code></pre></p> </li> <li> <p>Try Sourcify which may have the contract:    <pre><code>abi-to-mcp generate 0x... --prefer-sourcify\n</code></pre></p> </li> <li> <p>Verify the contract on Etherscan if you're the owner</p> </li> </ol>"},{"location":"reference/errors/#api-rate-limit-exceeded","title":"API rate limit exceeded","text":"<pre><code>NetworkError: API rate limit exceeded. Please try again later.\n</code></pre> <p>Cause: Too many API requests to the block explorer.</p> <p>Solutions:</p> <ol> <li> <p>Use an API key:    <pre><code>export ETHERSCAN_API_KEY=your-key-here\n</code></pre></p> </li> <li> <p>Wait and retry - rate limits usually reset quickly</p> </li> <li> <p>Use a paid API plan for higher limits</p> </li> </ol>"},{"location":"reference/errors/#invalid-address-format","title":"Invalid address format","text":"<pre><code>ABIValidationError: Invalid address format: 0x123\n</code></pre> <p>Cause: The address is not a valid Ethereum address.</p> <p>Solutions:</p> <ol> <li>Check address length - must be 42 characters (0x + 40 hex)</li> <li>Check for typos in the address</li> <li>Include 0x prefix</li> </ol>"},{"location":"reference/errors/#network-not-found","title":"Network not found","text":"<pre><code>NetworkError: Unknown network: mynetwork\n</code></pre> <p>Cause: The specified network is not configured.</p> <p>Solutions:</p> <ol> <li> <p>Check network name - use <code>--network mainnet</code>, not <code>--network ethereum</code></p> </li> <li> <p>See available networks:    <pre><code>abi-to-mcp networks list\n</code></pre></p> </li> <li> <p>Add custom network - see Custom Networks Guide</p> </li> </ol>"},{"location":"reference/errors/#parsing-errors","title":"Parsing Errors","text":""},{"location":"reference/errors/#invalid-abi-structure","title":"Invalid ABI structure","text":"<pre><code>ABIParseError: Invalid ABI: expected array, got object\n</code></pre> <p>Cause: The ABI is not a valid JSON array.</p> <p>Solutions:</p> <ol> <li> <p>Check file format - ABI should be a JSON array:    <pre><code>[{\"type\": \"function\", ...}, ...]\n</code></pre></p> </li> <li> <p>Extract from artifact - Hardhat/Truffle artifacts wrap ABI:    <pre><code>abi = artifact[\"abi\"]  # Extract ABI array\n</code></pre></p> </li> </ol>"},{"location":"reference/errors/#unknown-type","title":"Unknown type","text":"<pre><code>ABIParseError: Unknown Solidity type: myCustomType\n</code></pre> <p>Cause: A custom or non-standard type was found.</p> <p>Solutions:</p> <ol> <li> <p>Check ABI source - may be corrupted or modified</p> </li> <li> <p>User-defined types are typically tuples in the ABI:    <pre><code>{\"name\": \"param\", \"type\": \"tuple\", \"components\": [...]}\n</code></pre></p> </li> </ol>"},{"location":"reference/errors/#missing-required-field","title":"Missing required field","text":"<pre><code>ABIValidationError: Missing required field 'type' in ABI entry\n</code></pre> <p>Cause: An ABI entry is missing required fields.</p> <p>Solutions:</p> <ol> <li> <p>Validate ABI format using:    <pre><code>abi-to-mcp validate ./abi.json\n</code></pre></p> </li> <li> <p>Check ABI source - may be truncated or corrupted</p> </li> </ol>"},{"location":"reference/errors/#generation-errors","title":"Generation Errors","text":""},{"location":"reference/errors/#output-directory-exists","title":"Output directory exists","text":"<pre><code>GenerationError: Output directory already exists: ./my-server\n</code></pre> <p>Cause: The output directory is not empty.</p> <p>Solutions:</p> <ol> <li> <p>Use --force to overwrite:    <pre><code>abi-to-mcp generate 0x... -o ./my-server --force\n</code></pre></p> </li> <li> <p>Choose different directory:    <pre><code>abi-to-mcp generate 0x... -o ./my-server-v2\n</code></pre></p> </li> </ol>"},{"location":"reference/errors/#template-error","title":"Template error","text":"<pre><code>GenerationError: Template rendering failed: undefined variable 'xyz'\n</code></pre> <p>Cause: Custom template has an error.</p> <p>Solutions:</p> <ol> <li>Check custom templates for syntax errors</li> <li>Use default templates by removing custom template config</li> <li>Check variable names match available context</li> </ol>"},{"location":"reference/errors/#runtime-errors","title":"Runtime Errors","text":""},{"location":"reference/errors/#could-not-connect-to-rpc","title":"Could not connect to RPC","text":"<pre><code>NetworkError: Could not connect to RPC: https://...\n</code></pre> <p>Cause: The RPC endpoint is unreachable.</p> <p>Solutions:</p> <ol> <li>Check RPC URL is correct</li> <li>Check network connectivity</li> <li>Try a different RPC provider</li> <li>Check API key if using authenticated endpoint</li> </ol>"},{"location":"reference/errors/#execution-reverted","title":"execution reverted","text":"<pre><code>ContractRevertError: execution reverted: ERC20: transfer amount exceeds balance\n</code></pre> <p>Cause: The contract function reverted.</p> <p>Common Causes:</p> Message Meaning <code>transfer amount exceeds balance</code> Not enough tokens <code>insufficient allowance</code> Need to approve first <code>Ownable: caller is not the owner</code> Only owner can call <code>Pausable: paused</code> Contract is paused <p>Solutions:</p> <ol> <li>Check balances before transferring</li> <li>Check allowances before transferFrom</li> <li>Verify permissions for restricted functions</li> <li>Check contract state (paused, etc.)</li> </ol>"},{"location":"reference/errors/#insufficient-funds-for-gas","title":"Insufficient funds for gas","text":"<pre><code>InsufficientFundsError: Insufficient funds for gas * price + value\n</code></pre> <p>Cause: Not enough ETH for transaction gas.</p> <p>Solutions:</p> <ol> <li>Add ETH to your wallet</li> <li>Reduce gas price (may take longer)</li> <li>Use simulation to estimate cost first</li> </ol>"},{"location":"reference/errors/#nonce-too-low","title":"Nonce too low","text":"<pre><code>TransactionError: nonce too low\n</code></pre> <p>Cause: Transaction with this nonce already mined.</p> <p>Solutions:</p> <ol> <li>Wait for pending transactions to confirm</li> <li>Get current nonce from chain:    <pre><code>nonce = await w3.eth.get_transaction_count(address)\n</code></pre></li> </ol>"},{"location":"reference/errors/#chain-id-mismatch","title":"Chain ID mismatch","text":"<pre><code>NetworkError: Chain ID mismatch: expected 1, got 137\n</code></pre> <p>Cause: Connected to wrong network.</p> <p>Solutions:</p> <ol> <li>Check RPC URL matches intended network</li> <li>Check chain ID in configuration</li> <li>Use correct network flag:    <pre><code>abi-to-mcp generate 0x... -n polygon  # Not mainnet\n</code></pre></li> </ol>"},{"location":"reference/errors/#troubleshooting-checklist","title":"Troubleshooting Checklist","text":""},{"location":"reference/errors/#generation-issues","title":"Generation Issues","text":"<ul> <li>[ ] Is the ABI source valid? (<code>abi-to-mcp validate</code>)</li> <li>[ ] Is the address correct format?</li> <li>[ ] Is the network specified correctly?</li> <li>[ ] Do you have an API key set?</li> <li>[ ] Is the output directory writable?</li> </ul>"},{"location":"reference/errors/#runtime-issues","title":"Runtime Issues","text":"<ul> <li>[ ] Is RPC_URL set correctly?</li> <li>[ ] Is the RPC endpoint accessible?</li> <li>[ ] Is PRIVATE_KEY set (for writes)?</li> <li>[ ] Do you have sufficient balance?</li> <li>[ ] Are you on the correct network?</li> </ul>"},{"location":"reference/errors/#contract-issues","title":"Contract Issues","text":"<ul> <li>[ ] Is the contract verified?</li> <li>[ ] Is the contract address correct?</li> <li>[ ] Is the contract on this network?</li> <li>[ ] Is the ABI up to date?</li> </ul>"},{"location":"reference/errors/#getting-help","title":"Getting Help","text":"<p>If you can't resolve an issue:</p> <ol> <li> <p>Check existing issues: GitHub Issues</p> </li> <li> <p>Open a new issue with:</p> </li> <li>Full error message</li> <li>Command or code used</li> <li>ABI file (if not from verified contract)</li> <li> <p>Network and address</p> </li> <li> <p>Enable debug logging:    <pre><code>export ABI_TO_MCP_LOG_LEVEL=DEBUG\nabi-to-mcp generate 0x...\n</code></pre></p> </li> </ol>"},{"location":"reference/networks/","title":"Supported Networks","text":"<p>abi-to-mcp supports many EVM-compatible networks out of the box.</p>"},{"location":"reference/networks/#mainnets","title":"Mainnets","text":"Network Chain ID CLI Flag Explorer API Ethereum 1 <code>mainnet</code> api.etherscan.io Polygon 137 <code>polygon</code> api.polygonscan.com Arbitrum One 42161 <code>arbitrum</code> api.arbiscan.io Optimism 10 <code>optimism</code> api-optimistic.etherscan.io Base 8453 <code>base</code> api.basescan.org BNB Smart Chain 56 <code>bsc</code> api.bscscan.com Avalanche C-Chain 43114 <code>avalanche</code> api.snowtrace.io Fantom 250 <code>fantom</code> api.ftmscan.com Gnosis 100 <code>gnosis</code> api.gnosisscan.io"},{"location":"reference/networks/#testnets","title":"Testnets","text":"Network Chain ID CLI Flag Explorer API Sepolia 11155111 <code>sepolia</code> api-sepolia.etherscan.io Goerli (deprecated) 5 <code>goerli</code> api-goerli.etherscan.io Mumbai 80001 <code>mumbai</code> api-testnet.polygonscan.com Arbitrum Sepolia 421614 <code>arbitrum-sepolia</code> api-sepolia.arbiscan.io Optimism Sepolia 11155420 <code>optimism-sepolia</code> api-sepolia-optimistic.etherscan.io Base Sepolia 84532 <code>base-sepolia</code> api-sepolia.basescan.org"},{"location":"reference/networks/#layer-2-networks","title":"Layer 2 Networks","text":"Network Chain ID CLI Flag Type Arbitrum One 42161 <code>arbitrum</code> Optimistic Rollup Optimism 10 <code>optimism</code> Optimistic Rollup Base 8453 <code>base</code> Optimistic Rollup zkSync Era 324 <code>zksync</code> ZK Rollup Polygon zkEVM 1101 <code>polygon-zkevm</code> ZK Rollup Linea 59144 <code>linea</code> ZK Rollup"},{"location":"reference/networks/#network-configuration","title":"Network Configuration","text":""},{"location":"reference/networks/#environment-variables","title":"Environment Variables","text":"<p>Each network can use specific API key environment variables:</p> Network API Key Variable Ethereum <code>ETHERSCAN_API_KEY</code> Polygon <code>POLYGONSCAN_API_KEY</code> Arbitrum <code>ARBISCAN_API_KEY</code> Optimism <code>OPTIMISM_API_KEY</code> Base <code>BASESCAN_API_KEY</code> BSC <code>BSCSCAN_API_KEY</code>"},{"location":"reference/networks/#default-rpc-endpoints","title":"Default RPC Endpoints","text":"<p>Rate Limits</p> <p>Default public endpoints have rate limits. For production, use dedicated providers like Alchemy, Infura, or QuickNode.</p> Network Default RPC Ethereum <code>https://eth.llamarpc.com</code> Polygon <code>https://polygon.llamarpc.com</code> Arbitrum <code>https://arb1.arbitrum.io/rpc</code> Optimism <code>https://mainnet.optimism.io</code> Base <code>https://mainnet.base.org</code>"},{"location":"reference/networks/#usage-examples","title":"Usage Examples","text":""},{"location":"reference/networks/#generate-for-different-networks","title":"Generate for Different Networks","text":"<pre><code># Ethereum mainnet (default)\nabi-to-mcp generate 0x... -n mainnet\n\n# Polygon\nabi-to-mcp generate 0x... -n polygon\n\n# Arbitrum\nabi-to-mcp generate 0x... -n arbitrum\n\n# Base\nabi-to-mcp generate 0x... -n base\n</code></pre>"},{"location":"reference/networks/#custom-rpc-url","title":"Custom RPC URL","text":"<p>Override the default RPC in your <code>.env</code>:</p> <pre><code># Use Alchemy\nRPC_URL=https://eth-mainnet.g.alchemy.com/v2/YOUR-KEY\n\n# Use Infura\nRPC_URL=https://mainnet.infura.io/v3/YOUR-KEY\n\n# Use QuickNode\nRPC_URL=https://your-endpoint.quiknode.pro/YOUR-KEY/\n</code></pre>"},{"location":"reference/networks/#network-details","title":"Network Details","text":""},{"location":"reference/networks/#ethereum-mainnet","title":"Ethereum Mainnet","text":"<pre><code>name: Ethereum Mainnet\nchain_id: 1\ncurrency:\n  name: Ether\n  symbol: ETH\n  decimals: 18\nblock_time: ~12 seconds\nexplorer: https://etherscan.io\n</code></pre>"},{"location":"reference/networks/#polygon","title":"Polygon","text":"<pre><code>name: Polygon\nchain_id: 137\ncurrency:\n  name: MATIC\n  symbol: MATIC\n  decimals: 18\nblock_time: ~2 seconds\nexplorer: https://polygonscan.com\n</code></pre>"},{"location":"reference/networks/#arbitrum-one","title":"Arbitrum One","text":"<pre><code>name: Arbitrum One\nchain_id: 42161\ncurrency:\n  name: Ether\n  symbol: ETH\n  decimals: 18\nblock_time: ~0.25 seconds\nexplorer: https://arbiscan.io\n</code></pre>"},{"location":"reference/networks/#optimism","title":"Optimism","text":"<pre><code>name: Optimism\nchain_id: 10\ncurrency:\n  name: Ether\n  symbol: ETH\n  decimals: 18\nblock_time: ~2 seconds\nexplorer: https://optimistic.etherscan.io\n</code></pre>"},{"location":"reference/networks/#base","title":"Base","text":"<pre><code>name: Base\nchain_id: 8453\ncurrency:\n  name: Ether\n  symbol: ETH\n  decimals: 18\nblock_time: ~2 seconds\nexplorer: https://basescan.org\n</code></pre>"},{"location":"reference/networks/#adding-custom-networks","title":"Adding Custom Networks","text":"<p>See the Custom Network Guide for adding networks not listed here.</p>"},{"location":"reference/networks/#configuration-file","title":"Configuration File","text":"<p>Create <code>~/.abi-to-mcp/networks.json</code>:</p> <pre><code>{\n  \"networks\": {\n    \"my-network\": {\n      \"name\": \"My Network\",\n      \"chain_id\": 12345,\n      \"rpc_url\": \"https://rpc.my-network.com\",\n      \"explorer_url\": \"https://api.my-explorer.com/api\",\n      \"explorer_api_key_env\": \"MY_NETWORK_API_KEY\",\n      \"currency\": {\n        \"name\": \"MyCoin\",\n        \"symbol\": \"MYC\",\n        \"decimals\": 18\n      }\n    }\n  }\n}\n</code></pre> <p>Then use:</p> <pre><code>abi-to-mcp generate 0x... -n my-network\n</code></pre>"},{"location":"reference/type-table/","title":"Type Mapping Table","text":"<p>Complete reference for how Solidity types are mapped to JSON Schema.</p>"},{"location":"reference/type-table/#integer-types","title":"Integer Types","text":""},{"location":"reference/type-table/#unsigned-integers","title":"Unsigned Integers","text":"Solidity JSON Schema Python Notes <code>uint8</code> <code>{\"type\": \"string\", \"pattern\": \"^[0-9]+$\"}</code> <code>str</code> 0 to 255 <code>uint16</code> <code>{\"type\": \"string\", \"pattern\": \"^[0-9]+$\"}</code> <code>str</code> 0 to 65,535 <code>uint24</code> <code>{\"type\": \"string\", \"pattern\": \"^[0-9]+$\"}</code> <code>str</code> Used for Uniswap fees <code>uint32</code> <code>{\"type\": \"string\", \"pattern\": \"^[0-9]+$\"}</code> <code>str</code> 0 to 4.29B <code>uint64</code> <code>{\"type\": \"string\", \"pattern\": \"^[0-9]+$\"}</code> <code>str</code> Common for timestamps <code>uint128</code> <code>{\"type\": \"string\", \"pattern\": \"^[0-9]+$\"}</code> <code>str</code> Large numbers <code>uint256</code> <code>{\"type\": \"string\", \"pattern\": \"^[0-9]+$\"}</code> <code>str</code> Most common"},{"location":"reference/type-table/#signed-integers","title":"Signed Integers","text":"Solidity JSON Schema Python Notes <code>int8</code> <code>{\"type\": \"string\", \"pattern\": \"^-?[0-9]+$\"}</code> <code>str</code> -128 to 127 <code>int16</code> <code>{\"type\": \"string\", \"pattern\": \"^-?[0-9]+$\"}</code> <code>str</code> -32,768 to 32,767 <code>int24</code> <code>{\"type\": \"string\", \"pattern\": \"^-?[0-9]+$\"}</code> <code>str</code> Uniswap tick <code>int32</code> <code>{\"type\": \"string\", \"pattern\": \"^-?[0-9]+$\"}</code> <code>str</code> Standard signed <code>int64</code> <code>{\"type\": \"string\", \"pattern\": \"^-?[0-9]+$\"}</code> <code>str</code> Large signed <code>int128</code> <code>{\"type\": \"string\", \"pattern\": \"^-?[0-9]+$\"}</code> <code>str</code> Very large signed <code>int256</code> <code>{\"type\": \"string\", \"pattern\": \"^-?[0-9]+$\"}</code> <code>str</code> Maximum signed <p>Why Strings for Numbers?</p> <p>JSON numbers have precision limits (~15-17 significant digits). Solidity integers can be up to 256 bits (78 digits). Using strings preserves full precision.</p>"},{"location":"reference/type-table/#address-type","title":"Address Type","text":"Solidity JSON Schema Python <code>address</code> <code>{\"type\": \"string\", \"pattern\": \"^0x[a-fA-F0-9]{40}$\"}</code> <code>str</code> <p>Valid examples: <pre><code>0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48  \u2713\n0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48  \u2713 (lowercase OK)\n0xA0B86991C6218B36C1D19D4A2E9EB0CE3606EB48  \u2713 (uppercase OK)\n</code></pre></p> <p>Invalid examples: <pre><code>A0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48   \u2717 (missing 0x)\n0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB4  \u2717 (39 chars)\n</code></pre></p>"},{"location":"reference/type-table/#boolean-type","title":"Boolean Type","text":"Solidity JSON Schema Python <code>bool</code> <code>{\"type\": \"boolean\"}</code> <code>bool</code> <p>Valid examples: <pre><code>true   \u2713\nfalse  \u2713\n</code></pre></p>"},{"location":"reference/type-table/#bytes-types","title":"Bytes Types","text":""},{"location":"reference/type-table/#fixed-size-bytes","title":"Fixed-Size Bytes","text":"Solidity JSON Schema Python Hex Length <code>bytes1</code> <code>{\"type\": \"string\", \"pattern\": \"^0x[a-fA-F0-9]{2}$\"}</code> <code>str</code> 2 <code>bytes2</code> <code>{\"type\": \"string\", \"pattern\": \"^0x[a-fA-F0-9]{4}$\"}</code> <code>str</code> 4 <code>bytes4</code> <code>{\"type\": \"string\", \"pattern\": \"^0x[a-fA-F0-9]{8}$\"}</code> <code>str</code> 8 <code>bytes8</code> <code>{\"type\": \"string\", \"pattern\": \"^0x[a-fA-F0-9]{16}$\"}</code> <code>str</code> 16 <code>bytes16</code> <code>{\"type\": \"string\", \"pattern\": \"^0x[a-fA-F0-9]{32}$\"}</code> <code>str</code> 32 <code>bytes20</code> <code>{\"type\": \"string\", \"pattern\": \"^0x[a-fA-F0-9]{40}$\"}</code> <code>str</code> 40 <code>bytes32</code> <code>{\"type\": \"string\", \"pattern\": \"^0x[a-fA-F0-9]{64}$\"}</code> <code>str</code> 64"},{"location":"reference/type-table/#dynamic-bytes","title":"Dynamic Bytes","text":"Solidity JSON Schema Python <code>bytes</code> <code>{\"type\": \"string\", \"pattern\": \"^0x[a-fA-F0-9]*$\"}</code> <code>str</code> <p>Valid examples: <pre><code>0x                         \u2713 (empty bytes)\n0x1234                     \u2713\n0xabcdef0123456789         \u2713\n</code></pre></p>"},{"location":"reference/type-table/#string-type","title":"String Type","text":"Solidity JSON Schema Python <code>string</code> <code>{\"type\": \"string\"}</code> <code>str</code> <p>No pattern validation - any string is valid.</p>"},{"location":"reference/type-table/#array-types","title":"Array Types","text":""},{"location":"reference/type-table/#dynamic-arrays","title":"Dynamic Arrays","text":"Solidity JSON Schema Python <code>T[]</code> <code>{\"type\": \"array\", \"items\": &lt;T schema&gt;}</code> <code>List[T]</code> <p>Examples:</p> <pre><code>// address[]\n{\n  \"type\": \"array\",\n  \"items\": {\n    \"type\": \"string\",\n    \"pattern\": \"^0x[a-fA-F0-9]{40}$\"\n  }\n}\n\n// uint256[]\n{\n  \"type\": \"array\",\n  \"items\": {\n    \"type\": \"string\",\n    \"pattern\": \"^[0-9]+$\"\n  }\n}\n</code></pre>"},{"location":"reference/type-table/#fixed-size-arrays","title":"Fixed-Size Arrays","text":"Solidity JSON Schema Python <code>T[N]</code> <code>{\"type\": \"array\", \"items\": &lt;T schema&gt;, \"minItems\": N, \"maxItems\": N}</code> <code>List[T]</code> <p>Example:</p> <pre><code>// bytes32[3]\n{\n  \"type\": \"array\",\n  \"items\": {\n    \"type\": \"string\",\n    \"pattern\": \"^0x[a-fA-F0-9]{64}$\"\n  },\n  \"minItems\": 3,\n  \"maxItems\": 3\n}\n</code></pre>"},{"location":"reference/type-table/#nested-arrays","title":"Nested Arrays","text":"Solidity JSON Schema Python <code>T[][]</code> <code>{\"type\": \"array\", \"items\": {\"type\": \"array\", \"items\": &lt;T schema&gt;}}</code> <code>List[List[T]]</code> <p>Example:</p> <pre><code>// uint256[][]\n{\n  \"type\": \"array\",\n  \"items\": {\n    \"type\": \"array\",\n    \"items\": {\n      \"type\": \"string\",\n      \"pattern\": \"^[0-9]+$\"\n    }\n  }\n}\n</code></pre>"},{"location":"reference/type-table/#tuple-types-structs","title":"Tuple Types (Structs)","text":"<p>Tuples are mapped to JSON objects:</p> Solidity JSON Schema Python <code>tuple</code> <code>{\"type\": \"object\", \"properties\": {...}, \"required\": [...]}</code> <code>Dict[str, Any]</code> <p>Example:</p> <p>Solidity struct: <pre><code>struct SwapParams {\n    address tokenIn;\n    address tokenOut;\n    uint24 fee;\n    uint256 amountIn;\n}\n</code></pre></p> <p>JSON Schema: <pre><code>{\n  \"type\": \"object\",\n  \"properties\": {\n    \"tokenIn\": {\n      \"type\": \"string\",\n      \"pattern\": \"^0x[a-fA-F0-9]{40}$\"\n    },\n    \"tokenOut\": {\n      \"type\": \"string\",\n      \"pattern\": \"^0x[a-fA-F0-9]{40}$\"\n    },\n    \"fee\": {\n      \"type\": \"string\",\n      \"pattern\": \"^[0-9]+$\"\n    },\n    \"amountIn\": {\n      \"type\": \"string\",\n      \"pattern\": \"^[0-9]+$\"\n    }\n  },\n  \"required\": [\"tokenIn\", \"tokenOut\", \"fee\", \"amountIn\"]\n}\n</code></pre></p>"},{"location":"reference/type-table/#special-cases","title":"Special Cases","text":""},{"location":"reference/type-table/#function-selectors","title":"Function Selectors","text":"<p><code>bytes4</code> is commonly used for function selectors:</p> <pre><code>{\n  \"type\": \"string\",\n  \"pattern\": \"^0x[a-fA-F0-9]{8}$\",\n  \"description\": \"Function selector (4 bytes)\"\n}\n</code></pre>"},{"location":"reference/type-table/#merkle-proofs","title":"Merkle Proofs","text":"<p><code>bytes32[]</code> is commonly used for Merkle proofs:</p> <pre><code>{\n  \"type\": \"array\",\n  \"items\": {\n    \"type\": \"string\",\n    \"pattern\": \"^0x[a-fA-F0-9]{64}$\"\n  },\n  \"description\": \"Merkle proof (array of 32-byte hashes)\"\n}\n</code></pre>"},{"location":"reference/type-table/#calldata","title":"Calldata","text":"<p><code>bytes</code> is used for encoded calldata:</p> <pre><code>{\n  \"type\": \"string\",\n  \"pattern\": \"^0x[a-fA-F0-9]*$\",\n  \"description\": \"Encoded function call data\"\n}\n</code></pre>"},{"location":"reference/type-table/#validation-examples","title":"Validation Examples","text":""},{"location":"reference/type-table/#valid-inputs","title":"Valid Inputs","text":"<pre><code># address\n\"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\"  \u2713\n\n# uint256\n\"1000000000000000000\"  \u2713  # 1e18\n\n# bool\nTrue   \u2713\nFalse  \u2713\n\n# bytes32\n\"0x0000000000000000000000000000000000000000000000000000000000000001\"  \u2713\n\n# address[]\n[\"0xA0b8...\", \"0x1234...\"]  \u2713\n\n# Empty array\n[]  \u2713\n</code></pre>"},{"location":"reference/type-table/#invalid-inputs","title":"Invalid Inputs","text":"<pre><code># address - missing 0x prefix\n\"A0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\"  \u2717\n\n# uint256 - native number (loses precision)\n1000000000000000000  \u2717\n\n# uint256 - negative not allowed\n\"-1\"  \u2717\n\n# bool - string instead of boolean\n\"true\"  \u2717\n\n# bytes32 - wrong length\n\"0x01\"  \u2717\n</code></pre>"}]}